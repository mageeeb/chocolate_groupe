/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FComponent%2FrecipeSectionHeader%2FrecipeSectionHeader.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Component/recipeSectionHeader/recipeSectionHeader.js?v=202406200958 **/
(function(){var veggieTwinLinkClassName='veggie-twin-link';var veggieEls=document.getElementsByClassName(veggieTwinLinkClassName);for(var i in veggieEls){if(veggieEls.hasOwnProperty(i)){af_addEvent(veggieEls[i],'click',function(e){if(unify_dataSlayer===undefined){return;}
var veggieEl=e.target.classList.contains(veggieTwinLinkClassName)?e.target:af_findAncestor(e.target,veggieTwinLinkClassName);unify_dataSlayer.push({event:'uaevent',eventCategory:'Recettes',eventAction:'Switch to veggie',eventLabel:veggieEl.getAttribute('data-recipe-id')+' - '+veggieEl.getAttribute('data-veggie-id')});},false);}}})();




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FComponent%2FrecipeIngredientList%2FrecipeIngredientList.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Component/recipeIngredientList/recipeIngredientList.js?v=202406200958 **/
(function(){var horizontalDisplay=document.querySelector('.horizontal-display'),verticalDisplay=document.querySelector('.vertical-display'),recettesContent=document.querySelector('.mrtn-recette_ingredients-content');horizontalDisplay.addEventListener('click',function(){recettesContent.classList.add('horizontal-items');});verticalDisplay.addEventListener('click',function(){recettesContent.classList.remove('horizontal-items');});var getBrandIngredientGroupEvent=function(firstDisplay){var visibleIngredients=Array.from(document.querySelectorAll('.card-ingredient:not([data-brandId=""])')).filter(function(el){return el.getAttribute('data-visibleOnFirstDisplay')===(firstDisplay?'true':'false');});if(visibleIngredients.length>0){return{event:'view_item_list',ecommerce:{items:visibleIngredients.map(function(visibleIngredient){var name=visibleIngredient.getAttribute('data-name'),brandId=visibleIngredient.getAttribute('data-brandId'),brandName=visibleIngredient.getAttribute('data-brandName');return{item_name:name,item_id:'['+brandName+'] '+brandId+' - '+name,item_brand:'['+brandName+'] '+brandId,item_list_name:'OPS',item_category:'Ingredient',};}),},};}else{return null;}};var buttonShowMore=document.querySelector('.mrtn-recette_ingredients-show-more');var firstClick=true;buttonShowMore.addEventListener('click',function(){recettesContent.classList.toggle('show-more');if(firstClick&&unify_dataSlayer!==undefined){firstClick=false;unify_dataSlayer.push({ecommerce:null});unify_dataSlayer.push(getBrandIngredientGroupEvent(false));}});if(document.querySelector('.card-ingredient[data-visibleOnFirstDisplay="false"]')){recettesContent.classList.add('show-more');recettesContent.classList.remove('no-show-more');}
if(unify_dataSlayer!==undefined){unify_dataSlayer.push({ecommerce:null});unify_dataSlayer.push(getBrandIngredientGroupEvent(true));}
var ingredientLinks=document.getElementsByClassName('card-ingredient-link');for(var i in ingredientLinks){if(ingredientLinks.hasOwnProperty(i)){af_addEvent(ingredientLinks[i],'click',function(e){var ingredientEl=af_findAncestor(e.target,'card-ingredient');var name=ingredientEl.getAttribute('data-name'),brandId=ingredientEl.getAttribute('data-brandId'),brandName=ingredientEl.getAttribute('data-brandName');if(unify_dataSlayer===undefined||brandId===''){return;}
unify_dataSlayer.push({ecommerce:null});unify_dataSlayer.push({event:'select_item',ecommerce:{items:[{item_name:ingredientEl.getAttribute('data-name'),item_id:'['+brandName+'] '+brandId+' - '+name,item_brand:'['+brandName+'] '+brandId,item_list_name:'OPS',item_category:'Ingredient',}]}});},false);}}
var counterContainer=document.querySelector('.mrtn-recette_ingredients-counter');if(counterContainer!==null){var formatQuantity=function(quantity){var integerPart=Math.floor(quantity);if(quantity<1){if(quantity<1/4/2){return integerPart;}else if(quantity<1/4-((1/3-1/4)/2)){return'1/4';}else if(quantity<1/3-((1/2-1/3)/2)){return'1/3';}else if(quantity<1/2-((2/3-1/2)/2)){return'1/2';}else if(quantity<2/3-((3/4-2/3)/2)){return'2/3';}else if(quantity<3/4-((1-3/4)/2)){return'3/4';}else{return 1;}}else{var decimalPart=quantity-integerPart;if(decimalPart<0.2){return integerPart;}else if(decimalPart>0.7){return integerPart+1;}else{return integerPart+0.5;}}};var ingredients=document.getElementsByClassName('card-ingredient');new Mrtn.RecipeCounter({replace:true,container:counterContainer,value:parseInt(counterContainer.getAttribute('data-servingsNb')),unit:counterContainer.getAttribute('data-servingsUnit'),min:1,max:50,onchange:function(event){var newServingsNumber=parseInt(af_findAncestor(event.target,'mrtn-recette_ingredients-counter').querySelector('input').value);for(var j in ingredients){if(ingredients.hasOwnProperty(j)){var ingredientQuantityEl=ingredients[j].querySelector('.card-ingredient-quantity');var ingredientQuantityCountEl=ingredientQuantityEl.querySelector('.count');var newValue=formatQuantity((newServingsNumber*parseInt(ingredientQuantityEl.getAttribute('data-ingredientQuantity')))/parseInt(recettesContent.getAttribute('data-servingsCount')));if(newValue>0){ingredientQuantityCountEl.innerHTML=newValue;}
var ingredientQuantityUnitEl=ingredientQuantityEl.querySelector('.unit');var ingredientNameEl=ingredients[j].querySelector('.card-ingredient-title .ingredient-name');var ingredientComplementEl=ingredients[j].querySelector('.card-ingredient-title .ingredient-complement');ingredientQuantityUnitEl.innerHTML=newValue>=2?ingredientQuantityUnitEl.getAttribute('data-unitPlural'):ingredientQuantityUnitEl.getAttribute('data-unitSingular');ingredientNameEl.innerHTML=newValue>=2?ingredientNameEl.getAttribute('data-ingredientNamePlural'):ingredientNameEl.getAttribute('data-ingredientNameSingular');ingredientComplementEl.innerHTML=newValue>=2?ingredientComplementEl.getAttribute('data-ingredientComplementPlural'):ingredientComplementEl.getAttribute('data-ingredientComplementSingular');}}},});}})();




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FComponent%2FrecipeUtensilList%2FrecipeUtensilList.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Component/recipeUtensilList/recipeUtensilList.js?v=202406200958 **/
(function(){var getBrandUtensilGroupEvent=function(firstDisplay){var visibleUtensils=Array.from(document.querySelectorAll('.card-utensil:not([data-brandId=""])')).filter(function(el){return el.getAttribute('data-visibleOnFirstDisplay')===(firstDisplay?'true':'false');});if(visibleUtensils.length>0){return{event:'view_item_list',ecommerce:{items:visibleUtensils.map(function(visibleUtensil){var name=visibleUtensil.getAttribute('data-name'),brandId=visibleUtensil.getAttribute('data-brandId'),brandName=visibleUtensil.getAttribute('data-brandName');return{item_name:name,item_id:'['+brandName+'] '+brandId+' - '+name,item_brand:'['+brandName+'] '+brandId,item_list_name:'OPS',item_category:'Utensil',};}),},};}else{return null;}};var buttonShowMore=document.querySelector('.mrtn-recette_utensils-show-more');var recettesContent=document.querySelector('.mrtn-recette_utensils-content');var firstClick=true;buttonShowMore.addEventListener('click',function(){recettesContent.classList.toggle('show-more');if(firstClick&&unify_dataSlayer!==undefined){firstClick=false;unify_dataSlayer.push({ecommerce:null});unify_dataSlayer.push(getBrandUtensilGroupEvent(false));}});if(unify_dataSlayer!==undefined){unify_dataSlayer.push({ecommerce:null});unify_dataSlayer.push(getBrandUtensilGroupEvent(true));}
var cardUstensilClass='card-utensil';var utensilLinks=document.getElementsByClassName(cardUstensilClass);for(var i in utensilLinks){if(utensilLinks.hasOwnProperty(i)){af_addEvent(utensilLinks[i],'click',function(e){var utensilEl=e.target.classList.contains(cardUstensilClass)?e.target:af_findAncestor(e.target,cardUstensilClass);var name=utensilEl.getAttribute('data-name'),brandId=utensilEl.getAttribute('data-brandId'),brandName=utensilEl.getAttribute('data-brandName');if(unify_dataSlayer===undefined||brandId===''){return;}
unify_dataSlayer.push({item_name:utensilEl.getAttribute('data-name'),item_id:'['+brandName+'] '+brandId+' - '+name,item_brand:'['+brandName+'] '+brandId,item_list_name:'OPS',item_category:'Utensil',});},false);}}})();




