"use strict";var DEBUG=window.nadzDebug||false;if(DEBUG==true)console.log("Nadz debug mode enabled",window["_nAdzq"]);function __nadzDebug(e,t){var t=typeof t!=="undefined"?t:0;if(DEBUG){if(typeof window["console"]=="undefined"){window["console"]={log:function(e){}}}if(t){window["console"].error(e)}else{window["console"].log(e)}}}function NadzLoadIframeTrigger(e){var t=document.getElementsByTagName("body")[0],n=document.createElement("iframe");if(!t){t=document.documentElement}var i=document.createElement("div");i.height="1px";i.width="1px";i.style.position="absolute";i.style.top="-42px";i.style.left="-42px";i.style.display="none";t.appendChild(i);n.src=window.swPath+"nadzTrigger.html?params="+window.btoa(JSON.stringify(e));n.id="nadz_p_iframe";n.name="nadz_p_iframe";n.height="1px";n.width="1px";n.style.position="absolute";n.style.top="-42px";n.style.left="-42px";i.appendChild(n)}window["_nAdzq"]=window["_nAdzq"]||[];function __getMainDomainUrl(){let e=window.location.href,t=e.split("/");return window.location.protocol+"//"+t[2]}window["NADZ"]=window["NADZ"]||function(){var n="https://notifpush.com";function e(){__nadzDebug("Start of Action function");let e=new Date;e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);let q=Math.ceil(e.valueOf()/1e3);var g="",t=false,n=3,d={},r=false,c="/",l="serviceworker.js?v="+q,u=false,i=1,o=null,j="https://notifpush.com",a="",s="",f="1",L=false,p=false,w=0,m=j+"/templates",h=1440,v=undefined,B="",y=undefined,F=undefined,U=false,b=false,W=1,R=true,J=true,H=false;window.xandrId="";window.nexxId="";window.nadzSubDomainCapping=false;window.nadzPrivacyPolicyUrl=__getMainDomainUrl();window.nadzClean=true;window.nadzForceFF=0;window.nadzAuthorized=true;window.swPath=c;window.swName=l;window.nadzNativeDomain=false;window.nadzregister=false;window.iosWallet=false;window.ios=0;window.counter=0;window.nadzEMercant=0;window.nadzRmkt=false;window.nadzCustomCss="";window.noDesktopTemplate=false;window.noMobileTemplate=false;window.nadzNoCmp=false;window.nadzDomainCheckStatus="MONITORING";window.nadzAllowedWebsite="";function G(){let e=true,t=E();if(t==true)e=J;else e=R;return H==false&&e==true&&!ye()}function X(){return window.location.pathname.substring(1).split("/")[0]==""}function V(){let e=document.querySelector("meta[property='og:title']"),t=document.querySelector("meta[property='og:url']"),n=document.querySelector("meta[property='og:image']"),i=document.querySelector("meta[property='og:description']"),o=undefined;if(e!=undefined&&t!=undefined&&n!=undefined&&i!=undefined){e=e.getAttribute("content");t=t.getAttribute("content");n=n.getAttribute("content");i=i.getAttribute("content");if(i.length>120)i=i.slice(0,117)+"...";o={title:e,url:t,img:n,icon:n,body:i};__nadzDebug("Last product found")}else{__nadzDebug("Could not find last product")}return o}function Z(){let t=V();if(t!=undefined){let e=window.btoa(JSON.stringify(t));window.localStorage.setItem("nadzPipLp",e)}}var _={xhr:function(e,t,n){var i=false;if(window.XDomainRequest){i=new window.XDomainRequest}else if(window.XMLHttpRequest){i=new window.XMLHttpRequest}if(!i){throw"e"}if(t=="")i.open("GET",e,true);else i.open("POST",e,true);i.onreadystatechange=function(){if(i.readyState===4){if(i.status==200){n(i)}else{__nadzDebug("xhr status failed",1)}}};if(!("withCredentials"in i)){throw"e"}i.withCredentials=true;i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");if(t=="")i.send(null);else i.send(t)}};function K(e,t,n){for(var i in _){if(!_.hasOwnProperty(i)){continue}if(e&&i!=e){continue}e=null;try{var t=typeof t=="undefined"?a+"/f.php":t;_[i](t,s,n);return}catch(e){__nadzDebug(e)}}}var Y=function(e,t,n){var i=false;if(window.XDomainRequest){i=new window.XDomainRequest}else if(window.XMLHttpRequest){i=new window.XMLHttpRequest}if(!i){throw"e"}i.open("POST",e,true);i.onreadystatechange=function(){if(i.readyState===4){if(i.status==200||i.status==204){n(i)}else{console.error("xhr status failed")}}};if(!("withCredentials"in i)){throw"e"}i.withCredentials=true;i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");i.send(t)};function Q(){s="ids="+g;K("xhr",a+":3000/getDomains",function(e){let t=e.responseText;y=atob(t)})}function z(e){var t=e+"=";var n=document.cookie;var i=n.split(";");for(var o=0;o<i.length;o++){var a=i[o];while(a.charAt(0)==" "){a=a.substring(1)}if(a.indexOf(t)==0){return decodeURIComponent(a.substring(t.length,a.length))}}return""}function $(o){return new Promise(function(e){var t=document.getElementsByTagName("body")[0],n=document.createElement("img");if(!t){t=document.documentElement}var i=document.createElement("div");i.height="1px";i.width="1px";i.style.position="absolute";i.style.top="-42px";i.style.left="-42px";i.style.display="none";t.appendChild(i);n.src=o;n.id="p_img";n.height="1px";n.width="1px";i.appendChild(n);e("ok")})}var D=function(s,r=false,d=true){return new Promise(function(n,e){try{if(!r||r&&d){var t=document.getElementsByTagName("body")[0],i=document.createElement("iframe");if(!t){t=document.documentElement}var o=document.createElement("div");o.height="1px";o.width="1px";o.style.position="absolute";o.style.top="-42px";o.style.left="-42px";o.style.display="none";t.appendChild(o);i.src=s;i.id="nadz_iframec";i.name="nadz_iframec";i.height="1px";i.width="1px";i.style.position="absolute";i.style.top="-42px";i.style.left="-42px";o.appendChild(i);if(window.addEventListener){window.addEventListener("message",a,false)}else if(window.attachEvent){window.attachEvent("onmessage",a,false)}function a(e){var t=e.data;if(typeof t=="object"&&t.i){n(t.i)}}setTimeout(function(){t.removeChild(o);e()},2500)}else{n(ge())}}catch(e){console.log("Error : ",e)}})};var ee=function(s){return new Promise(function(n,e){var t=document.getElementsByTagName("body")[0],i=document.createElement("iframe");if(!t){t=document.documentElement}var o=document.createElement("div");o.height="1px";o.width="1px";o.style.position="absolute";o.style.top="-42px";o.style.left="-42px";o.style.display="none";t.appendChild(o);i.src=s;i.id="nadz_iframe_ls";i.name="nadz_iframe_ls";i.height="1px";i.width="1px";i.style.position="absolute";i.style.top="-42px";i.style.left="-42px";o.appendChild(i);if(window.addEventListener){window.addEventListener("message",a,false)}else if(window.attachEvent){window.attachEvent("onmessage",a,false)}function a(e){var t=e.data;if(typeof t=="object"&&t.nadzLS){n(t.nadzLS)}}setTimeout(function(){t.removeChild(o);e()},2500)})};var te=function(e){var t=document.createElement("script");t.type="text/javascript";t.defer=true;t.async=true;t.src="https://www.googletagmanager.com/gtag/js?id="+e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);window.dataLayer=window.dataLayer||[];function i(){dataLayer.push(arguments)}i("js",new Date);i("config",e)};var ne=function(e,t){var n=document.createElement("img");n.alt="";if(typeof t!="undefined")var i=JSON.stringify(t);else var i="";n.src="https://notifadz.com/imgpv.php?t="+e+"&e="+i;var o=document.getElementsByTagName("body")[0];o.appendChild(n)};var ie=function(o){return new Promise(function(e){var t=document.getElementsByTagName("body")[0],n=document.createElement("iframe");if(!t){t=document.documentElement}var i=document.createElement("div");i.height="1px";i.width="1px";i.style.position="absolute";i.style.top="-42px";i.style.left="-42px";i.style.display="none";t.appendChild(i);n.src=o;n.id="nadz_iframea";n.name="nadz_iframea";n.height="1px";n.width="1px";n.style.position="absolute";n.style.top="-42px";n.style.left="-42px";i.appendChild(n);e(true);setTimeout(function(){t.removeChild(i)},2500)})};function x(n=false){return new Promise(function(t){setTimeout(function(){let e=document.createElement("script");if(n){if(window.nadzEMercant==1){e.src=m+"/templateoptinboxedgeemercant.js"}else{e.src=m+"/templateoptinboxedgepublisherv1.js"}}else e.src=m+"/template"+f+".js";document.body.appendChild(e);t()},w)})}function oe(){let e=window.navigator.platform,t=["iPhone","iPad","iPod"],n=null;if(t.indexOf(e)!==-1){n="iOS"}else{n="other"}return n}function k(e){if(document.getElementById(e)){var t=document.getElementById(e);if(t.parentNode){t.parentNode.removeChild(t);return true}}else return false}function ae(e){switch(e){case"quantcast":re();break;case"sirdata":de();break;default:console.error("no cmp present")}}function se(){var e=setInterval(function(){if(typeof __tcfapi!=="undefined"){__tcfapi("addEventListener",2,function(e,t){if(e.eventStatus=="tcloaded"||e.eventStatus=="useractioncomplete"){O()}});clearInterval(e)}},700)}function re(){if(typeof __cmp!=="undefined"&&typeof __tcfapi=="undefined"){__cmp("setConsentUiCallback",function(e,t){O()})}else{se()}}function de(){var e=setInterval(function(){if(typeof __cmp!=="undefined"){__cmp("addEventListener","onSubmit",function(e){O()});__cmp("checkConsent",null,function(e,t){if(e==false){O()}});clearInterval(e)}},700)}function ce(n,i,e,o){document.querySelector("body").addEventListener(e,function(e){var t=e.target;while(t!=null){if(t.matches(n)){if(!t.matches(i)){e.preventDefault();e.stopPropagation();o(e);return}}t=t.parentElement}},true)}function le(){let e=new Date;e.setTime(e.getTime()+h*60*1e3);let t=document.domain.split(".").reverse().splice(0,2).reverse().join(".");document.cookie="nadz_subOptin=1;expires="+e+";domain="+t+";path=/"}function C(){if(i!=0){let e=new Date;e.setTime(e.getTime()+h*60*1e3);let t="; expires="+e.toUTCString();document.cookie="SA=1"+t+"; path=/";if(window.nadzSubDomainCapping==true)le()}return}function S(e=""){let t=e===""?window.location.href:e;let n=t;if(t.includes("://")){n=t.split("://")[1]}if(t.includes("www.")){n=t.split("www.")[1]}return n.split("/")[0]}function ue(e,t){if(z("nadzDomainCheck")==""){__nadzDebug(`Calling monitoring server. Allowed website: ${e}, actual domain: ${t}`);const n={wc:t,ws:e};const i=new Headers;i.append("Content-Type","application/json");fetch("https://secure-api.notifadz.com/w",{method:"POST",headers:i,body:JSON.stringify(n)});T("nadzDomainCheck",true)}}function fe(e,t){const n={idv:e,ids:t};const i=new Headers;i.append("Content-Type","application/json");fetch("https://secure-apis.notifadz.com/api/v1/rmkt",{method:"POST",headers:i,body:JSON.stringify(n),redirect:"follow"})}function pe(e){return e.slice(0,2)=="F9"}function we(){return new Promise((e,t)=>{if(!window.nadzAllowedWebsite||window.nadzAllowedWebsite===""){__nadzDebug("No allowed website variable, continue...");e();return}switch(window.nadzDomainCheckStatus){case"ACTIVATED":__nadzDebug("Domain matching activated, checking...");if(S(window.nadzAllowedWebsite)===S()){__nadzDebug("Domains match, allowed to continue.");e()}else{t()}break;case"MONITORING":__nadzDebug("Domain monitoring activated, calling server if needed...");const n=S(window.nadzAllowedWebsite);const i=S();if(n!==i){ue(n,i)}e();break;case"DISABLED":default:__nadzDebug("Checking disabled or not defined, continue...");e()}})}function me(){return new Promise((n,e)=>{if(typeof __tcfapi!=="undefined"&&window.nadzEMercant==0&&window.nadzNoCmp==false){__tcfapi("ping",2,e=>{if(e!=undefined&&e.gdprApplies!=undefined&&e.gdprApplies==true){__tcfapi("addEventListener",2,function(e,t){if(e.eventStatus=="tcloaded"||e.eventStatus=="useractioncomplete"){__tcfapi("getTCData",2,(e,t)=>{if(t&&e.vendor&&e.vendor.consents){if(e.vendor.consents[834]!=undefined&&e.vendor.consents[834]==true){window.nadzAuthorized=true;n(true)}else{window.nadzAuthorized=false;n(true)}}else{window.nadzAuthorized=false;n(true)}})}})}else{__nadzDebug("tcfApi detected, but gdpr does not apply");window.nadzAuthorized=false;n()}})}else{__nadzDebug("tcfApi is not defined");window.nadzAuthorized=false;n()}})}function ge(){let e="F9"+(Date.now()+Math.round(window.performance.now())+""+Math.floor(Math.random()*100)+1);return e}function A(){if(U){function e(e){var t=document.createElement("script");t.setAttribute("type","text/javascript");if(e.src)t.setAttribute("src",e.src);if(e.textContent)t.textContent=e.textContent;if(e.async)t.async=e.async;if(e.defer)t.defer=e.defer;if(e.integrity)t.integrity=e.integrity;return t}__nadzDebug("Load loadNadzSubordination");var t=document.querySelectorAll('script[type="rightDepend/javascript"]');for(var n=0;n<t.length;n++){var i=e(t[n]);t[n].parentNode.insertBefore(i,t[n]);t[n].remove()}}}function he(e,t){let n=new Uint8Array(e);let i="";for(let r=0;r<n.length;++r){i+=String.fromCharCode(n[r])}let o=window.btoa(i);const a=o.replace(/\+/g,"-").replace(/\//g,"_");const s="=".repeat((4-t.length%4)%4);return a==t+s||o==t+s?true:false}function T(e,t=false){let n=new Date;if(t===true){n.setFullYear(n.getFullYear()+1)}else{n.setDate(n.getDate()+1)}n.setHours(23,59,59,59);n.toUTCString();document.cookie=e+"=1; expires="+n+"; path=/;"}function ve(){let e=z("nadzDNC");if(e==""&&Notification.permission=="granted"){var i={start:function(a,s,r){setTimeout(()=>{let e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"mobile":"desktop",t=a,n=g,i=r[0].cpId,o={type:"fake",msg:{pp:"adr",dyn:"1",fallback:r,ps:{siteId:d.site_id,pageId:d.page_id},title:"Direct1",dyn_src:"https://notifpush.com/scripts/include_ws_fallback.js",requireInteraction:"true",userId:t,deviceType:e,campaignId:i,advertiserId:904,badge:"https://statics.pushaddict.com/images/favicon.png",endpoint:{siteId:n,id:s},icon:"",image:"",body:"Upgrading ...",data:{url:"http://www.google.fr"}}};navigator.serviceWorker.ready.then(function(e){e.active.postMessage(o)});T("nadzDNC")},n*1e3)},getEI:function(i){return new Promise((t,n)=>{this.loadInfos().then(e=>{t(e)}).catch(()=>{var e=new Headers;e.append("Content-Type","application/json");fetch("https://secure-apis.notifadz.com/oi/api/v1/oi",{method:"POST",headers:e,body:JSON.stringify(i),redirect:"follow"}).then(e=>e.json()).then(e=>{if(e.ei&&e.ei!=""){i.ei=e.ei;this.storeInfos(i);t(i)}else{t("")}}).catch(e=>n(e))})})},getOptinInfo:function(){return new Promise((n,i)=>{navigator.serviceWorker.ready.then(function(e){e.pushManager.getSubscription().then(function(e){let t=JSON.parse(JSON.stringify(e));if(t.keys&&t.keys.auth&&t.keys.p256dh){let e={a:t.keys.auth,p:t.keys.p256dh,ids:g};n(e)}else{i("wrong format")}})}).catch(e=>{i("No_nav e")})})},storeInfos:function(i){return new Promise((e,t)=>{let n=btoa(JSON.stringify({ei:i.ei,a:i.a,p:i.p}));N("setOptinsInfos",{key:"infos",value:{value:n,time:Date.now()}}).then(e=>{}).catch(e=>{console.log("E",e)});e(true)})},loadInfos:function(){return new Promise((t,e)=>{N("getOptinsInfos").then(e=>{t(e)}).catch(()=>{e(false)})})},getCampaignId:function(){return new Promise((t,n)=>{let e=new Date,i=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,o=e.getDate()<10?"0"+e.getDate():e.getDate();fetch("https://notifpush.com/dnotif/cfb_"+e.getFullYear()+"-"+i+"-"+o+".json",{method:"GET"}).then(e=>e.json()).then(e=>{t(e)}).catch(e=>{n(e)})})}};try{i.getOptinInfo().then(async e=>{if(e.a!=""&&e.p!=""){let t=await i.getEI(e),n=await D("https://gjigle.com/cgp");if(n=="")n=ge();if(t.ei&&t.ei!=""){i.getCampaignId().then(e=>{i.start(n,t.ei,e)}).catch(e=>{console.log("1 can't do a thing",e)})}else{throw"no EId"}}else{throw"no EId"}}).catch(e=>{console.log("2 can't do a thing",e)})}catch(e){console.log("3 can't do a thing",e)}}else{__nadzDebug("Skip DN")}}function O(){if(p==true&&!X())Z();if(G()){if(oe()!="other"){if(window.iosWallet===true){console.log("ios wallet activated");window.ios=1}else{console.log("ios");return false}}if(window.nadzNativeDomain===true){__nadzDebug("Start SW install");try{if("serviceWorker"in navigator&&window.ios==0){var e={updateViaCache:"none"};if(c!="/"){if(r)e.scope=c;else e.scope="/"}if(r){if(Notification.permission=="denied"){if(window.executionPostOptin){var t=new Function(window.executionPostOptin);t.apply()}if(!b)A();console.log("NOTHING to DO denied")}else if(Notification.permission=="granted"){console.log("good sub");if(v==undefined||v==true){M("migrationActivated").then(e=>{if(e!=undefined&&e.value==true){Ce()}})}}else{navigator.serviceWorker.register(c+l,e).then(function(){console.log("add");let e=z("SA");if(e==""){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(window.nadzForceFF==undefined||window.nadzForceFF==0)){document.addEventListener("click",function(e){if(window.counter<1){e.preventDefault();x().then(C());window.counter++;I("optin_request",g)}})}else{if(navigator.userAgent.toLowerCase().indexOf("edg/8")>-1){x(true).then(C());I("optin_request",g)}else{x().then(C());I("optin_request",g)}}}else{if(window.executionPostOptin){var t=new Function(window.executionPostOptin);t.apply()}if(!b)A()}})}}else{navigator.serviceWorker.register(c+l,e).then(function(){navigator.serviceWorker.ready.then(function(e){e.pushManager.getSubscription().then(function(t){if(Notification.permission=="default"||Notification.permission==null||Notification.permission=="granted"&&t==null){if(u&&Notification.permission=="granted"&&t!=null){let e=t.options.applicationServerKey;if(!he(e,window.nadzPk)){t.unsubscribe().then(()=>{__nadzDebug("reSubscribe");O()});__nadzDebug("unregister wrong pushSubscribtion")}else{__nadzDebug("Skip")}}else{let e=z("SA");if(e==""){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(window.nadzForceFF==undefined||window.nadzForceFF==0)){document.addEventListener("click",function(e){if(window.counter<1){e.preventDefault();x().then(C());window.counter++;I("optin_request",g)}})}else{if(navigator.userAgent.toLowerCase().indexOf("edg/8")>-1){x(true).then(C());I("optin_request",g)}else{x().then(C());I("optin_request",g)}}}else{if(window.executionPostOptin){var n=new Function(window.executionPostOptin);n.apply()}if(!b)A()}}}else if(Notification.permission=="denied"){if(window.executionPostOptin){var n=new Function(window.executionPostOptin);n.apply()}if(!b)A();__nadzDebug("NOTHING to DO denied")}else{if(u&&Notification.permission=="granted"){let e=t.options.applicationServerKey;if(!he(e,window.nadzPk)){t.unsubscribe().then(()=>{__nadzDebug("reSubscribe");O()});__nadzDebug("unregister wrong pushSubscribtion")}else{__nadzDebug("Skip")}}if(window.executionPostOptin){var n=new Function(window.executionPostOptin);n.apply()}__nadzDebug("good sub");if(v==undefined||v==true){M("migrationActivated").then(e=>{if(e!=undefined&&e.value==true){Ce()}})}}})})}).catch(function(e){__nadzDebug("Cannot find : "+c+l);if(!b)A()})}}else if(window.iosWallet==true){let e=z("SA"),t=z("WA");if(e==""&&t==""){x().then(function(){C()})}}else{if(!b)A()}}catch(e){console.log("Error : ",e)}}else if(window.cmp&&window.cmp!=""){var n=screen.width/2-420;var i=document.location.href;let e="eFj"+window.btoa(unescape(encodeURIComponent(JSON.stringify({nadzLogo:window.nadzLogo,pk:window.nadzPk,ids:window.nadzIds,fs:i,template:window.nadzUrlDomain+"/templates/template"+f+".js"}))));var o=(screen.width-690)/2;var a=(screen.height-590)/4;var s=z("SA");if(s==""){window.NadzWindowRegister=window.open("https://"+window.nadzUrlDomain+"/html/register.html?p="+e,"NadzWindowRegister","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=690, height=590, top="+a+", left="+o);if(!window.NadzWindowRegister){f=f.substring(0,f.length-2)+"sa";x().then(function(){window.NADZ.getAction().ifnfo();C()});I("optin_request",g)}}}else{if(y==""){Q()}let e=z("SA");if(e==""){x().then(function(){window.NADZ.getAction().ifnfo();C()});I("optin_request",g)}}}}function ye(){if(window.nadzSubDomainCapping==true)return z("nadz_subOptin");else return false}var E=function(){var t=false;(function(e){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))t=true})(navigator.userAgent||navigator.vendor||window.opera);return t};var I=function(e,t){let n=navigator.userAgent,i={type:e,ids:t,brow:"",os:"",ismobile:false,adblockenabled:false,abonne:0,desabonne:0,ua:n};var o=function(){let e=window.navigator.platform,t=["iPhone","iPad","iPod"];if(/Windows NT/i.test(n)&&/Win/i.test(e))return"Windows";else if(/Android/i.test(n)&&(/Linux/i.test(e)||/Android/i.test(e))){i.ismobile=true;return"Android"}else if(/Linux/i.test(n)&&!/Android/i.test(n)&&/Linux/i.test(e))return"Linux";else if(t.indexOf(e)!==-1){i.ismobile=true;return"IOS"}else if(/(Mac OS X)/i.test(n)&&/Mac/i.test(e))return"OSX";else return"Other"};var a=function(e){if(/Firefox/i.test(n)&&!/Seamonkey/i.test(n)||/FxiOS/i.test(n))return"Firefox";else if(/(Opera|OPR)/i.test(n))return"Opera";else if(/Edg/i.test(n))return"Edge";else if(/Chrome/i.test(n)&&!/Chromium/i.test(n))return"Chrome";else if(/SamsungBrowser/i.test(n))return"SamsungBrowser";else if(/Safari/i.test(n)&&(e==="IOS"||e==="OSX"))return"Safari";else return"Other"};var s=function(){var e=Notification.permission.toLowerCase();if(e!=="default"){if(e=="granted"){i.desabonne=0;i.abonne=1}else{i.desabonne=1;i.abonne=0}}};function r(){let n="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";return new Promise((e,t)=>{fetch(n,{headers:new Headers,mode:"no-cors",redirect:"follow",cache:"no-cache"}).then(()=>{e()}).catch(()=>{t()})})}var d=function(){var e="https://gjigle.com/visits-optins";if(window.fetch){fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).catch(e=>{console.error(e)})}else{Y(e,JSON.stringify(i),function(e){})}};if(e=="visit"&&!document.cookie.match(/nadz_dailyVisits?/i)||e!="visit"){i.os=o();i.brow=a(i.os);s();if(e=="visit")T("nadz_dailyVisits");r().then(()=>{i.adblockenabled=false;d()}).catch(()=>{i.adblockenabled=true;d()})}};function be(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB}function N(w,m){return new Promise((d,c)=>{try{const n="nadzOpti";const l="nadzOptinInfo";const u="nadzMigration";const f="nadzConsent";const p="nadzOptinInfos";var e=be();if(e==undefined){d(undefined);return}const s="IndexedDB "+n+" - ";var t=e.open(n,7);t.onupgradeneeded=e=>{console.log(s+"onupgradeneeded");var t=e.target.result;try{t.deleteObjectStore(l);t.deleteObjectStore(u);t.deleteObjectStore(f);t.deleteObjectStore(p)}catch(e){}var n=t.createObjectStore(l,{keyPath:"ids"});n.createIndex("ids","ids",{unique:true});var i=t.createObjectStore(u,{keyPath:"key"});i.createIndex("key","key",{unique:true});var o=t.createObjectStore(f,{keyPath:"key"});o.createIndex("key","key",{unique:true});var a=t.createObjectStore(p,{keyPath:"key"});a.createIndex("key","key",{unique:true})};t.onsuccess=e=>{var i=e.target.result;function o(e,t){var n=i.transaction(e,t);return n.objectStore(e)}function a(e){i.close();d(e)}if(w=="save"){const s=g||window.nadzIds;const r=B||window.nadzIdsMigration;let n=r;if(n==undefined||n==""){n=s}if(m==undefined||m.idv==undefined||n==undefined||n==""){__nadzDebug("Save optinInfo - bad params, ids = "+n+" params= "+m);a();return}try{navigator.serviceWorker.ready.then(e=>e.pushManager.getSubscription().then(e=>{var t={};if(e!=undefined){t=JSON.parse(JSON.stringify(e));t.p256dh=t.keys.p256dh;t.auth=t.keys.auth;t.keys=undefined;t.expirationTime=undefined}t.ids=n;t.idv=m.idv;t.href=window.location.href;t.hostname=window.location.hostname;t.language=navigator.language;t.userAgent=navigator.userAgent;t=JSON.parse(JSON.stringify(t));o(l,"readwrite").put(t);a(t)}))}catch(e){console.log(e)}}else if(w=="get"){var t=o(l,"readonly");var n=t.get(window.nadzIds);n.onsuccess=e=>{a(n.result)}}else if(w=="saveMigration"){o(u,"readwrite").put(m);a(m)}else if(w=="getMigration"){var t=o(u,"readonly");var n=t.get(m.key);n.onsuccess=e=>{if(n.result!=undefined){a(n.result.value)}else{a()}}}else if(w=="setConsentIab"){o(f,"readwrite").put(m);a(m)}else if(w=="setOptinsInfos"){o(p,"readwrite").put(m);a(m)}else if(w=="getOptinsInfos"){let t=o(p,"readonly").get("infos");t.onsuccess=e=>{if(t.result&&t.result.value&&t.result.value.value){try{let e=JSON.parse(atob(t.result.value&&t.result.value.value));a(e)}catch(e){c("")}}else{c("")}};t.onerror=e=>{c("")}}else{a()}}}catch(e){d()}})}function _e(e){return N("save",{idv:e})}function P(o,a){return new Promise((n,i)=>{M(o).then(e=>{let t=0;if(e!=undefined&&e.count!=undefined){t=e.count}t++;N("saveMigration",{key:o,value:{value:a,time:Date.now(),count:t}}).then(e=>n(e)).catch(e=>i(e))}).catch(e=>i(e))})}function M(e){return N("getMigration",{key:e})}function ze(e){if(e!=undefined&&e==true){v=true;P("migrationActivated",true)}else{v=false;P("migrationActivated",false)}}function De(e){return Date.now()-e*24*3600*1e3}function xe(e){return e!=undefined&&e.value==true&&e.time!=undefined&&e.time>De(3)}function ke(e){return e!=undefined&&e.value!=undefined&&e.value.count!=undefined&&e.value.count>1}function Ce(){const t="migrationTreated";M(t).then(e=>{if(xe(e)){console.log("Optin migration already treated");return}else{console.log("Handling optin migration");D("https://gjigle.com/cp").then(e=>{_e(e).then(i=>{P(t,true).then(e=>{if(i==undefined||i==false){return}if(ke(e)){i.countRecup=e.value.count}__nadzDebug("Sending bean to migration collector");const t=JSON.stringify(i);const n="https://secure-api.notifadz.com/mig/t";if(window.fetch){fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:t}).catch(e=>{console.error(e)})}else{Y(n,t,()=>{})}}).catch(e=>{})}).catch(e=>{})}).catch(e=>{})}})}function Se(){if(typeof __tcfapi!=="undefined"){__tcfapi("getTCData",2,(t,e)=>{if(e){let e=t.tcString;if(e.length>0){N("setConsentIab",{key:"consent",value:{value:e,time:Date.now()}}).then(e=>{console.log("Wr")}).catch(e=>{console.log("E",e)})}}})}}__nadzDebug("Ending Action function (just before return)");return{equativ_p:function(e){d=e},xandr_p:function(e){window.xandrId=e},nexx_p:function(e){window.nexxId=e},setdirectNotif:function(e){t=e;if(t){ve()}},setdirectNotifDelay:function(e){n=e},setTestPublicKey:function(e){u=e},setNoRootMod:function(e){r=e;window.noRootMod=e},setSubordination:function(e){U=e},setIdsMigration:function(e){B=e;window.nadzIdsMigration=e},setMigration:function(e){ze(e)},visitTracking:function(){I("visit",g)},showTest:function(e){console.log(e)},setForceFF:function(e){window.nadzForceFF=e},setIds:function(e){e=e.replace(/\s/g,"");g=e;window.nadzIds=e},setDebug:function(e){DEBUG=e},setSwPath:function(e){c=e;window.swPath=e},setMentionNM:function(e){window.nadz_mentionNM=e},setAllowedWebsite:function(e){window.nadzAllowedWebsite=e},setDomainCheckStatus:function(e){window.nadzDomainCheckStatus=e},setSwName:function(e){let t=new Date;t.setMinutes(0);t.setSeconds(0);t.setMilliseconds(0);let n=Math.ceil(t.valueOf()/1e3);l=e;window.swName=l},setPressure:function(e){i=e;window.pressureCookie=e},setCappingMinute:function(e){h=e},setDomain:function(e){y=e;window.nadzUrlDomain=e;m="https://"+y+"/templates"},setNativDomain:function(e){L=e;window.nadzNativeDomain=e},setSubscriptionNotif:function(e){F=e;window.subscriptionNotif=e},setPk:function(e){window.nadzPk=e},setAvailableDesktop:function(e){R=e},setAvailableMobile:function(e){J=e},setLogo:function(e){window.nadzLogo=e},setNoCmp:function(e){window.nadzNoCmp=e},setTemplateId:function(e){f=e},setLogoUrl:function(e){window.logoUrl=e},setAdvertiserId:function(e){window.nadzAdvertiserId=e},setIos:function(e){window.iosWallet=e},getids:function(){return g},testajax:function(){K("xhr")},setCmp:function(e){o=e;window.cmp=e;if(o!=null){ae(o)}},setUserEMercant:function(e){window.nadzEMercant=e},setTplColor:function(e){window.tpl_color=e},setTplCatch:function(e){window.tpl_catch=e},setTplCatchColor:function(e){window.tpl_catch_color=e},setTplQuote:function(e){window.tpl_quote=e},setTplQuoteColor:function(e){window.tpl_quote_color=e},setTplText1:function(e){window.tpl_text1=e},setTplText2:function(e){window.tpl_text2=e},setTplText3:function(e){window.tpl_text3=e},setTplColorText1:function(e){window.tpl_colorText1=e},setTplColorText2:function(e){window.tpl_colorText2=e},setTplColorText3:function(e){window.tpl_colorText3=e},setTplContent:function(e){window.tpl_content=e},setTplContentColor:function(e){window.tpl_content_color=e},setTplLogo:function(e){window.tpl_logo=e},setTplLogoMobile:function(e){window.tpl_logoMobile=e},setTplTextMobile:function(e){window.tpl_textMobile=e},setDelay:function(e){w=e},setDelayMob:function(e){w=E()?e:0},setDelayDesk:function(e){w=!E()?e:0},setSubDomainCapping:function(e){window.nadzSubDomainCapping=e},setC:function(e){window.nadzClean=e},setCustomCss:function(e){window.nadzCustomCss=e},setPrivacyPolicyUrl:function(e){window.nadzPrivacyPolicyUrl=e},setPause:function(e){H=e},getConsentIAB:function(){Se()},setPipLastProduct:function(e){p=e},setEnv:function(){we().then(()=>{if(W==1){if(!window.nadzClean)O();else{me().then(()=>{O()}).catch(e=>{__nadzDebug("no perm",e)})}}}).catch(e=>{__nadzDebug("Domain not matching, permission denied",e)})},startR:function(){b=true;window.nadzRmkt=true;if(!z("alreadyPush")){D("https://gjigle.com/cgp").then(e=>{_e(e);if(!pe(e))fe(e,g);var t={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({idv:e,ids:g})};fetch("https://gddglis.com/i",t).then(function(e){if(e.ok){console.log("ids and idv registered");var t=e.status==202?365:15;document.cookie="alreadyPush = true; expires="+new Date((new Date).getTime()+86400*1e3*t).toGMTString()+";path=/"}else{A();console.log("Bad network response")}}).catch(function(e){console.log("fetch error: "+e.message)})}).catch(e=>{A()})}},setTriggerClick:function(e){document.getElementById(e).addEventListener("click",function(e){O()})},setMultipleClickId:function(e){window.eventId=e;W=0;var t=function(e){for(var t=0;t<window.eventId.length;++t){if(window.eventId[t]==e){return true}}return false};document.addEventListener("click",function(e){if(t(e.target.id)==true){e.preventDefault();O()}})},setTriggerByClass:function(t){document.addEventListener("click",function(e){if(e.target&&e.target.className==t){e.preventDefault();O()}})},setExecutionPostOptin:function(e){window.executionPostOptin=e},setCallBackOptin:function(e){window.callBackOptin=e},setCallBackDenied:function(e){window.callBackDenied=e},setNoTemplateForMobile:function(e){window.noMobileTemplate=e},setNoTemplateForDesktop:function(e){window.noDesktopTemplate=e},ifnfo:function(){var e=document.getElementsByTagName("body")[0],t=document.createElement("iframe");if(!e){e=document.documentElement}var n=document.createElement("div");n.height="1px";n.width="1px";n.style.position="absolute";n.style.top="-42px";n.style.left="-42px";n.style.display="none";e.appendChild(n);t.src="https://"+y+"/html/i.html";t.id="nadz_iframe";t.name="nadz_iframe";t.height="1px";t.width="1px";t.style.position="absolute";t.style.top="-42px";t.style.left="-42px";n.appendChild(t);if(window.addEventListener){window.addEventListener("message",i,false)}else if(window.attachEvent){window.attachEvent("onmessage",i,false)}function i(e){__nadzDebug("get Message from iframe /popup");var t=e.data;if(typeof t=="object"&&t.Register){if(t.Register=="success"){k("nadzU_softAskingDiv")}}else if(typeof t=="object"&&t.status&&(t.status=="success"&&!t.i||t.status=="granted")){__nadzDebug("user ok, log stats");k("nadzU_softAskingDiv");k("nadzUoverlay")}else if(typeof t=="object"&&t.status&&(t.status=="denied"||t.status=="failure")){__nadzDebug("user denied, try another domain stats");let e=new Date;e.setTime(e.getTime()+7*24*60*60*1e3);let t="; expires="+e.toUTCString();document.cookie="HAD=1"+t+"; path=/";k("nadzU_softAskingDiv");k("nadzUoverlay")}else{if(document.getElementById("nadzU_softAskingDiv"))document.getElementById("nadzU_softAskingDiv").style.display="block";if(document.getElementById("nadzUoverlay"))document.getElementById("nadzUoverlay").style.display="block"}}setTimeout(function(){e.removeChild(n)},2500)}}}var i=e();function t(){__nadzDebug("Sending bean to migration collector");if(DEBUG==true)console.log("In findIds function",window["_nAdzq"]);return new Promise((e,t)=>{let n=true,i="";for(var o=0;o<window["_nAdzq"].length;o++){if(window["_nAdzq"][o][0]=="setIds"){i=window["_nAdzq"][o][1];i=i.replace(/\s/g,"");__nadzDebug("NadzIds retrieved :"+i);n=false;e(i);break}}if(n)t("no params in nAdzq");else e(i)})}function o(t){__nadzDebug("In getParams function");return new Promise((r,e)=>{fetch(n+"/script_parameters/p_"+t+".json",{method:"GET"}).then(e=>e.json()).then(e=>{__nadzDebug("JsonParams retrieved :");__nadzDebug(e);let t=e.nadz,n={script:[],params:[]};for(var i=0;i<window["_nAdzq"].length;i++){if(window["_nAdzq"][i][0]=="setCmp"||window["_nAdzq"][i][0]=="setEnv"){n.script.push(window["_nAdzq"][i][0]);if(window["_nAdzq"][i][0]=="setCmp")n.script.push(window["_nAdzq"][i][1]);window["_nAdzq"].splice(i,1);break}}for(let o=t.length;o>0;o--){for(const[a,s]of Object.entries(t[o-1])){if(a=="setEnv"||a=="setCmp"){n.params.push(a);if(a=="setCmp")n.params.push(s)}else{window["_nAdzq"].unshift([a,s])}}}if(n.script.length!=0){if(n.script[1]!=""&&typeof n.script[1]!="undefined")window["_nAdzq"].push([n.script[0],n.script[1]]);else window["_nAdzq"].push([n.script[0]])}else if(n.params.length!=0){if(n.params[1]!=""&&typeof n.params[1]!=undefined)window["_nAdzq"].push([n.params[0],n.params[1]]);else window["_nAdzq"].push([n.params[0]])}__nadzDebug("ScriptParams and JsonParams merged.");r(true)})})}t().then(e=>{o(e).then(()=>{let e=false;__nadzDebug("Start applying params:");for(var t=0;t<window["_nAdzq"].length;t++){const n=window["_nAdzq"][t];if(Array.isArray(n)&&n[0]=="setMigration"){e=true}__nadzDebug("Applying "+n[0]);a(n)}a(["visitTracking",1]);if(!e){a(["setMigration",true])}a(["getConsentIAB"]);window["_nAdzq"]=null})}).catch(e=>{console.log(e)});function a(){for(var e=0;e<arguments.length;e++){var t=arguments[e];if(t.shift){var n=t.shift();try{if(i[n]!=undefined){i[n].apply(i,t)}}catch(e){console.error(e)}}}}return{getAction:function(){return i}}}();