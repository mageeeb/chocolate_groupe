/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fauf%2Fads%2Fplugins%2FaufContentKeywords.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/auf/ads/plugins/aufContentKeywords.js?v=202406200958 **/
var AufAds=window.AufAds||{};AufAds.ContentKeywords=(function(){var singleInstance;function init(){if(content_keywords){sas_target+=';content_keywords='+get()+';';}
return{};}
function get(){var main_cleanup_regexp=new RegExp(/[-_:;,\'\.#\(\)\[\]=+?!"&$€*% ]/g);var content_keywords=document.title.toLowerCase().replace(main_cleanup_regexp,',');if(typeof(document.getElementsByTagName)==='function'){var h1s=document.getElementsByTagName('h1');for(var i=0;i<h1s.length;i++){content_keywords+=' '+h1s[i].innerText.trim();}
var metas=document.getElementsByTagName('meta');for(var i=0;i<metas.length;i++){if(metas[i].getAttribute('name')==='keywords'){content_keywords+=' '+metas[i].getAttribute('content');}}}
content_keywords=content_keywords.toLowerCase().replace(main_cleanup_regexp,' ');content_keywords=content_keywords.replace(/[àáâãäå]/g,'a').replace(/[èéêë]/g,'e').replace(/[ìíîï]/g,'i').replace(/[òóôõöø]/g,'o');content_keywords=content_keywords.replace(/[ùúûü]/g,'u').replace(/[ÿ]/g,'y').replace(/[ç]/g,'c').replace(/[ñ]/g,'n');var content_keywords_tab=content_keywords.split(' ').sort();var content_keywords_clean=new Array();for(var i=0;i<content_keywords_tab.length;i++){if(content_keywords_tab[i].length>=3){if(typeof(content_keywords_clean.includes)!=='function'||!content_keywords_clean.includes(content_keywords_tab[i])){content_keywords_clean.push(content_keywords_tab[i]);}}}
content_keywords=content_keywords_clean.join(',');return content_keywords;}
return{init:function(){if(!singleInstance){singleInstance=init();}
return singleInstance;},get:function(){return get();}};})();




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fpubsub%2F1.6.0%2Fpubsub-singleton.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/pubsub/1.6.0/pubsub-singleton.js?v=202406200958 **/
(function(root,factory){'use strict';if(root.PubSub)return;var PubSub={};root.PubSub=PubSub;var define=root.define;factory(PubSub);if(typeof define==='function'&&define.amd){define(function(){return PubSub;});}else if(typeof exports==='object'){if(module!==undefined&&module.exports){exports=module.exports=PubSub;}
exports.PubSub=PubSub;module.exports=exports=PubSub;}}((typeof window==='object'&&window)||this,function(PubSub){'use strict';var messages={},lastUid=-1;function hasKeys(obj){var key;for(key in obj){if(obj.hasOwnProperty(key)){return true;}}
return false;}
function throwException(ex){return function reThrowException(){throw ex;};}
function callSubscriberWithDelayedExceptions(subscriber,message,data){try{subscriber(message,data);}catch(ex){setTimeout(throwException(ex),0);}}
function callSubscriberWithImmediateExceptions(subscriber,message,data){subscriber(message,data);}
function deliverMessage(originalMessage,matchedMessage,data,immediateExceptions){var subscribers=messages[matchedMessage],callSubscriber=immediateExceptions?callSubscriberWithImmediateExceptions:callSubscriberWithDelayedExceptions,s;if(!messages.hasOwnProperty(matchedMessage)){return;}
for(s in subscribers){if(subscribers.hasOwnProperty(s)){callSubscriber(subscribers[s],originalMessage,data);}}}
function createDeliveryFunction(message,data,immediateExceptions){return function deliverNamespaced(){var topic=String(message),position=topic.lastIndexOf('.');deliverMessage(message,message,data,immediateExceptions);while(position!==-1){topic=topic.substr(0,position);position=topic.lastIndexOf('.');deliverMessage(message,topic,data,immediateExceptions);}};}
function messageHasSubscribers(message){var topic=String(message),found=Boolean(messages.hasOwnProperty(topic)&&hasKeys(messages[topic])),position=topic.lastIndexOf('.');while(!found&&position!==-1){topic=topic.substr(0,position);position=topic.lastIndexOf('.');found=Boolean(messages.hasOwnProperty(topic)&&hasKeys(messages[topic]));}
return found;}
function publish(message,data,sync,immediateExceptions){var deliver=createDeliveryFunction(message,data,immediateExceptions),hasSubscribers=messageHasSubscribers(message);if(!hasSubscribers){return false;}
if(sync===true){deliver();}else{setTimeout(deliver,0);}
return true;}
PubSub.publish=function(message,data){return publish(message,data,false,PubSub.immediateExceptions);};PubSub.publishSync=function(message,data){return publish(message,data,true,PubSub.immediateExceptions);};PubSub.subscribe=function(message,func){if(typeof func!=='function'){return false;}
if(!messages.hasOwnProperty(message)){messages[message]={};}
var token='uid_'+String(++lastUid);messages[message][token]=func;return token;};PubSub.subscribeOnce=function(message,func){var token=PubSub.subscribe(message,function(){PubSub.unsubscribe(token);func.apply(this,arguments);});return PubSub;};PubSub.clearAllSubscriptions=function clearAllSubscriptions(){messages={};};PubSub.clearSubscriptions=function clearSubscriptions(topic){var m;for(m in messages){if(messages.hasOwnProperty(m)&&m.indexOf(topic)===0){delete messages[m];}}};PubSub.unsubscribe=function(value){var descendantTopicExists=function(topic){var m;for(m in messages){if(messages.hasOwnProperty(m)&&m.indexOf(topic)===0){return true;}}
return false;},isTopic=typeof value==='string'&&(messages.hasOwnProperty(value)||descendantTopicExists(value)),isToken=!isTopic&&typeof value==='string',isFunction=typeof value==='function',result=false,m,message,t;if(isTopic){PubSub.clearSubscriptions(value);return;}
for(m in messages){if(messages.hasOwnProperty(m)){message=messages[m];if(isToken&&message[value]){delete message[value];result=value;break;}
if(isFunction){for(t in message){if(message.hasOwnProperty(t)&&message[t]===value){delete message[t];result=true;}}}}}
return result;};}));




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fbowser%2Fbowser.min.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/bowser/bowser.min.js?v=202406200958 **/
/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
!function(e,t,n){typeof module!="undefined"&&module.exports?module.exports=n():typeof define=="function"&&define.amd?define(t,n):e[t]=n()}(this,"bowser",function(){function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function r(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}function C(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return undefined}}var i=n(/(ipod|iphone|ipad)/i).toLowerCase(),o=/like android/i.test(t),u=!o&&/android/i.test(t),a=/nexus\s*[0-6]\s*/i.test(t),f=!a&&/nexus\s*[0-9]+/i.test(t),l=/CrOS/.test(t),c=/silk/i.test(t),h=/sailfish/i.test(t),p=/tizen/i.test(t),d=/(web|hpw)(o|0)s/i.test(t),v=/windows phone/i.test(t),m=/SamsungBrowser/i.test(t),g=!v&&/windows/i.test(t),y=!i&&!c&&/macintosh/i.test(t),b=!u&&!h&&!p&&!d&&/linux/i.test(t),w=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),E=n(/version\/(\d+(\.\d+)?)/i),S=/tablet/i.test(t)&&!/tablet pc/i.test(t),x=!S&&/[^-]mobi/i.test(t),T=/xbox/i.test(t),N;/opera/i.test(t)?N={name:"Opera",opera:e,version:E||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?N={name:"Opera",opera:e,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||E}:/SamsungBrowser/i.test(t)?N={name:"Samsung Internet for Android",samsungBrowser:e,version:E||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?N={name:"NAVER Whale browser",whale:e,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?N={name:"MZ Browser",mzbrowser:e,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?N={name:"Opera Coast",coast:e,version:E||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?N={name:"Focus",focus:e,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?N={name:"Yandex Browser",yandexbrowser:e,version:E||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?N={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?N={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?N={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?N={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?N={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?N={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:v?(N={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},w?(N.msedge=e,N.version=w):(N.msie=e,N.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?N={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?N={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?N={name:"Microsoft Edge",msedge:e,version:w}:/vivaldi/i.test(t)?N={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||E}:h?N={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?N={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(N={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(N.firefoxos=e,N.osname="Firefox OS")):c?N={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?N={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?N={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?N={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:E||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:d?(N={name:"WebOS",osname:"WebOS",webos:e,version:E||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(N.touchpad=e)):/bada/i.test(t)?N={name:"Bada",osname:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:p?N={name:"Tizen",osname:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||E}:/qupzilla/i.test(t)?N={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||E}:/chromium/i.test(t)?N={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||E}:/chrome|crios|crmo/i.test(t)?N={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:u?N={name:"Android",version:E}:/safari|applewebkit/i.test(t)?(N={name:"Safari",safari:e},E&&(N.version=E)):i?(N={name:i=="iphone"?"iPhone":i=="ipad"?"iPad":"iPod"},E&&(N.version=E)):/googlebot/i.test(t)?N={name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||E}:N={name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!N.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(N.name=N.name||"Blink",N.blink=e):(N.name=N.name||"Webkit",N.webkit=e),!N.version&&E&&(N.version=E)):!N.opera&&/gecko\//i.test(t)&&(N.name=N.name||"Gecko",N.gecko=e,N.version=N.version||n(/gecko\/(\d+(\.\d+)?)/i)),!N.windowsphone&&(u||N.silk)?(N.android=e,N.osname="Android"):!N.windowsphone&&i?(N[i]=e,N.ios=e,N.osname="iOS"):y?(N.mac=e,N.osname="macOS"):T?(N.xbox=e,N.osname="Xbox"):g?(N.windows=e,N.osname="Windows"):b&&(N.linux=e,N.osname="Linux");var k="";N.windows?k=C(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):N.windowsphone?k=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):N.mac?(k=n(/Mac OS X (\d+([_\.\s]\d+)*)/i),k=k.replace(/[_\s]/g,".")):i?(k=n(/os (\d+([_\s]\d+)*) like mac os x/i),k=k.replace(/[_\s]/g,".")):u?k=n(/android[ \/-](\d+(\.\d+)*)/i):N.webos?k=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):N.blackberry?k=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):N.bada?k=n(/bada\/(\d+(\.\d+)*)/i):N.tizen&&(k=n(/tizen[\/\s](\d+(\.\d+)*)/i)),k&&(N.osversion=k);var L=!N.windows&&k.split(".")[0];if(S||f||i=="ipad"||u&&(L==3||L>=4&&!x)||N.silk)N.tablet=e;else if(x||i=="iphone"||i=="ipod"||u||a||N.blackberry||N.webos||N.bada)N.mobile=e;return N.msedge||N.msie&&N.version>=10||N.yandexbrowser&&N.version>=15||N.vivaldi&&N.version>=1||N.chrome&&N.version>=20||N.samsungBrowser&&N.version>=4||N.whale&&s([N.version,"1.0"])===1||N.mzbrowser&&s([N.version,"6.0"])===1||N.focus&&s([N.version,"1.0"])===1||N.firefox&&N.version>=20||N.safari&&N.version>=6||N.opera&&N.version>=10||N.ios&&N.osversion&&N.osversion.split(".")[0]>=6||N.blackberry&&N.version>=10.1||N.chromium&&N.version>=20?N.a=e:N.msie&&N.version<10||N.chrome&&N.version<20||N.firefox&&N.version<20||N.safari&&N.version<6||N.opera&&N.version<10||N.ios&&N.osversion&&N.osversion.split(".")[0]<6||N.chromium&&N.version<20?N.c=e:N.x=e,N}function r(e){return e.split(".").length}function i(e,t){var n=[],r;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r++)n.push(t(e[r]));return n}function s(e){var t=Math.max(r(e[0]),r(e[1])),n=i(e,function(e){var n=t-r(e);return e+=(new Array(n+1)).join(".0"),i(e.split("."),function(e){return(new Array(20-e.length)).join("0")+e}).reverse()});while(--t>=0){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(t===0)return 0}}function o(e,r,i){var o=n;typeof r=="string"&&(i=r,r=void 0),r===void 0&&(r=!1),i&&(o=t(i));var u=""+o.version;for(var a in e)if(e.hasOwnProperty(a)&&o[a]){if(typeof e[a]!="string")throw new Error("Browser version in the minVersion map should be a string: "+a+": "+String(e));return s([u,e[a]])<0}return r}function u(e,t,n){return!o(e,t,n)}var e=!0,n=t(typeof navigator!="undefined"?navigator.userAgent||"":"");return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if(typeof r=="string"&&r in n)return!0}return!1},n.isUnsupportedBrowser=o,n.compareVersions=s,n.check=u,n._detect=t,n.detect=t,n})




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fauf%2Fglobal_common_top.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/auf/global_common_top.js?v=202406200958 **/
function af_getHashParams(){var hashParams={};var e,a=/\+/g,r=/([^&;=]+)=?([^&;]*)/g,d=function(s){return decodeURIComponent(s.replace(a,' '));},q=window.location.hash.substring(1);while(e=r.exec(q)){hashParams[d(e[1])]=d(e[2]);}
return hashParams;}
function af_getUrlParameter(name){var sp=new URLSearchParams(document.location.search);var value=sp.get(name);return value;}
function af_setUrlParameters(params){let url=document.location.pathname+((params)?('?'+params):'');if(history.replaceState){history.replaceState(null,document.title,url);}}
function af_isEmpty(obj){for(var prop in obj){if(obj.hasOwnProperty(prop))
return false;}
return true;}
function af_getCookie(name){var i,x,y;var cookiesTab=document.cookie.split(';');for(i=0;i<cookiesTab.length;i++){x=cookiesTab[i].substr(0,cookiesTab[i].indexOf('='));y=cookiesTab[i].substr(cookiesTab[i].indexOf('=')+1);x=x.replace(/^\s+|\s+$/g,'');if(x=='afperso'||x=='afpperso'){var j,a,cookiesValuesTab=y.split('&');for(j=0;j<cookiesValuesTab.length;j++){a=cookiesValuesTab[j].substr(0,cookiesValuesTab[j].indexOf('='));if(a==name){return unescape(cookiesValuesTab[j].substr(cookiesValuesTab[j].indexOf('=')+1));}}}else if(x==name){return y;}}
return'';}
function af_setCookie(name,value,minutes){minutes=minutes||15;var date=new Date();date.setTime(date.getTime()+minutes*60*1000);var domain=location.hostname.split('.').slice(-2).join('.');domain=(domain=='co.uk'||domain=='com.br')?location.hostname.replace('www.',''):domain;document.cookie=name+'='+encodeURIComponent(value)+'; expires='+date.toUTCString()+'; domain=.'+domain+'; path=/';}
function af_setSessionCookie(name,value){af_setCookie(name,value,15);}
function af_setPermCookie(name,value){af_setCookie(name,value,365*24*60);}
function af_cleanCookie(name){af_setCookie(name,'',-1);}
function af_guid(){return Date.now()+''+Math.floor(Math.random()*1000);}
function af_bind(o,m){var args=[];for(var i=2;i<arguments.length;++i){args.push(arguments[i]);}
return function(){var tmp=args.slice(0,args.length);for(var i=0;i<arguments.length;++i){tmp.push(arguments[i]);}
return m.apply(o,tmp);};}
function af_push(object,path,varName,value){var subpaths=path.split('.');if(subpaths.length>0){if(typeof object[subpaths[0]]=='undefined'){object[subpaths[0]]={};}
var context=object[subpaths[0]];for(i=1;i<subpaths.length;i++){if(typeof context[subpaths[i]]=='undefined'){context[subpaths[i]]={};}else{context=context[subpaths[i]];}}
context[varName]=value;}}
function af_clone(obj){if(obj===null||typeof obj!=='object'){return obj;}
var temp=obj.constructor();for(var key in obj){temp[key]=af_clone(obj[key]);}
return temp;}
function af_addEvent(elt,event,listener,capture){if(elt&&elt.addEventListener){elt.addEventListener(event,listener,capture);return true;}else if(elt&&elt.attachEvent){return elt.attachEvent('on'+event,listener);}else if(elt){var oldListener=elt['on'+event];elt['on'+event]=function(e){if(oldListener){oldListener(e);}
return listener(e);};return oldListener;}}
function af_windowSize(){var i=window,e=document.documentElement,b=document.body;var w=(i.innerWidth?i.innerWidth:(e&&e.clientWidth?e.clientWidth:(b&&b.clientWidth?b.clientWidth:0)));var h=(i.innerHeight?i.innerHeight:(e&&e.clientHeight?e.clientHeight:(b&&b.clientHeight?b.clientHeight:0)));var l=(i.pageXOffset?i.pageXOffset:(e&&e.scrollLeft?e.scrollLeft:(b&&b.scrollLeft?b.scrollLeft:0)));var t=(i.pageYOffset?i.pageYOffset:(e&&e.scrollTop?e.scrollTop:(b&&b.scrollTop?b.scrollTop:0)));return{l:l,t:t,r:l+w,b:t+h,w:w,h:h};}
function af_findPos(o){if(!o||o==document.body){return{l:0,t:0};}
var l=0,t=0,b=document.body,w=o.offsetWidth,h=o.offsetHeight;if(o.offsetParent){l=o.offsetLeft-o.scrollLeft;t=o.offsetTop-o.scrollTop;while(o=o.offsetParent){l+=o.offsetLeft-(o!=b?o.scrollLeft:0);t+=o.offsetTop-(o!=b?o.scrollTop:0);}}
return{l:l,t:t,r:l+w,b:t+h,w:w,h:h};}
var af_cssUtils=(function(){var _has3d,_cssTransform;function _can3d(){if(typeof _has3d!=='undefined')return _has3d;if(!window.getComputedStyle){return false;}
var el=document.createElement('p'),has3d,transforms={'webkitTransform':'-webkit-transform','OTransform':'-o-transform','msTransform':'-ms-transform','MozTransform':'-moz-transform','transform':'transform'};document.body.insertBefore(el,null);for(var t in transforms){if(el.style[t]!==undefined){el.style[t]='translate3d(1px,1px,1px)';has3d=window.getComputedStyle(el).getPropertyValue(transforms[t]);}}
document.body.removeChild(el);_has3d=(has3d!==undefined&&has3d.length>0&&has3d!=='none');return _has3d;}
function _getTransformProp(){if(typeof _cssTransform!=='undefined')return _cssTransform;var prefixes='transform webkitTransform mozTransform oTransform msTransform'.split(' '),i=0;while(_cssTransform===undefined){_cssTransform=document.createElement('div').style[prefixes[i]]!==undefined?prefixes[i]:undefined;i++;}
return _cssTransform;}
function translate(elt,tx,ty,tz,cb){if(!elt)return;var styleProp=_getTransformProp();if(styleProp){var styleValue;if(_can3d()){styleValue='translate3d('+tx+', '+ty+', '+tz+')';}else{styleValue='translate('+tx+', '+ty+')';}
window.requestAnimationFrame(function(){elt.style[styleProp]=styleValue;if(typeof cb==='function'){cb();}});}else{afLogger.logError('CSS transform functions not supported');return;}}
function getTranslateProps(elem){var transArr=[];if(!window.getComputedStyle){return;}
var style=getComputedStyle(elem),transform=style.transform||style.webkitTransform||style.mozTransform||style.msTransform,mat=transform.match(/^matrix3d\((.+)\)$/);if(mat){return parseFloat(mat[1].split(', ')[13]);}
mat=transform.match(/^matrix\((.+)\)$/);mat?transArr.push(parseFloat(mat[1].split(', ')[4])):transArr.push(0);mat?transArr.push(parseFloat(mat[1].split(', ')[5])):transArr.push(0);return transArr;}
return{translate:translate,getTranslateProps:getTranslateProps};})();function af_percentInViewport(el,topOffset){if(!el){return 0;}
var rect=el.getBoundingClientRect();var wSize=af_windowSize();var visibleHeight=rect.height-(topOffset||0);var visibleWidth=rect.width;var totalSize=visibleHeight*visibleWidth;if(rect.top<0&&rect.bottom>0){visibleHeight+=rect.top;}
if(rect.bottom>wSize.h&&rect.top<wSize.h){visibleHeight+=(wSize.h-rect.bottom);}
if((Math.max(rect.top,rect.bottom)<0)||(Math.min(rect.bottom,rect.top)>wSize.h)){visibleHeight=0;}
if(rect.left<0&&rect.right>0){visibleWidth+=rect.left;}
if(rect.right>wSize.w&&rect.left<wSize.w){visibleWidth+=(wSize.w-rect.right);}
if((Math.max(rect.left,rect.right)<0)||(Math.min(rect.left,rect.right)>wSize.w)){visibleWidth=0;}
return((visibleHeight*visibleWidth)/totalSize);}
function af_isInViewport(el,percent,topOffset){if(!el){return false;}
if(typeof percent!=='number'){percent=1;}
return(af_percentInViewport(el,topOffset)>=percent);}
var _isIOS;function af_isIOS(){if(typeof _isIOS==='undefined'){_isIOS=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)!==null;}
return _isIOS;}
function af_findAncestor(el,cls){while((el=el.parentElement)&&!el.classList.contains(cls));return el;}
var af_userAgent=(function(){var _isMobile=false;var _isTablet=false;var _regexMobile=/(ipod|blackberry|phone|mobile|opera mini|pda|symbian|3ds|nokia|ericsson|alcatel)/gi;var _regexTabletSmall=/(pad|lenovo|tab|GT-P5210|GT-P5110|Nexus 7|GT-N8010|GT-P3110)/gi;var _regexTablet=/(pad|tab|android)/gi;var _initialized=false;function _init(){if(_initialized)return;_initialized=true;if(navigator.userAgent.match(_regexMobile)){if(navigator.userAgent.match(_regexTabletSmall)){_isTablet=true;}else{_isMobile=true;}}else if(navigator.userAgent.match(_regexTablet)&&!navigator.userAgent.match(/(pc)/gi)){_isTablet=true;}}
function isMobile(){_init();return _isMobile;}
function isTablet(){_init();return _isTablet;}
return{isMobile:isMobile,isTablet:isTablet};})();function af_isMobile(){return af_userAgent.isMobile();}
function af_isTablet(){return af_userAgent.isTablet();}
function af_refreshAds(formatIds,extraTarget,delay,pageId,forceMasterFlag,resetTimestamp,tagId){window.afLogger.logError('af_refreshAds should not be used','ads');if(window.afAd&&typeof afAd.refreshAds==='function'){return afAd.refreshAds({delay:delay,extraTarget:extraTarget,formatIds:formatIds,tagId:tagId});}}
function afAd_removeFromFormatIds(format){if(sas_formatIds){if(sas_formatIds.indexOf(format)===0){sas_formatIds=sas_formatIds.replace(format+',','');sas_formatIds=sas_formatIds.replace(format,'');}else{sas_formatIds=sas_formatIds.replace(','+format,'');sas_formatIds=sas_formatIds.replace(format,'');}}
if(window.afAd){for(var i in afAd.placeholders){if(afAd.placeholders[i].formatId===format){delete afAd.placeholders[i];}}}}
function af_setValueToDatalayer(category,name,value){var valueSetted=false;unify_dataSlayer.forEach(function(elem,index){if(elem[category]!==undefined){if(valueSetted===false){if(elem[category].hasOwnProperty(name)){console.info('Already existing dataLayer value has been updated.',category,name,value);}
unify_dataSlayer[index][category][name]=value;valueSetted=true;}else{console.warn('Duplicate dataLayer category founded :',category);}}});if(valueSetted===true){return;}
var o=new Object();var c=new Object();c[name]=value;o[category]=c;unify_dataSlayer.push(o);}
function af_getValueFromDatalayer(category,name){var value=null;unify_dataSlayer.forEach(function(elem,index){if(elem[category]!==undefined&&unify_dataSlayer[index][category][name]!==undefined){value=unify_dataSlayer[index][category][name];}});return value;}
function af_obfuscateLink(className){var elementsToObfuscate=document.getElementsByClassName(className);if(!elementsToObfuscate){return;}
[...elementsToObfuscate].forEach(function(element){af_addEvent(element,'click',function(){var encodedLink=this.getAttribute('data-encoded-link');if(encodedLink){var link=decodeURIComponent(window.atob(encodedLink));var target=this.getAttribute('target');if(target==='_blank'){var newWindow=window.open(link,'_blank');newWindow.focus();}else{window.location.href=link;}}});});}
function af_obfuscateText(className){var elementsToObfuscate=document.getElementsByClassName(className);if(!elementsToObfuscate){return;}
[...elementsToObfuscate].forEach(function(element){element.innerHTML=window.atob(element.innerHTML);element.classList.remove(className);});}
function af_addClickZone(targetName,targetType){var elements=[];if(targetType==='id'){var el=document.getElementById(targetName);if(el){elements.push(el);}}else if(targetType==='class'){elements=document.getElementsByClassName(targetName);}
[...elements].forEach(function(element){af_addClickZoneEvent(element);});}
function af_addClickZoneEvent(element){if(!element){return;}
var link=element.querySelector('a, span.af-to-obfuscate');if(!link){return;}
var tagName=link.tagName.toLowerCase();if((tagName==='a'&&!link.href)||(tagName==='span'&&!link.dataset.encodedLink)){return;}
element.style.cursor='pointer';af_addEvent(element,'click',function(event){var thisTagName=event.target.tagName.toLowerCase();if((thisTagName==='a'&&event.target.href)||(thisTagName==='span'&&event.target.dataset.encodedLink)){return;}
var thisLink=this.querySelector('a, span.af-to-obfuscate');thisLink.click();});}




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fauf%2FafLogger.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/auf/afLogger.js?v=202406200958 **/
var Aflog=window.Aflog||{};Aflog.Queue=(function(){var queue=function(cmd){this.push(cmd);};queue.prototype={constructor:queue,push:function(){for(var i=0;i<arguments.length;i++){try{if(typeof arguments[i]==='function'){arguments[i]();}}catch(e){if(window.afLogger){afLogger.logError('Aflog command queue error: '+e);}}}}};return queue;})();Aflog.Logger=Aflog.Logger||(function(){var BEACON_URL='https://pixels.afcdn.com/logpix.php';var LEGACY_ERROR_PIXEL_PATH='/reloaded/errpix.php';var CHANNEL='JS Logger';var EXTERNAL_DOMAINS_REGEXP=/onmeda|netmums|itsrosy|livingly|lonny|mabelandmoxie|stylebistro|zimbio|lesnumeriques|cnetfrance|beaute-test|gamekult|zdnet|programmez|paroledemamans|avisdemamans|paroledesagesfemmes/i;var EXTERNAL_DOMAINS_REGEXP_LEGACY=/doctissimo/i;var SESSIONS_SERVICE_NAME='session';var SESSIONS_SAMPLE_RATE=10;var ERRORS_SERVICE_NAME='statslogs';var ERRORS_SAMPLE_RATE=10;var EVENTS_SAMPLE_RATE=100;var REALTIME_SAMPLE_RATE=0;var REALTIME_ENDPOINT='https://europe-west1-realtime-logging-228816.cloudfunctions.net/realtime-logs';var REALTIME_MAXQUEUE=50;var REALTIME_TIMEOUT=10000;var REALTIME_LOGGING_HEADER_BIDDING_MAPPING={content_type:'datalayer.pageInfo.contentType',site:'datalayer.siteInfo.platform',segment:'datalayer.userInfo.segment',device:'datalayer.userInfo.device',browser:'#UA_BROWSER#',browser_version:'#UA_BROWSER_VER#',os:'#UA_OS#',os_version:'#UA_OS_VER#',account:'headerBidding.account',adserver:'headerBidding.adserver',bidder:'headerBidding.bidder',cpm:'headerBidding.cpm',format:'headerBidding.format',size:'headerBidding.size',target:'headerBidding.target',ad_unit_path:'headerBidding.ad_unit_path',line_item_id:'headerBidding.line_item_id',campaign_id:'headerBidding.campaign_id',creative_id:'headerBidding.creative_id'};var logger=function(options){this.init(options);};let sessionDataDisabled;logger.prototype={verbose:{},context:{},init:function(options){this.datalayer=options&&options.datalayer?options.datalayer:window.af_dataLayer?af_dataLayer[0]:null;sessionDataDisabled=options?options.disableSessionData:false;this.initCommandQueue();this.initContext(options);this.initSessionsLogger();window.onbeforeunload=function(){this.sendLogsToBigQuery();return;}.bind(this);},initCommandQueue:function(){Aflog.cmd=new Aflog.Queue(Aflog.cmd);},initContext:function(options){if(options&&options.context){this.context=options.context;}
var connection=navigator.connection||{};this.context.network={downlink:connection.downlink,effectiveType:connection.effectiveType,rtt:connection.rtt,saveData:connection.saveData};var bowser=window.bowser;if(!bowser){return;}
this.context.browser=getBowserContext(bowser);this.realtimeLoggingPlaceholders={'#UA_BROWSER#':this.context.browser.name,'#UA_BROWSER_VER#':this.context.browser.version,'#UA_OS#':this.context.browser.osName,'#UA_OS_VER#':this.context.browser.osVersion};function getBowserContext(d){if(!d&&!d.name&&!d.browser){console.error('[Analytics] [VIDEO] Bowser package is not loaded !!');return;}
const browserInformations={name:d.name||d.browser?.name,version:d.version||d.browser?.version};const osInformations={osName:d.osname||d.os?.name,osVersion:d.osversion||d.os?.version};return{...browserInformations,...osInformations};}},addContext:function(data){if(!this.context.browser){this.initContext();}
data=data||{};data.datalayer=data.datalayer||this.getFilteredDatalayer();data.session=data.session||!sessionDataDisabled?this.getSessionData():undefined;data.browser=this.context.browser;data.network=this.context.network;return data;},setVerbose:function(service,enabled){if(!service){this.logError('Failed activating verbose - missing service name');return;}
var key=service.toLowerCase()+'_verbose';this.verbose[service]=enabled||this.getConfig(key)?'1':'0';localStorage.setItem(key,this.verbose[service]);},setDataLayer:function(datalayer){this.datalayer=datalayer;},logConsole:function(logs,format,service,error){if(!window.console){return;}
if(service&&!this.getConfig(service.toLowerCase()+'_verbose')){return;}
format=format||'log';if(typeof logs==='object'&&!Array.isArray(logs)){format='table';}else if(service){logs=[].concat('['+service+'] ',logs);}
if(format==='table'){console.table(logs);}else if(format==='count'){console.count(logs);}else if(format==='error'&&error){console.error(error);}else{console[format].apply(console,[].concat(logs));}},logError:function(message,pool,consoleOnly,data,error){var prefix=pool?'['+pool+'] ':'';this.logConsole(prefix+message,'error',undefined,error);var sampleRate=data&&data.sampleRate!==undefined?data.sampleRate:ERRORS_SAMPLE_RATE;if(consoleOnly||(sampleRate&&sampleRate<Math.floor(Math.random()*100))){return;}
var data=data||{};data.pool=pool||'JS';data.coef=Math.floor(100/sampleRate);data.revision=this.context.revision||'N/A';data.stacktrace=data.stacktrace||'N/A';data=this.addContext(data);var reversedMessage=message.split('').reverse().join('');var stackMessage=data.stacktrace.split('').reverse().join('');var url=this.getLogPixelDomain()+
LEGACY_ERROR_PIXEL_PATH+'?s='+
data.coef+'&d='+
encodeURIComponent(reversedMessage)+'&st='+
encodeURIComponent(stackMessage)+'&t='+
Math.round(Math.random()*99999)+
(pool?'&c='+encodeURIComponent(data.pool):'');this.sendBeacon(url);this.sendLogToPixel(ERRORS_SERVICE_NAME,message,data);},logErrorWithContext:function(message,pool,data){this.logError(message,pool,false,data);},logEvent:function(service,message,data){if(!service){this.logError('Log event without specifying service');}
data=data||{};data=this.addContext(data);var sampleRate=data.sampleRate!==undefined?data.sampleRate:EVENTS_SAMPLE_RATE;data.coef=Math.floor(100/sampleRate);this.logConsole([message,data],'log',service);var isSampled=(data&&data.sampled)||Math.floor(Math.random()*100)>EVENTS_SAMPLE_RATE;if(!isSampled){this.sendLogToPixel(service,message,data);}},logAnalytics:function(service,logs,applySampling){if(!(logs instanceof Array)){logs=[logs];}
if(logs.length<1){return;}
var datalayer=this.getFilteredDatalayer();var sessionData=!sessionDataDisabled?this.getSessionData():undefined;for(var i=0,l=logs.length;i<l;i++){logs[i].sessionData=sessionData;logs[i].datalayer=datalayer;logs[i].url=window.location.href;}
this.addLogsToQueue(service,logs,applySampling);},getSessionData:function(){if(!window.afSession){this.logError('Failed retrieving session data');return;}
return{visitor:afSession.getVisitorId(),session:afSession.getSessionId(),pageview:afSession.getPageviewId(),wave:afSession.getWaveId(),rank:afSession.getRankId()};},getFilteredDatalayer:function(){if(!this.datalayer){return{siteInfo:{platform:document.domain.replace('www.','').replace('m.','')}};}
var filteredDatalayer={};if(this.datalayer.userInfo||this.datalayer.user){var key=this.datalayer.userInfo?'userInfo':'user';filteredDatalayer.userInfo={du:this.datalayer[key].du||this.datalayer[key].dom,device:this.datalayer[key].device,adblocker:this.datalayer[key].adblocker?true:false,screenResolution:this.datalayer[key].screenResolution,segment:this.datalayer[key].segment};filteredDatalayer.vuid=this.datalayer[key].vuid||this.datalayer[key].id;}
if(this.datalayer.pageInfo||(this.datalayer.page&&this.datalayer.page)){var key=this.datalayer.userInfo?'pageInfo':'page';filteredDatalayer[key]={version:this.datalayer[key].version||null,contentType:this.datalayer[key].contentType||this.datalayer.content.type,section:this.datalayer[key].section,subsection:this.datalayer[key].subsection||this.datalayer[key].subSection,tag:this.datalayer[key].tag||this.datalayer[key].mainTag,category:this.datalayer[key].category||null,adstack:this.datalayer[key].adstack||null};}
if(this.datalayer.campaignInfo||this.datalayer.campaignInfo){var key=this.datalayer.userInfo?'campaignInfo':'utm';filteredDatalayer.campaignInfo={utmSource:this.datalayer[key].utmSource||this.datalayer[key].source,utmCampaign:this.datalayer[key].utmCampaign||this.datalayer[key].campaign,utmMedium:this.datalayer[key].utmMedium||this.datalayer[key].medium,paid:this.datalayer[key].paid||['cpc','cpc-vertical','cpc-horizontal'].includes(this.datalayer[key].medium)};}
if(this.datalayer.siteInfo||this.datalayer.site){var key=this.datalayer.siteInfo?'siteInfo':'site';var isMobile=null;if(this.datalayer[key].isMobile!=='undefined'){isMobile=this.datalayer[key].isMobile;}else if(filteredDatalayer.userInfo){isMobile=filteredDatalayer.userInfo!=='desktop'?1:0;}
filteredDatalayer.siteInfo={platform:this.datalayer[key].platform,isMobile:isMobile};}
return filteredDatalayer;},initSessionsLogger:function(){if(!window.PubSub){return;}
var that=this;PubSub.subscribe('datalayer.ready',function(){that.logSessions();});PubSub.subscribe('tracking.call',function(){that.logSessions();});},logSessions:function(){if(SESSIONS_SAMPLE_RATE&&Math.floor(Math.random()*100)>SESSIONS_SAMPLE_RATE){return;}
this.logEvent(SESSIONS_SERVICE_NAME,'pageview');},sendLogToPixel:function(service,message,data){var payload=JSON.stringify({service_name:service,channel:CHANNEL,message:message,data:data});this.sendBeacon(BEACON_URL,payload);},getLogPixelDomain:function(){var domain=location.hostname;var hostnameArr=location.hostname.split('.');if(hostnameArr.length>2){hostnameArr.shift();domain=hostnameArr.join('.');}
if(EXTERNAL_DOMAINS_REGEXP.test(location.hostname)){domain='https://aufeminin.'+domain;}else if(EXTERNAL_DOMAINS_REGEXP_LEGACY.test(location.hostname)){domain='https://dfp.'+domain;}else if(location.hostname.indexOf('local.')>=0){domain='https://local.'+domain;}else{domain='https://www.'+domain;}
return domain;},realtimeLogs:{},realtimeTimer:null,realtimeLogTime:null,realtimeLoggingMapping:{HEADER_BIDDING:REALTIME_LOGGING_HEADER_BIDDING_MAPPING,HEADER_BIDDING_BOOKED:REALTIME_LOGGING_HEADER_BIDDING_MAPPING,HEADER_BIDDING_RENDER:REALTIME_LOGGING_HEADER_BIDDING_MAPPING},addLogsToQueue:function(service,logs,applySampling){if(applySampling&&REALTIME_SAMPLE_RATE&&Math.floor(Math.random()*100)>REALTIME_SAMPLE_RATE){return;}
for(var i=0,l=logs.length;i<l;i++){var formattedLog=this.getFormattedRealtimeLog(service,logs[i]);if(typeof formattedLog!=='undefined'){if(!this.realtimeLogs.hasOwnProperty(service)){this.realtimeLogs[service]=[];}
this.realtimeLogs[service].push(formattedLog);}}
var nbLogs=0;for(var type in this.realtimeLogs){nbLogs+=this.realtimeLogs[type].length;}
if(nbLogs>REALTIME_MAXQUEUE){this.sendLogsToBigQuery();}else{var that=this;this.realtimeTimer=window.setTimeout(function(){that.sendLogsToBigQuery();},REALTIME_TIMEOUT);}},getFormattedRealtimeLog:function(service,log){var formattedLog={};if(this.realtimeLoggingMapping.hasOwnProperty(service)){var mapping=this.realtimeLoggingMapping[service];for(var key in mapping){if(mapping.hasOwnProperty(key)){var value=mapping[key];if(this.realtimeLoggingPlaceholders.hasOwnProperty(value)){formattedLog[key]=this.realtimeLoggingPlaceholders[value];}else{var path=value.split('.');for(var i=0;i<path.length;i++){if(formattedLog.hasOwnProperty(key)&&formattedLog[key].hasOwnProperty(path[i])){formattedLog[key]=formattedLog[key][path[i]];}else if(!formattedLog.hasOwnProperty(key)&&log.hasOwnProperty(path[i])){formattedLog[key]=log[path[i]];}else{formattedLog[key]=null;break;}}}}}}else{return;}
return formattedLog;},sendLogsToBigQuery:function(){var data=[];for(var service in this.realtimeLogs){if(this.realtimeLogs[service].length>0){data.push({logtype:service,logs:this.realtimeLogs[service]});}}
this.realtimeLogs={};window.clearTimeout(this.realtimeTimer);if(data.length>0){this.logConsole(['real-time bulk logging',data],'','realtime');var headers=[{header:'Content-Type',value:'application/json'}];return this.sendXhrRequest('POST',REALTIME_ENDPOINT,data,headers);}},getConfig:function(key){if(!this.hashs){this.hashs=this.getLocationHash();}
return(this.hashs[key]||(window.localStorage&&localStorage.getItem(key))||'');},sendBeacon:function(url,data){if(navigator.sendBeacon){navigator.sendBeacon(url,data);}else{this.sendXhrRequest('POST',url,data);}},sendXhrRequest:function(method,url,payload,headers){var request=window.XDomainRequest?new XDomainRequest():new XMLHttpRequest();request.open(method,url,true);if(!window.XDomainRequest&&headers&&headers.length){for(var i=0,l=headers.length;i<l;i++){request.setRequestHeader(headers[i].header,headers[i].value);}}
request.onerror=function(response){this.logError('Error while sending XHR request to '+url);};var body=JSON.stringify(payload);return request.send(body);},getLocationHash:function(){var hashParams={};var e,a=/\+/g,r=/([^&;=]+)=?([^&;]*)/g,d=function(s){return decodeURIComponent(s.replace(a,' '));},q=window.location.hash.substring(1);while((e=r.exec(q))){hashParams[d(e[1])]=d(e[2]);}
return hashParams;}};return logger;})();window.module={};module.exports=Aflog.Logger;window.module=undefined;




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fauf%2FafSession.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/auf/afSession.js?v=202406200958 **/
var AufSession=window.AufSession||(function(){var COOKIE_NAME='af_session';var SESSION_TTL_MINUTES=30;var session=function(){if(!window.JSON)return;this.init();};session.prototype={constructor:session,init:function(){var rawCookie=af_getCookie(COOKIE_NAME);if(!rawCookie){this.cookie={visitorId:this.getGuid(),sessionId:1,sessionStartTime:this.getTime(),sessionUtm:this.getUtmFromUrl(),pageviewId:1,waveId:0,rankId:0};this.save();}else{this.cookie=JSON.parse(decodeURIComponent(rawCookie));if(typeof this.cookie.rankId==='undefined'){this.cookie.rankId=this.cookie.waveId;}
this.updatePageview();}},save:function(){var that=this;window.didomiOnReady=window.didomiOnReady||[];window.didomiOnReady.push(function(Didomi){if(Didomi.getUserConsentStatusForPurpose('create_ads_profile')===true&&Didomi.getUserConsentStatusForPurpose('cookies')===true){that.updateAdTargetingKeywords();af_setPermCookie(COOKIE_NAME,JSON.stringify(that.cookie));}
Didomi.on('consent.changed',function(){if(Didomi.getUserConsentStatusForPurpose('create_ads_profile')===true&&Didomi.getUserConsentStatusForPurpose('cookies')===true){that.updateAdTargetingKeywords();af_setPermCookie(COOKIE_NAME,JSON.stringify(that.cookie));}});});},getVisitorId:function(){return this.cookie.visitorId;},getSessionId:function(){return this.cookie.sessionId;},getPageviewId:function(){return this.cookie.pageviewId;},getWaveId:function(){return this.cookie.waveId;},getRankId:function(){return this.cookie.rankId;},getUtm:function(){return{source:this.getUtmSource(),medium:this.getUtmMedium(),campaign:this.getUtmCampaign()};},getSegment:function(){if(typeof afForcedSegment!=='undefined'){return parseInt(afForcedSegment);}
var visitorId=this.getVisitorId();if(typeof visitorId==='undefined'){if(window.afLogger)afLogger.logError('visitorId is not defined');return Math.floor(Math.random()*10);}
var segment=parseInt(visitorId.slice(-1));if(isNaN(segment)){if(window.afLogger)afLogger.logError('segment is NaN');return Math.floor(Math.random()*10);}
return segment;},getUtmQuerystring:function(){var keywords=this.getUtm();var arr=[];for(var key in keywords){if(keywords[key]){arr.push('utm_'+key+'='+keywords[key]);}}
return arr.join('&');},getUtmSource:function(){return this.cookie.sessionUtm&&this.cookie.sessionUtm.source?this.cookie.sessionUtm.source:'';},getUtmMedium:function(){return this.cookie.sessionUtm&&this.cookie.sessionUtm.medium?this.cookie.sessionUtm.medium:'';},getUtmCampaign:function(){return this.cookie.sessionUtm&&this.cookie.sessionUtm.campaign?this.cookie.sessionUtm.campaign:'';},isPaid:function(){return(['cpc','cpc-vertical','cpc-horizontal'].includes(this.getUtmMedium()));},updateSession:function(){if(this.isSessionExpired()){this.newSession();this.newPageview(true);this.newWave(true);this.newRank(true);}
this.cookie.sessionStartTime=this.getTime();this.save();},updatePageview:function(){this.newPageview();this.newWave(true);this.updateSession();},updateWave:function(){this.newWave();this.newRank();this.updateSession();},isSessionExpired:function(){var now=new Date();var sessionStartDateString=new Date(this.cookie.sessionStartTime).toDateString();var sessionEndTime=this.cookie.sessionStartTime+SESSION_TTL_MINUTES*60*1000;var utmFromUrl=this.getUtmFromUrl();return(now.getTime()>sessionEndTime||now.toDateString()!==sessionStartDateString||utmFromUrl&&((utmFromUrl.source&&utmFromUrl.source!==this.getUtmSource())||(utmFromUrl.medium&&utmFromUrl.medium!==this.getUtmMedium())||(utmFromUrl.campaign&&utmFromUrl.campaign!==this.getUtmCampaign())));},newSession:function(){this.cookie.sessionId=(this.cookie.sessionId>=1000?1:(this.cookie.sessionId+1)%1000);this.cookie.sessionUtm=this.getUtmFromUrl();},newPageview:function(reset){this.cookie.pageviewId=((reset||this.cookie.pageviewId>=1000)?1:(this.cookie.pageviewId+1)%1000);},newWave:function(reset){this.cookie.waveId=((reset||this.cookie.waveId>=1000)?0:(this.cookie.waveId+1)%1000);},newRank:function(reset){this.cookie.rankId=((reset||this.cookie.rankId>=1000)?0:(this.cookie.rankId+1)%1000);},getAdTargetingKeywords:function(){return{'visitor':this.getVisitorId(),'session':this.getSessionId(),'pageview':this.getPageviewId(),'wave':this.getWaveId(),'rank':this.getRankId(),'utm_source':this.getUtmSource(),'utm_medium':this.getUtmMedium(),'utm_campaign':this.getUtmCampaign(),'segment':this.getSegment()+'s'};},getAdTargetingKeywordsFormatted:function(){var keywords=this.getAdTargetingKeywords();var arr=[];for(var key in keywords){if(keywords[key]){arr.push(key+'='+keywords[key]);}}
return';'+arr.join(';')+';';},updateAdTargetingKeywords:function(){window.afAdQueue=window.afAdQueue||[];window.afAdQueue.push(function(){var keywords=this.getAdTargetingKeywords();window.sas_target=window.sas_target||'';for(var key in keywords){afAd.updateKeyword(key,keywords[key]);}}.bind(this));},getTime:function(){return(new Date()).getTime();},getGuid:function(){return Date.now().toString()+Math.floor(Math.random()*1000).toString();},getUtmFromUrl:function(){var hash=document.location.hash.substring(1);var querystring=document.location.search.substring(1);var combination=querystring+'&'+hash;if(querystring||hash){var combinationArray=combination.replace(/&|#/g,'|').split('|');var utm={};for(var i=0,l=combinationArray.length;i<l;i++){var combinationValue=combinationArray[i].split('=');var key=combinationValue[0];var value=combinationValue[1];if(key&&value){var qmPos=value.indexOf('?');if(qmPos>=0){value=value.substr(0,qmPos);}
switch(key){case'utm_source':utm.source=value;break;case'utm_medium':utm.medium=value;break;case'utm_campaign':utm.campaign=value;break;}}}
return utm;}
return null;},debug:function(){console.table(this);}};return session;})();




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fauf%2Fga.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/auf/ga.js?v=202406200958 **/
function af_ua_trackEvent(category,action,opt_label,opt_value,opt_noninteraction,prefix,sampling,customData){if(category=='AF_Album'&&action=='go')return;if(category=='AF_Album'&&action=='prev')return;if(category=='AF_Album'&&action=='next')return;if(!isNaN(parseInt(sampling))&&Math.floor(Math.random()*100)>sampling){return;}
var opt_label=opt_label||'',opt_value=opt_value||0,opt_noninteraction=opt_noninteraction||false,prefix=prefix||'';if(typeof m_dataLayer!='undefined'){var event={event:'UA-Event',uaEventCategory:category,uaEventAction:action,uaEventLibelle:opt_label,uaEventValue:opt_value,uaEventNonInt:true};for(var data in customData){event[data]=customData[data];}
m_dataLayer.push(event);}else if(typeof af_dataLayer!='undefined'){var event={event:'UA - Event',eventCategory:category,eventAction:action,eventLabel:opt_label,eventValue:opt_value,eventNonInt:true};for(var data in customData){event[data]=customData[data];}
af_dataLayer.push(event);}else if(typeof _gaq!='undefined'){if(prefix!=''&&prefix.substr(-1)!='.')prefix+='.';_gaq.push([prefix+'_trackEvent',category,action,opt_label,opt_value,opt_noninteraction]);}
if(typeof unify_dataSlayer!='undefined'){var event={event:'uaevent',eventCategory:category,eventAction:action,eventLabel:opt_label,eventValue:opt_value,eventNonInt:true};for(var data in customData){event[data]=customData[data];}
if(window.gdprAppliesGlobally){window.didomiOnReady=window.didomiOnReady||[];window.didomiOnReady.push(function(){unify_dataSlayer.push(event);});}else{unify_dataSlayer.push(event);}}}
function af_ua_trackVirtualPV(url){if(typeof m_dataLayer!='undefined'){m_dataLayer.push({event:'UA-VirtualPageView',virtualPageURL:url});}else if(typeof af_dataLayer!='undefined'){af_dataLayer.push({event:'VirtualPageView',virtualPageURL:url});}else if(typeof _gaq!='undefined'){_gaq.push(['_trackPageview',url]);}
if(typeof unify_dataSlayer!='undefined'){unify_dataSlayer.push({event:'virtualPageView',virtualPageURL:url});}
if(window.iom&&window.iam_data){window.iom.c(window.iam_data.cp,1);}
if(window.IOMm&&window.iam_data){window.IOMm('pageview',{cp:window.iam_data.cp});}}
function uaAddVirtualPageView(url){m_dataLayer.push({event:'UA-VirtualPageView',virtualPageURL:url});}
function uaAddEvent(category,action,libelle,value,opt_noninteraction){if(typeof m_dataLayer!='undefined'){m_dataLayer.push({event:'UA-Event',uaEventCategory:category,uaEventAction:action,uaEventLibelle:libelle,uaEventValue:value,uaEventNonInt:true});}}
function ga_trackOutboundLink(event){try{var event=event||window.event;if(event.button!=2){var el=event.srcElement||event.target;while(el&&(typeof el.tagName=='undefined'||el.tagName.toLowerCase()!='a'||!el.href))
el=el.parentNode;if(el&&el.href){if(el.href.indexOf(document.domain)==-1&&/^(https?:)?\/\//.test(el.href)){af_gaqTrackEvent('Outbound Link',el.href,document.location.pathname+document.location.search);if(typeof OPS_GA_account!='undefined')
af_gaqTrackEvent('Outbound Link',el.href,document.location.pathname+document.location.search,'',false,'ops');if(!el.target||el.target.match(/^_(self|parent|top)$/i)){setTimeout(function(){document.location.href=el.href;}.bind(el),100);event.preventDefault?event.preventDefault():(event.returnValue=false);}}}}}catch(e){afLogger.logError('Unable to track outbound link');}}
window.module={};module.exports={af_ua_trackEvent,af_ua_trackVirtualPV,uaAddVirtualPageView,uaAddEvent,ga_trackOutboundLink};window.module=undefined;




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fpolyfill%2Fclasslist.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/polyfill/classlist.js?v=202406200958 **/
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
if("document"in window.self){if(!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))){(function(view){"use strict";if(!('Element'in view))return;var
classListProp="classList",protoProp="prototype",elemCtrProto=view.Element[protoProp],objCtr=Object,strTrim=String[protoProp].trim||function(){return this.replace(/^\s+|\s+$/g,"");},arrIndexOf=Array[protoProp].indexOf||function(item){var
i=0,len=this.length;for(;i<len;i++){if(i in this&&this[i]===item){return i;}}
return-1;},DOMEx=function(type,message){this.name=type;this.code=DOMException[type];this.message=message;},checkTokenAndGetIndex=function(classList,token){if(token===""){throw new DOMEx("SYNTAX_ERR","An invalid or illegal string was specified");}
if(/\s/.test(token)){throw new DOMEx("INVALID_CHARACTER_ERR","String contains an invalid character");}
return arrIndexOf.call(classList,token);},ClassList=function(elem){var
trimmedClasses=strTrim.call(elem.getAttribute("class")||""),classes=trimmedClasses?trimmedClasses.split(/\s+/):[],i=0,len=classes.length;for(;i<len;i++){this.push(classes[i]);}
this._updateClassName=function(){elem.setAttribute("class",this.toString());};},classListProto=ClassList[protoProp]=[],classListGetter=function(){return new ClassList(this);};DOMEx[protoProp]=Error[protoProp];classListProto.item=function(i){return this[i]||null;};classListProto.contains=function(token){token+="";return checkTokenAndGetIndex(this,token)!==-1;};classListProto.add=function(){var
tokens=arguments,i=0,l=tokens.length,token,updated=false;do{token=tokens[i]+"";if(checkTokenAndGetIndex(this,token)===-1){this.push(token);updated=true;}}
while(++i<l);if(updated){this._updateClassName();}};classListProto.remove=function(){var
tokens=arguments,i=0,l=tokens.length,token,updated=false,index;do{token=tokens[i]+"";index=checkTokenAndGetIndex(this,token);while(index!==-1){this.splice(index,1);updated=true;index=checkTokenAndGetIndex(this,token);}}
while(++i<l);if(updated){this._updateClassName();}};classListProto.toggle=function(token,force){token+="";var
result=this.contains(token),method=result?force!==true&&"remove":force!==false&&"add";if(method){this[method](token);}
if(force===true||force===false){return force;}else{return!result;}};classListProto.toString=function(){return this.join(" ");};if(objCtr.defineProperty){var classListPropDesc={get:classListGetter,enumerable:true,configurable:true};try{objCtr.defineProperty(elemCtrProto,classListProp,classListPropDesc);}catch(ex){if(ex.number===undefined||ex.number===-0x7FF5EC54){classListPropDesc.enumerable=false;objCtr.defineProperty(elemCtrProto,classListProp,classListPropDesc);}}}else if(objCtr[protoProp].__defineGetter__){elemCtrProto.__defineGetter__(classListProp,classListGetter);}}(window.self));}
(function(){"use strict";var testElement=document.createElement("_");testElement.classList.add("c1","c2");if(!testElement.classList.contains("c2")){var createMethod=function(method){var original=DOMTokenList.prototype[method];DOMTokenList.prototype[method]=function(token){var i,len=arguments.length;for(i=0;i<len;i++){token=arguments[i];original.call(this,token);}};};createMethod('add');createMethod('remove');}
testElement.classList.toggle("c3",false);if(testElement.classList.contains("c3")){var _toggle=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(token,force){if(1 in arguments&&!this.contains(token)===!force){return force;}else{return _toggle.call(this,token);}};}
testElement=null;}());}




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fjquery%2Fjquery.documentReady.min.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/jquery/jquery.documentReady.min.js?v=202406200958 **/
(function(window){"use strict";var $=function(callback){registerOrRunCallback(callback);bindReady();},document=window.document,readyBound=false,callbackQueue=[],registerOrRunCallback=function(callback){if(typeof callback==="function"){callbackQueue.push(callback);}},DOMReadyCallback=function(){while(callbackQueue.length){(callbackQueue.shift())();}
registerOrRunCallback=function(callback){callback();};},DOMContentLoaded=function(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);}else{document.detachEvent("onreadystatechange",DOMContentLoaded);}
DOMReady();},DOMReady=function(){if(!$.isReady){if(!document.body){return setTimeout(DOMReady,1);}
$.isReady=true;DOMReadyCallback();}},bindReady=function(){var toplevel=false;if(readyBound){return;}
readyBound=true;if(document.readyState!=="loading"){DOMReady();}
if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",DOMContentLoaded,false);}else if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",DOMContentLoaded);try{toplevel=window.frameElement==null;}catch(e){}
if(document.documentElement.doScroll&&toplevel){doScrollCheck();}}},doScrollCheck=function(){if($.isReady){return;}
try{document.documentElement.doScroll("left");}catch(error){setTimeout(doScrollCheck,1);return;}
DOMReady();};$.isReady=false;window.jquery$=$;})(window);




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fauf%2FafPopin.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/auf/afPopin.js?v=202406200958 **/
var AufPopin=(function(){AufPopin=function(){};AufPopin.prototype={cookieName:'af-popin',permanent:false,af_overlay:null,popin:null,startDate:null,endDate:null,imageUrl:null,imageWidth:null,imageHeight:null,title:null,firstText:null,firstTextClass:'af-popin-text-top',secondText:null,secondTextClass:'af-popin-text-top',ctaText:null,ctaLink:null,redirectText:null,redirectLink:null,bottomText:null,bottomTextClass:'af-popin-text-bottom',checkboxLabel:null,checkboxDiv:null,noCloseBtn:false,addedClass:null,timeout:0,init:function(o){this.cookieName=o.cookieName||this.cookieName;this.permanent=o.permanent||this.permanent;this.startDate=o.startDate||null;this.endDate=o.endDate||null;this.imageUrl=o.imageUrl||null;this.imageWidth=o.imageWidth||null;this.imageHeight=o.imageHeight||null;this.title=o.title||null;this.firstText=o.firstText||null;this.firstTextClass=o.firstTextClass||this.firstTextClass
this.secondText=o.secondText||null;this.secondTextClass=o.secondTextClass||this.secondTextClass
this.ctaText=o.ctaText||null;this.ctaLink=o.ctaLink||null;this.redirectText=o.redirectText||null;this.redirectLink=o.redirectLink||null;this.bottomText=o.bottomText||null;this.checkboxLabel=o.checkboxLabel||null;this.noCloseBtn=o.noCloseBtn||null;this.addedClass=o.addedClass||null;this.timeout=o.timeout||0;},showPopin:function(){var that=this;if(!this.canShowPopIn()){return;}
setTimeout(function(){that.openPopin();},this.timeout*1000);},canShowPopIn:function(){var currentDate=new Date();var onlineDate=null;var offlineDate=null;if(this.startDate){onlineDate=new Date(this.startDate.year,this.startDate.month,this.startDate.day);}
if(this.endDate){offlineDate=new Date(this.endDate.year,this.endDate.month,this.endDate.day);}
if((onlineDate&&currentDate<onlineDate)||(offlineDate&&currentDate>offlineDate)){return false;}
var cookie=af_getCookie(this.cookieName);if(this.permanent!==false){return true;}
if(cookie!==''){return false;}
return true;},setOverlay:function(){if(this.af_overlay){this.af_overlay.classList.add('af-overlay--active');}},closePopin:function(){if(this.af_overlay){if(this.checkboxDiv){if(!this.checkboxDiv.querySelector('input').checked){this.checkboxDiv.classList.add('error');return;}}
this.af_overlay.classList.remove('af-overlay--active');this.popin.remove();if(af_isMobile()){var scrolly=document.body.style.top;document.body.style.position='';document.body.style.top='';window.scrollTo(0,parseInt(scrolly||'0')*-1);}
else{document.body.classList.remove('no-scroll');}
af_setCookie(this.cookieName,'1',60*24*90);}},openPopin:function(){this.af_overlay=document.getElementsByClassName('af-overlay')[0];this.setOverlay();af_addEvent(this.af_overlay,'click',this.closePopin.bind(this),false);var popin=document.createElement('div');popin.classList.add('af-popin');if(af_isMobile()){popin.classList.add('mobile');}
if(this.addedClass){popin.className=popin.className+' '+this.addedClass;}
if(!this.noCloseBtn){var buttonClose=document.createElement('div');buttonClose.classList.add('af-popin-btn-close');buttonClose.classList.add('icon-close-btn');af_addEvent(buttonClose,'click',this.closePopin.bind(this),false);popin.appendChild(buttonClose);}
var contentDiv=null;if(this.imageUrl&&this.imageWidth&&this.imageHeight){var imageDiv=document.createElement('div');var image=document.createElement('img');image.src=this.imageUrl;image.width=this.imageWidth;image.height=this.imageHeight;imageDiv.appendChild(image);contentDiv=document.createElement('div');contentDiv.classList.add('af-popin-content');contentDiv.appendChild(imageDiv);popin.classList.add('af-popin-content-img');}
var div=document.createElement('div');if(this.title){var title=document.createElement('div');title.innerHTML=this.title;title.classList.add('af-popin-title');div.appendChild(title);}
if(this.firstText){var firstText=document.createElement('div');firstText.innerHTML=this.firstText;firstText.classList.add(this.firstTextClass);div.appendChild(firstText);}
if(this.secondText){var secondText=document.createElement('div');secondText.innerHTML=this.secondText;secondText.classList.add(this.secondTextClass);div.appendChild(secondText);}
if(this.checkboxLabel){var inputDiv=document.createElement('div');inputDiv.classList.add('af-popin-chk');var input=document.createElement('input');input.setAttribute('type','checkbox');input.setAttribute('id','af-popin-chk-input');af_addEvent(input,'change',function(){inputDiv.classList.remove('error');},false);var inputLabel=document.createElement('label');inputLabel.setAttribute('for','af-popin-chk-input');inputLabel.innerHTML=this.checkboxLabel;inputDiv.appendChild(input);inputDiv.appendChild(inputLabel);this.checkboxDiv=inputDiv;div.appendChild(inputDiv);}
var btnsDiv=document.createElement('div');btnsDiv.classList.add('af-popin-btns');if(this.ctaText){var cta=document.createElement('a');cta.classList.add('af-popin-btn-cta');cta.innerHTML=this.ctaText;if(this.ctaLink){cta.href=this.ctaLink;}
else{af_addEvent(cta,'click',this.closePopin.bind(this),false);}
btnsDiv.appendChild(cta);}
if(this.redirectText){var link=document.createElement('a');link.classList.add('af-popin-link');link.innerHTML=this.redirectText;if(this.redirectLink){link.href=this.redirectLink;}
else{af_addEvent(link,'click',this.closePopin.bind(this),false);}
btnsDiv.appendChild(link);}
if(this.ctaText||this.redirectText){div.appendChild(btnsDiv);}
if(contentDiv){contentDiv.appendChild(div);div=contentDiv;}
popin.appendChild(div);if(this.bottomText){var bottomText=document.createElement('div');bottomText.innerHTML=this.bottomText;bottomText.classList.add(this.bottomTextClass);popin.appendChild(bottomText);}
if(this.timeout>0){af_setCookie(this.cookieName,'1',60*24*90);}
document.body.appendChild(popin);if(af_isMobile()){var scrolly=window.scrollY;document.body.style.position='fixed';document.body.style.top='-'+scrolly+'px';}else{document.body.classList.add('no-scroll');}
this.popin=popin;}}
return AufPopin;})();var af_popin=new AufPopin();




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fauf%2FafAdblock.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/auf/afAdblock.js?v=202406200958 **/
if(!window.afAdblock){var afAdblock=(function(){return{run:false,status:'N/A',init:function(){if(this.run){return;}
this.run=true;this.detect();},updateStatus:function(status){this.status=status;PubSub.publish('ad.block.detect',{status:status});},detect:function(){var that=this;var adsbox=document.createElement('div');adsbox.innerHTML='&nbsp;';adsbox.style.position='absolute';adsbox.style.top='-1000px';adsbox.className='adsbox';document.body.appendChild(adsbox);setTimeout(function(){var status=(adsbox.offsetHeight===0);that.updateStatus(status);},100);}};})();}




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fauf%2Fglobal_common.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/auf/global_common.js?v=202406200958 **/
function af_publish(elt,event,pubName,pubData){if(typeof elt=='string'){elt=document.getElementById(elt);}
if(elt){return af_addEvent(elt,event,function(){PubSub.publish(pubName,pubData);},false);}}
function af_removeEvent(elt,event,listener,capture){if(elt.removeEventListener){elt.removeEventListener(event,listener,capture);}else if(elt.detachEvent){elt.detachEvent("on"+event,listener);}}
function af_stopEvent(e){if(!e)e=window.event;if(e){if(e.stop)e.stop();e.preventDefault?e.preventDefault():e.returnValue=false;e.stopPropagation?e.stopPropagation():e.cancelBubble=true;}}
function af_remove(e){if(e)e.parentNode.removeChild(e);}
var af_shortcuts={list:[],init:function(){af_shortcuts.loaded=true;af_addEvent(document,'keydown',function(e){if(!e){e=window.event;}
var t=(e.srcElement?e.srcElement:e.target);if(!t.nodeName.match(/(input|textarea|select)/gi)){if(!t.className.match(/(textarea)/gi)){for(var i=0,l=af_shortcuts.list;i<l.length;i++){if(e.keyCode==l[i].key){af_stopEvent(e);l[i].func.apply(null,[e]);}}}}},false);},add:function(k,f){af_shortcuts.list.push({key:k,func:f});if(!af_shortcuts.loaded){af_shortcuts.init();}}};function af_documentSize(){var b=document.body,e=document.documentElement;var x=Math.max(b.scrollWidth,e.scrollWidth,b.offsetWidth,e.offsetWidth,b.clientWidth,e.clientWidth);var y=Math.max(b.scrollHeight,e.scrollHeight,b.offsetHeight,e.offsetHeight,b.clientHeight,e.clientHeight);return{w:x,h:y};}
function af_smoothScroll(delay,left,top){var s=af_smoothScroll,now=(new Date()).getTime(),step=20;if(s.to){window.clearTimeout(s.to);s.to=0;}
if(delay){s.stop=now+delay;s.left=left;s.top=top;s.to=window.setTimeout(s,step);}else if(now>=s.stop){window.scrollTo(s.left,s.top);}else{var w=af_windowSize(),loop=(s.stop-now)/step;var sl=w.l+(s.left-w.l)/loop,st=w.t+(s.top-w.t)/loop;window.scrollTo(sl,st);s.to=window.setTimeout(s,step);}}
function af_throttle(fn,wait){var time=Date.now();return function(){if((time+wait-Date.now())<0){fn();time=Date.now();}}}
function af_gaqTrackEvent(category,action,opt_label,opt_value,opt_noninteraction,prefix){var opt_label=opt_label||'',opt_value=opt_value||0,opt_noninteraction=opt_noninteraction||false,prefix=prefix||'';if(typeof m_dataLayer!='undefined'){m_dataLayer.push({'event':'UA-Event','uaEventCategory':category,'uaEventAction':action,'uaEventLibelle':opt_label,'uaEventValue':opt_value,'uaEventNonInt':true});}else if(typeof af_dataLayer!='undefined'){af_dataLayer.push({'event':'UA - Event','eventCategory':category,'eventAction':action,'eventLabel':opt_label,'eventValue':opt_value,'eventNonInt':true});}else if(typeof _gaq!='undefined'){if(prefix!==''&&prefix.substr(-1)!=='.')prefix+='.';_gaq.push([prefix+'_trackEvent',category,action,opt_label,opt_value,opt_noninteraction]);}
if(typeof unify_dataSlayer!='undefined'){unify_dataSlayer.push({'event':'uaevent','eventCategory':category,'eventAction':action,'eventLabel':opt_label,'eventValue':opt_value,'eventNonInt':true});}}
function af_gaqRePush(url){var u=url?url:'/virtual'+document.location.pathname+(document.location.hash.replace('#','/')??'');if(typeof m_dataLayer!='undefined'){m_dataLayer.push({'event':'UA-VirtualPageView','virtualPageURL':u});}else if(typeof af_dataLayer!='undefined'){af_dataLayer.push({'event':'VirtualPageView','virtualPageURL':u});}else if(typeof _gaq!='undefined'){_gaq.push(['_trackPageview',u]);}else if(typeof pageTracker!=='undefined'){pageTracker._trackPageview(u);}
if(typeof unify_dataSlayer!='undefined'){unify_dataSlayer.push({'event':'virtualPageView','virtualPageURL':u});}}
function af_callTracking(suffix,url,filters){afSession.updatePageview();if(!filters||filters&&filters['ga']){af_gaqRePush(url);}
if(!filters||filters&&filters['comscore']){if(window.COMSCORE){COMSCORE.beacon({c1:2,c2:6034949,c3:'',c4:'',c5:'',c6:'',c15:''});}}
if(!filters||filters&&filters['estat']){if(window.eStatWhap&&_eStat_Whap_loaded){eStatWhap.send();}}
if(!filters||filters&&filters['ivw']){if(window.IVW){af_callTracking.ivwImg=new Image();af_callTracking.ivwImg.src=IVW.replace(/;$/,(suffix?'-'+suffix+';':';'))
+'?r='+escape(document.referrer)+'&d='+(Math.random()*100000);}
if(window.iom&&window.iam_data){var ivw_data=JSON.parse(JSON.stringify(iam_data));if(suffix){ivw_data.cp+='-'+suffix;}
iom.c(ivw_data,1);}
if(window.IOMm&&window.iom_data){var newIomData=JSON.parse(JSON.stringify(window.iom_data));var newIomDataCp=(suffix)?newIomData.cp+'-'+suffix:newIomData.cp;window.IOMm('pageview',{cp:newIomDataCp});}}
if(!filters||filters&&filters['netmetrix']){if(window.NETMX){af_callTracking.netmxImg=new Image();af_callTracking.netmxImg.src=NETMX
+'?r='+escape(document.referrer)
+'&d='+(Math.random()*100000);}}
if(!filters||filters&&filters['gemius']){if(window.gemius_hit&&window.af_gemius_identifier){gemius_hit(af_gemius_identifier);}}
if(!filters||filters&&filters['pixlog']){if(window.pixLog){pixLog.call();}}
PubSub.publish('tracking.call');af_GBounce_data=null;}
function af_setCookiePerm(cname,cvalue){var oldVal=af_getCookie(cname)||'';var _afpperso;var cookiesTab=document.cookie.split(';'),ln=cookiesTab.length;for(var i=0;i<ln;i++){var x=cookiesTab[i].substr(0,cookiesTab[i].indexOf('='));var y=cookiesTab[i].substr(cookiesTab[i].indexOf('=')+1);x=x.replace(/^\s+|\s+$/g,'');if(x=='afpperso'){_afpperso=y;break;}}
if(oldVal){var j,key,getVal,newCookie='',cookiesValuesTab=y.split('&');for(j=0;j<cookiesValuesTab.length;j++){key=cookiesValuesTab[j].substr(0,cookiesValuesTab[j].indexOf('='));if(key===cname){getVal='&'+key+'='+cvalue;}else{newCookie+=newCookie===''?'':'&';newCookie+=cookiesValuesTab[j];}}
if(getVal){_afpperso=newCookie+getVal;}}else{_afpperso=_afpperso+'&'+cname+'='+cvalue;}
var d=new Date();d.setTime(d.getTime()+(10*365*24*60*60*1000));var expires='; expires='+d.toUTCString();document.cookie='afpperso='+_afpperso+
expires+'; domain='+'.'+document.domain+'; path=/';}
function af_getCookie(name){var i,x,y;var cookiesTab=document.cookie.split(';');for(i=0;i<cookiesTab.length;i++){x=cookiesTab[i].substr(0,cookiesTab[i].indexOf('='));y=cookiesTab[i].substr(cookiesTab[i].indexOf('=')+1);x=x.replace(/^\s+|\s+$/g,'');if(x=='afperso'||x=='afpperso'){var j,a,cookiesValuesTab=y.split('&');for(j=0;j<cookiesValuesTab.length;j++){a=cookiesValuesTab[j].substr(0,cookiesValuesTab[j].indexOf('='));if(a==name){return unescape(cookiesValuesTab[j].substr(cookiesValuesTab[j].indexOf('=')+1));}}}else if(x==name){return y;}}
return'';}
function af_toggleText(pixelsLimit,elementsClassName){var numberOfToggled=document.getElementsByClassName(elementsClassName);for(i=0;i<numberOfToggled.length;i++){var el=numberOfToggled[i];if(el.scrollHeight>pixelsLimit){var more=null;more=document.createElement('a');more.className='more';more.href='#';more.innerHTML=af_translations.label_read_more_title;var readMore=null;readMore=document.createElement('div');readMore.className='read-more';readMore.appendChild(more);el.parentElement.appendChild(readMore);}}
window.onclick=function(event){if(event.target.className=='more'){event.preventDefault();event.target.parentElement.parentElement.classList.toggle('showAll');event.target.parentElement.parentElement.children[0].classList.toggle('af-toggle-text');if(event.target.innerHTML==''+af_translations.label_fold_message_title+''){event.target.innerHTML=af_translations.label_read_more_title;}else{event.target.innerHTML=af_translations.label_fold_message_title;}}}}
function af_requestGet(url,param,callback,json){var xhr=af_getXMLHttpRequest();callback=callback||null;json=json!=='undefined'?json:true;if(url.substr(0,1)==='/'){url=document.location.protocol+'//'+document.location.host+url;}
xhr.onreadystatechange=function(){if(xhr.readyState===4&&(xhr.status===200||xhr.status===0)){if(xhr.responseText){data=json?eval('('+xhr.responseText+')'):xhr.responseText;}else{data=null;}
if(callback){callback(data);}}};xhr.open('GET',(param!=='')?url+'?'+param:url,true);xhr.send(null);}
function af_requestPost(url,param,callback,json){var xhr=af_getXMLHttpRequest();callback=callback||null;json=json!=='undefined'?json:true;if(typeof af_personalHashValue!=='undefined'){param+='&personalKey='+af_personalHashValue;}
if(url.substr(0,1)=='/'){url=document.location.protocol+'//'+document.location.host+url;}
xhr.onreadystatechange=function(){if(xhr.readyState===4&&(xhr.status===200||xhr.status===0)){if(xhr.responseText){data=json?eval('('+xhr.responseText+')'):xhr.responseText;}else{data=null;}
if(callback){callback(data);}}};xhr.open('POST',url,true);xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');xhr.setRequestHeader('X-Requested-With','XMLHttpRequest');xhr.send(param);}
function af_getXMLHttpRequest(){var xhr=null;if(window.XMLHttpRequest||window.ActiveXObject){if(window.ActiveXObject){try{xhr=new ActiveXObject('Msxml2.XMLHTTP');}catch(e){xhr=new ActiveXObject('Microsoft.XMLHTTP');}}else{xhr=new XMLHttpRequest();}}
return xhr;}
function af_urlencode(str){str=(str+'').toString();return encodeURIComponent(str).replace(/!/g,'%21').replace(/'/g,'%27').replace(/\(/g,'%28').replace(/\)/g,'%29').replace(/\*/g,'%2A').replace(/%20/g,'+');}
function af_inArray(elt,array){for(var i=0,l=array.length;i<l;i++){if(array[i]==elt)return true;}
return false;}
function af_trim(text){if(text!==undefined){return(""+text+"").replace(/(^\s*)|(\s*$)/g,"");}else{return text;}}
function af_getTarget(e){if(typeof e!=='undefined'){var _t=e.target||e.srcElement;}else{return'undefined';}
while(_t.classList.contains('action-parent')){_t=_t.parentNode;}
return _t;}
function af_getParent(e,pattern){var ret=null;if(e.nodeName=='HTML'){return null;}
if(typeof e!=='undefined'){var parent=e.parentNode;if(typeof pattern==='undefined'){ret=parent;}
else{var patterns=pattern.split(' ');var firstPattern=patterns.shift();var newPattern=patterns.join(' ');if(firstPattern.indexOf('.')===0){var cssClassLists=firstPattern.split('.');cssClassLists.shift();var cssFound=0;for(var n=0;n<cssClassLists.length;n++){if(e.classList.contains(cssClassLists[n])){cssFound++;}}
if(cssFound===cssClassLists.length){if(newPattern.length){ret=af_getParent(parent,newPattern);}else{ret=e;}}else{ret=af_getParent(parent,pattern);}}
else if(firstPattern.indexOf('#')===0){var id=firstPattern.substring(1);if(e.id===id){if(newPattern.length){ret=af_getParent(parent,newPattern);}else{ret=e;}}
else{ret=af_getParent(parent,pattern);}}
else{if(e.nodeType===1&&firstPattern.toUpperCase()===e.nodeName){if(newPattern.length){ret=af_getParent(parent,newPattern);}else{ret=e;}}
else{ret=af_getParent(parent,pattern);}}}
return ret;}
else{return undefined;}}
function af_tm_trackEvent(event){if(typeof m_dataLayer!='undefined'){m_dataLayer.push({'event':event});}else if(typeof af_dataLayer!='undefined'){af_dataLayer.push({'event':event});}
if(typeof unify_dataSlayer!='undefined'){unify_dataSlayer.push({'event':event});}};var AfHttpRequest=(function(){var getXMLHttpRequest=function(){var xhr=null;if(window.XMLHttpRequest||window.ActiveXObject){if(window.ActiveXObject){try{xhr=new ActiveXObject('Msxml2.XMLHTTP');}catch(e){xhr=new ActiveXObject('Microsoft.XMLHTTP');}}else{xhr=new XMLHttpRequest();}}
return xhr;};var getRequest=function(callback,json,withErrors){var xhr=af_getXMLHttpRequest();callback=callback||null;json=json!=='undefined'?json:true;withErrors=withErrors!=='undefined'?withErrors:false;xhr.onreadystatechange=function(){if(xhr.readyState===4&&(withErrors||xhr.status===200||xhr.status===201||xhr.status===202||xhr.status===204||xhr.status===0)){if(xhr.responseText){data=json?eval('('+xhr.responseText+')'):xhr.responseText;}else{data=null;}
if(callback){callback(data,xhr);}}};return xhr;};var getRequestWithCallback=function(callback,json){var xhr=af_getXMLHttpRequest();callback=callback||null;json=json!=='undefined'?json:true;xhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.responseText){data=json?eval('('+xhr.responseText+')'):xhr.responseText;}else{data=null;}
if(callback){callback(data,xhr);}}};return xhr;};var getAbsoluteUrl=function(url){if(url.substr(0,1)==='/'){url=document.location.protocol+'//'+document.location.host+url;}
return url;};var getData=function(param){var data=((typeof param!=='undefined')&&(param!==null)&&(param!=='undefined'))?param:'';if(typeof af_personalHashValue!=='undefined'){data+='&personalKey='+af_personalHashValue;}
return data;};return{get:function(url,param,callback,json,withErrors){var xhr=getRequest(callback,json,withErrors);var absoluteUrl=getAbsoluteUrl(url);xhr.open('GET',(param!=='')?absoluteUrl+'?'+param:absoluteUrl,true);xhr.send(null);},post:function(url,param,callback,json,withErrors){var xhr=getRequest(callback,json,withErrors);var absoluteUrl=getAbsoluteUrl(url);var data=((typeof param==='object')&&(param!==null))?JSON.stringify(param):getData(param);var contentType=((typeof param==='object')&&(param!==null))?'application/json':'application/x-www-form-urlencoded';xhr.open('POST',absoluteUrl,true);xhr.setRequestHeader('Content-Type',contentType);xhr.setRequestHeader('X-Requested-With','XMLHttpRequest');xhr.send(data);},postMultipart:function(url,param,callback,json){var xhr=getRequest(callback,json);var absoluteUrl=getAbsoluteUrl(url);var data=getData(param);xhr.open('POST',absoluteUrl,true);xhr.setRequestHeader('X-Requested-With','XMLHttpRequest');xhr.send(data);},put:function(url,param,callback,json){var xhr=getRequest(callback,json);var absoluteUrl=getAbsoluteUrl(url);var data=typeof param==='object'?JSON.stringify(param):getData(param);var contentType=typeof param==='object'?'application/json':'application/x-www-form-urlencoded';xhr.open('PUT',absoluteUrl,true);xhr.setRequestHeader('Content-Type',contentType);xhr.setRequestHeader('X-Requested-With','XMLHttpRequest');xhr.send(data);},patch:function(url,param,callback,json){var xhr=getRequest(callback,json);var absoluteUrl=getAbsoluteUrl(url);var data=typeof param==='object'?JSON.stringify(param):getData(param);var contentType=typeof param==='object'?'application/json':'application/x-www-form-urlencoded';xhr.open('PATCH',absoluteUrl,true);xhr.setRequestHeader('Content-Type',contentType);xhr.setRequestHeader('X-Requested-With','XMLHttpRequest');xhr.send(data);},del:function(url,param,callback,json){var xhr=getRequest(callback,json);var absoluteUrl=getAbsoluteUrl(url);xhr.open('DELETE',(param!=='')?absoluteUrl+'?'+param:absoluteUrl,true);xhr.send(null);}};})();function connectedUserOnlyAction(e){var _t=af_getTarget(e);PubSub.publish('connectedUsersOnly',_t);af_stopEvent(e);var href=this.href||this.getAttribute('data-href')||window.location.href;var url;url='/reloaded/users/login?destUrl=';window.location.href='https://'+document.domain+url+encodeURIComponent(href);return false;}
if(typeof(af_addEvent)!=='undefined'){var connected=false;if(af_getCookie('cu')!==''){var connected=true;}
if(!connected&&typeof document.getElementsByClassName!=='undefined'){var elements=document.getElementsByClassName('connectedUsersOnly');for(var i=elements.length-1;i>=0;i--){var element=elements[i];element.classList.remove('connectedUsersOnly');if(element.onclick){element.previousOnclick=element.onclick;element.onclick=null;}
af_addEvent(element,'click',af_bind(element,connectedUserOnlyAction),true);}}}
function af_checkNested(obj){var args=Array.prototype.slice.call(arguments,1);for(var i=0;i<args.length;i++){if(!obj||!obj.hasOwnProperty(args[i])){return false;}
obj=obj[args[i]];}
return true;}
function af_encryptHref(aTag){var url=aTag.getAttribute("data-href");var target=aTag.getAttribute("target");if(target=="_blank"){var otherWindow=window.open();otherWindow.opener=null;otherWindow.location=url;}else{window.location.href=url;}}
(function openNewTab(){var links=document.getElementsByClassName('_blank');for(var i in links){if(typeof links[i]==='object'){af_addEvent(links[i],'click',(function(e){_t=af_getParent(af_getTarget(e),'._blank');window.open(_t.getAttribute('href'),'_blank');af_stopEvent(e);}).bind(this),false);}}})();(function(){var keyboardeventKeyPolyfill={polyfill:polyfill,keys:{3:'Cancel',6:'Help',8:'Backspace',9:'Tab',12:'Clear',13:'Enter',16:'Shift',17:'Control',18:'Alt',19:'Pause',20:'CapsLock',27:'Escape',28:'Convert',29:'NonConvert',30:'Accept',31:'ModeChange',32:' ',33:'PageUp',34:'PageDown',35:'End',36:'Home',37:'ArrowLeft',38:'ArrowUp',39:'ArrowRight',40:'ArrowDown',41:'Select',42:'Print',43:'Execute',44:'PrintScreen',45:'Insert',46:'Delete',48:['0',')'],49:['1','!'],50:['2','@'],51:['3','#'],52:['4','$'],53:['5','%'],54:['6','^'],55:['7','&'],56:['8','*'],57:['9','('],91:'OS',93:'ContextMenu',106:'*',107:'+',109:'-',110:'.',111:'/',144:'NumLock',145:'ScrollLock',181:'VolumeMute',182:'VolumeDown',183:'VolumeUp',186:[';',':'],187:['=','+'],188:[',','<'],189:['-','_'],190:['.','>'],191:['/','?'],192:['`','~'],219:['[','{'],220:['\\','|'],221:[']','}'],222:["'",'"'],224:'Meta',225:'AltGraph',246:'Attn',247:'CrSel',248:'ExSel',249:'EraseEof',250:'Play',251:'ZoomOut'}};var i;for(i=1;i<25;i++){keyboardeventKeyPolyfill.keys[111+i]='F'+i;}
var letter='';for(i=65;i<91;i++){letter=String.fromCharCode(i);keyboardeventKeyPolyfill.keys[i]=[letter.toLowerCase(),letter.toUpperCase()];}
for(i=96;i<106;i++){letter=String.fromCharCode(i-48);keyboardeventKeyPolyfill.keys[i]=letter;}
function polyfill(){var isEdgeOrIE=(navigator.userAgent.indexOf("MSIE ")>0||!!navigator.userAgent.match(/Trident.*rv\:11\./)||navigator.userAgent.indexOf("Edge/")>0);if(!('KeyboardEvent'in window)||('key'in KeyboardEvent.prototype&&!isEdgeOrIE)){return false;}
var proto={get:function(x){var key=keyboardeventKeyPolyfill.keys[this.which||this.keyCode];if(Array.isArray(key)){key=key[+this.shiftKey];}
return key;},enumerable:true,configurable:true};Object.defineProperty(KeyboardEvent.prototype,'key',proto);return proto;}
if(typeof define==='function'&&define.amd){define('keyboardevent-key-polyfill',keyboardeventKeyPolyfill);}else if(typeof exports!=='undefined'&&typeof module!=='undefined'){module.exports=keyboardeventKeyPolyfill;}else if(window){window.keyboardeventKeyPolyfill=keyboardeventKeyPolyfill;}})();keyboardeventKeyPolyfill.polyfill();




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FComponent%2FrecipeCounter%2FrecipeCounter.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Component/recipeCounter/recipeCounter.js?v=202406200958 **/
var Mrtn=Mrtn||{};Mrtn.RecipeCounter=(function(param){var recipeCounter=function(givenParams){this.params={containerClass:givenParams.containerClass||'recipe-ingredients__qt-counter',container:givenParams.container,unit:givenParams.unit||null,onchange:givenParams.onchange,value:givenParams.value||'',size:givenParams.size||'',min:givenParams.min||0,max:givenParams.max,dataset:givenParams.dataset||[],};this.params.withUnit=null!==this.params.unit;let template=document.getElementById(this.params.containerClass+'_template').innerHTML;let widget=tmpl(template,this.params);if('undefined'===typeof givenParams.replace){this.params.container.insertAdjacentHTML('beforeend',widget);}else{this.params.container.innerHTML=widget;}
this.input=this.params.container.querySelector('.'+this.params.containerClass+' input');if(this.params.dataset.length>0){for(let i=0;i<this.params.dataset.length;i++){const item=this.params.dataset[i];this.input.dataset[item.name]=item.value;}}
this.min=this.params.min;this.max=this.params.max;this.action=null;this.counterMinus=this.params.container.querySelector('.'+this.params.containerClass+' .minus');this.counterPlus=this.params.container.querySelector('.'+this.params.containerClass+' .plus');af_addEvent(this.input,'change',function(e){this.callback(e);}.bind(this),false);af_addEvent(this.counterMinus,'click',this.decreaseCounter.bind(this),false);af_addEvent(this.counterPlus,'click',this.increaseCounter.bind(this),false);if(this.params.containerClass==='quantity-counter'){this.input.style.width=this.input.value.toString().length+'ch';}};recipeCounter.prototype={constructor:recipeCounter,decreaseCounter:function(e){this.action='Minus';this.updateCounter(-1,e);},increaseCounter:function(e){this.action='Plus';this.updateCounter(1,e);},updateCounter:function(value,event){let val=Math.max(parseInt(this.input.value)+value,parseInt(this.min));if(this.max){val=Math.min(val,parseInt(this.max));}
this.input.value=val;if(this.params.containerClass==='quantity-counter'){this.input.style.width=this.input.value.toString().length+'ch';}
this.callback(event);},callback:async function(event=null){let onchange=this.params.onchange;if('function'===typeof onchange){await onchange(event);}else if('string'===typeof onchange){onchange=onchange.replace('this','this.input');await eval(onchange);}}};return recipeCounter;})();




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FComponent%2FheaderLight%2Fuser.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Component/headerLight/user.js?v=202406200958 **/
var Mrtn=Mrtn||{};Mrtn.User=(function(){var self,user=function(params){self=this;this.queue=[];this.done=false;this.fetching=false;this.id=null;this.getUserIdFromCookies();if(!this.done&&!this.fetching&&this.id){this.getUserContributions({ 
user:self.USER});}};user.prototype={constructor:user,getUserIdFromCookies:function(){var value;if((value=af_getCookie('cc'))!==''){self.name=value;}
if((value=af_getCookie('cuv2'))!==''){self.id=value;}
if((value=af_getCookie('MARMICOOK'))!==''){self.oldId=value;}
return self;},pushQueue:function(item){if(this.done){if(typeof item==='function'){item(self.contribs);}}else{this.queue.push(item);}},runQueue:function(params){self.queue.forEach(function(item){if(typeof item==='function'){item(params);}});},saveInLocalStorage:function(data){localStorage.setItem('contribs',JSON.stringify(data));},getUserContributions:function(params){var storedContribs=localStorage.getItem('contribs')?JSON.parse(localStorage.getItem('contribs')):null;var formData=new FormData();formData.append('userid',self.id);var doneCallback=function(resp){self.fetching=false;self.contribs=resp;self.done=true;if(typeof params.callback==='function'){params.callback(resp);}
self.runQueue(resp);};if(!storedContribs||params.fetch){var url='/reloaded/api/recipe/getusercontributions';AfHttpRequest.postMultipart(url,formData,function(resp){doneCallback(resp);self.saveInLocalStorage(resp);},true);}else{doneCallback(storedContribs);}}};return user;})();if(Mrtn){Mrtn.USER=Mrtn.USER||new Mrtn.User();}else{localStorage.removeItem('contribs');}




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FComponent%2FheaderLight%2Fcookbooks.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Component/headerLight/cookbooks.js?v=202406200958 **/
var Mrtn=Mrtn||{};Mrtn.Cookbooks=(function(){var self,cookbooks=function(params){self=this;this.cookbooks=[];this.USER=params.user;this.queue=[];this.done=false;this.fetching=false;this.recipes=[];if(!this.done&&!this.fetching){this.getUserCookbooks({user:self.USER});}};var dynamicSort=function(property){var sortOrder=1;if(property[0]==='-'){sortOrder=-1;property=property.substr(1);}
return function(a,b){if(sortOrder===-1){return b[property].localeCompare(a[property]);}else{return a[property].localeCompare(b[property]);}};};cookbooks.prototype={constructor:cookbooks,pushQueue:function(item){if(this.done){if(typeof item==='function'){item(self.cookbooks);}}else{this.queue.push(item);}},runQueue:function(params){self.queue.forEach(function(item){if(typeof item==='function'){item(params);}});},has:function(params){var toSearch=self.recipes;var recipeId=typeof params==='object'?params.recipeId:params;if(typeof params==='object'&&!params.categoryguid){toSearch=self.cookbooks.Categories.filter(function(c){return c.Id==params.categoryguid;}).Recipes;}
if(toSearch.indexOf(recipeId)!==-1){return true;}else{return false;}},getRecipeFromId(recipeId){var recipe=this.cookbooks.MyRecipes.filter(function(recipe){return recipe.RecipeId===recipeId;});return recipe;},getRecipeFromSurId(recipeId){recipeId=parseInt(recipeId);var recipe=this.cookbooks.MyRecipes.filter(function(recipe){return recipe.RecipeSurId===recipeId;});return recipe;},addRecipe:function(params){var queryParams={SiteId:1,UserSurId:this.USER.id,RecipeId:params.recipeid,CategoryGuid:params.categoryguid,DishTypeId:params.dishTypeId,};if(typeof params.comment!=='undefined'){queryParams.Comment=params.comment;}
if(typeof params.IsTested!=='undefined'){queryParams.IsTested=params.isTested;}
var queryString=Object.keys(queryParams).map(function(k){return k+'='+encodeURIComponent(queryParams[k]);}).join('&'),url='/webservices/json.svc/AddRecipeToCookbook';AfHttpRequest.get(url,queryString,function(){self.getUserCookbooks({user:Mrtn.USER,refresh:true,fetch:true,callback:params.successCallback});if(params.successCallback!=='undefined'){af_ua_trackEvent("Content interaction","Add to favorite",params.recipeTitle);}});},removeRecipe:function(params){var queryParams={UserSurId:this.USER.id,RecipeId:params.recipeid,SiteId:1},queryString=Object.keys(queryParams).map(function(k){return k+'='+encodeURIComponent(queryParams[k]);}).join('&'),url='/webservices/json.svc/RemoveRecipeFromCookbook';return AfHttpRequest.get(url,queryString,function(r){var arr=self.cookbooks.MyRecipes;for(var i=0;i<arr.length;i++){if(arr[i].RecipeSurId===params.recipeid){arr.splice(i,1);}}
localStorage.setItem('cookbooks',JSON.stringify(self.cookbooks));PubSub.publish('noty',{content:"la recette <b>"+params.recipeTitle+"</b> a bien été supprimée du carnet",timer:6000});if(typeof params.callback==='function'){params.callback();}
self.getUserCookbooks({user:Mrtn.USER,refresh:true,fetch:true});});},getCookbook:function(cookbookId){return this.cookbooks.Categories.filter(function(cookbook){return cookbook.Id===cookbookId;})[0];},saveInLocalStorage:function(data){localStorage.setItem('cookbooks',JSON.stringify(data));if(af_setPermCookie){var rh=self.makeRandomHash();af_setCookie('mrtn_cookbooks_hash',rh);localStorage.setItem('mrtn_cookbooks_hash_local',rh);}},makeRandomHash:function(){var text='',possible='0123456789';for(var i=0;i<5;i++){text+=possible.charAt(Math.floor(Math.random()*possible.length));}
return text;},getUserCookbooks:function(params){self.fetching=true;var doneCallback=function(resp){self.fetching=false;self.cookbooks=resp;self.cookbooks.MyRecipes=[];self.done=true;resp.Categories.forEach(function(c){c.Recipes.map(function(r){self.recipes.push(r.RecipeSurId);r.categoryId=c.Id;r.CategoryTitle=c.Title;r.show=true;self.cookbooks.MyRecipes.push(r);});});if(typeof params.callback==='function'){params.callback(resp);}
self.runQueue(resp);},storedCookbooks=localStorage.getItem('cookbooks')?JSON.parse(localStorage.getItem('cookbooks')):null,mrtn_cookbooks_hash=af_getCookie('mrtn_cookbooks_hash')||'-1',mrtn_cookbooks_hash_local=localStorage.getItem('mrtn_cookbooks_hash_local')||'-1';if((params.fetch===true||!storedCookbooks||mrtn_cookbooks_hash!==mrtn_cookbooks_hash_local)&&params.user.oldId){var url='/webservices/json.svc/GetUserCookbook';AfHttpRequest.get(url,'siteId=1&userId='+params.user.oldId,function(resp){doneCallback(resp);self.saveInLocalStorage(resp);if(params.refresh){PubSub.publish('cookbooks:refresh',resp);}},true);}else{doneCallback(storedCookbooks);}},updateCookbooksLength:function(){if(this.cookbooks&&this.cookbooks.Categories){var tags=document.querySelectorAll('.recipe__cookbooks-nb');for(var i=0,l=tags.length;i<l;++i){tags[i].innerHTML='('+this.cookbooks.Categories.length+')';}}},html:function(params){var list;if(this.cookbooks){var template=params&&params.template||document.getElementById('cookbooks-list-template').innerHTML;list=tmpl(template,this.cookbooks);}else{list='<p>Une erreur est survenue durant le chargement des carnets</p>';}
return list;},renderRecipesList:function(params){var list;if(this.cookbooks){var orderedCookbook=this.cookbooks.MyRecipes.sort(dynamicSort('Title'));var template=params&&params.template||document.getElementById('cookbook-recipe-list-template').innerHTML;list=tmpl(template,{MyRecipes:orderedCookbook});}else{list='<p>Une erreur est survenue durant le chargement des carnets</p>';}
return list;},renderRecipesCookbookHeader:function(params){var header;if(this.cookbooks){var template=params&&params.template||document.getElementById('cookbook-recipe-header-template').innerHTML;header=tmpl(template,this.cookbooks);}else{header='<p>Une erreur est survenue durant le chargement des carnets</p>';}
return header.replace(/&/g,'&amp;');},nb:function(){return this.cookbooks.Categories.length;}};return cookbooks;})();if(Mrtn.USER&&Mrtn.USER.oldId){Mrtn.cookbooks=Mrtn.cookbooks||new Mrtn.Cookbooks({user:Mrtn.USER});}else{localStorage.removeItem('cookbooks');}




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fauf%2FafPageSpeedLogger.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/auf/afPageSpeedLogger.js?v=202406200958 **/
var AfPageSpeedLogger=window.AfPageSpeedLogger||(function(){var SERVICE_NAME='pagespeed';var EVENTS_SAMPLE_RATE=50;var logger=function(){if(!window.performance){return;}
this.initLogger();this.initListeners();};logger.prototype={logs:{pixelRatio:window.devicePixelRatio|| 'N/A'},resources:{},initLogger:function(){if(!window.afLogger){window.afLogger=new Aflog.Logger();}
this.logger=window.afLogger;this.sampleRate=EVENTS_SAMPLE_RATE;this.sampled=this.sampleRate<Math.floor((Math.random()*100));},initListeners:function(){var that=this;this.observeFirstContentfulPaint();this.observeLargestContentfulPaint();af_addEvent(window,'load',function(){setTimeout(function(){that.logPerformanceTimings();},0);});this.logCumulativeLayoutShift();this.logFirstInputDelay();},logConsole:function(logs,format){this.logger.logConsole(logs,format,SERVICE_NAME);},logError:function(message,category,consoleOnly){var pool=SERVICE_NAME+(category?':'+category:'');this.logger.logError(message,pool,consoleOnly);},logEvent:function(message,data){data=data|| {};data.sampled=this.sampled;data.sampleRate=this.sampleRate;this.logger.logEvent(SERVICE_NAME,message,data);},logPerformanceTimings:function(){this.attachPerformanceTiming();if(this.logs.pageLoadTime<=0){return;}
this.attachResourcesTiming();this.logEvent('window loaded',this.logs);},logFirstInputDelay:function(){let firstHiddenTime=document.visibilityState==='hidden'?0:Infinity;document.addEventListener('visibilitychange',(event)=>{firstHiddenTime=Math.min(firstHiddenTime,event.timeStamp);},{once:true});try{let onFirstInputEntry=function onFirstInputEntry(entry){if(entry.startTime<firstHiddenTime){const fid=entry.processingStart-entry.startTime;this.logEvent('first input delay',{FID:fid});}}.bind(this);const po=new PerformanceObserver((entryList)=>{entryList.getEntries().forEach(onFirstInputEntry);});po.observe({type:'first-input',buffered:true,});}catch(e){this.logConsole('API not supported '+e.message);}},logCumulativeLayoutShift:function(){try{let cls=0;let onLayoutShiftEntry=function(entry){if(!entry.hadRecentInput){cls+=entry.value;}};const po=new PerformanceObserver((entryList)=>{entryList.getEntries().forEach(onLayoutShiftEntry);});po.observe({type:'layout-shift',buffered:true,});document.addEventListener('visibilitychange',()=>{if(document.visibilityState==='hidden'){po.takeRecords().forEach(onLayoutShiftEntry);this.logEvent('cumulative layout shift',{CLS:cls});}});}catch(e){this.logConsole('API not supported '+e.message);}},observeFirstContentfulPaint:function(){try{const observer=new PerformanceObserver((list)=>{for(const entry of list.getEntriesByName('first-contentful-paint')){this.logs['firstContentfulPaint']=entry.startTime/1000;this.logs['FCP']=entry.startTime/1000;observer.disconnect();}});observer.observe({type:'paint',buffered:true,});}catch(e){this.logConsole('API not supported '+e.message);}},observeLargestContentfulPaint:function(){try{let lcp;const observer=new PerformanceObserver((entryList)=>{const entries=entryList.getEntries();const lastEntry=entries[entries.length-1];lcp=lastEntry.renderTime||lastEntry.loadTime;this.logs['lastContentfulPaint']=lcp/1000;this.logs['LCP']=lcp/1000;observer.disconnect();});observer.observe({type:'largest-contentful-paint',buffered:true});}catch(e){this.logConsole('API not supported '+e.message);}},attachPerformanceTiming:function(){var timing=window.performance.timing;this.logs['pageLoadTime']=(timing.loadEventEnd-timing.navigationStart)/1000;this.logs['redirectTime']=(timing.redirectEnd-timing.redirectStart)/1000;this.logs['dnsTime']=(timing.domainLookupEnd-timing.domainLookupStart)/1000;this.logs['connectTime']=(timing.connectEnd-timing.connectStart)/1000;this.logs['requestTime']=(timing.responseStart-timing.requestStart)/1000;this.logs['responseTime']=(timing.responseEnd-timing.responseStart)/1000;this.logs['renderTime']=(timing.domComplete-timing.domLoading)/1000;},attachResourcesTiming:function(){if(!performance.getEntriesByType){return;}
performance.getEntriesByType('resource').forEach(function(resource){if(!resource.decodedBodySize|| !resource.transferSize|| resource.duration<30){return;}
this.resources[resource.initiatorType]=this.resources[resource.initiatorType]||{nb:0,sumDuration:0,avgDuration:0,sumTransferSize:0,avgTransferSize:0};this.resources[resource.initiatorType].nb++;this.resources[resource.initiatorType].sumDuration+=resource.duration/1000;this.resources[resource.initiatorType].sumTransferSize+=resource.transferSize/1000;},this);for(var type in this.resources){this.resources[type].avgDuration=this.resources[type].sumDuration/this.resources[type].nb;this.resources[type].avgTransferSize=this.resources[type].sumTransferSize/this.resources[type].nb;}
this.logs.resources=this.resources;}};return logger;})();




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fmarmiton%2Fmrtn-modal.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/marmiton/mrtn-modal.js?v=202406200958 **/
var Mrtn=Mrtn||{};Mrtn.Modal=(function(){function whichTransitionEvent(){var t;var el=document.createElement('fakeelement');var transitions={'transition':'transitionend','OTransition':'oTransitionEnd','MozTransition':'transitionend','WebkitTransition':'webkitTransitionEnd'};for(t in transitions){if(el.style[t]!==undefined){return transitions[t];}}}
var OPEN_CLASSNAME='mrtn-modal--open';var CLOSE_CLASSNAME='mrtn-modal--close';var modal=function(params){this.el=params.el||this.createModalEl(params.content,params.type,params.extraClassName);this.zindex=params.zindex||'2000';this.el.classList.add(CLOSE_CLASSNAME);this.overlay=document.getElementsByClassName('mrtn-overlay')[0];var transitionEvent=whichTransitionEvent();transitionEvent&&this.el.addEventListener(transitionEvent,function(e){var prop=e.propertyName;var el=e.target;if(prop==='opacity'&&!el.classList.contains(OPEN_CLASSNAME)){el.classList.add(CLOSE_CLASSNAME);}});this.eventOverlay=this.close.bind(this);var closeBtn=this.el.querySelector('.modal__nav--close');if(closeBtn){af_addEvent(this.el.querySelector('.modal__nav--close'),'click',this.close.bind(this),true);}
af_shortcuts.add(27,this.close.bind(this));PubSub.subscribe('modalMrtn:close',this.close.bind(this));};modal.prototype={constructor:modal,createModalEl:function(content,type,extraClassName){var div=document.createElement('div');div.className='mrtn-modal mrtn-modal--close';if(type){div.className+=' mrtn-modal-'+type;}
if(extraClassName){div.className+=' '+extraClassName;}
var nav=document.createElement('nav');var spanClose=document.createElement('span');spanClose.className='modal__nav--close';var closeIcon=document.createElement('i');closeIcon.className='icon-icon_cross_big';var contentContainer=document.createElement('div');contentContainer.className='padded-content';spanClose.appendChild(closeIcon);nav.appendChild(spanClose);div.appendChild(nav);div.appendChild(contentContainer);contentContainer.appendChild(content);this.el=div;document.body.appendChild(div);return this.el;},open:function(){this.overlay.classList.add('mrtn-overlay--active');document.body.classList.add('no-scroll');this.el.classList.remove(CLOSE_CLASSNAME);this.el.classList.add(OPEN_CLASSNAME);document.getElementById('content').style.zIndex='inherit';af_addEvent(this.overlay,'click',this.eventOverlay,true);},close:function(){this.overlay.classList.remove('mrtn-overlay--active');this.el.classList.remove(OPEN_CLASSNAME);document.body.classList.remove('no-scroll');PubSub.publish('modal:cleanHash');this.overlay.removeEventListener('click',this.eventOverlay,true);}};return modal;})();




/********** https://www.marmiton.org/reloaded/static/preconcat_https%3A%2F%2Fwww.google.com%2Frecaptcha%2Fapi.js%3Frender%3Dexplicit%26hl%3Dfr.202406200958.js **********/

/** https://www.google.com/recaptcha/api.js?render=explicit&hl=fr&v=202406200958 **/
(function(){var w=window,C='___grecaptcha_cfg',cfg=w[C]=w[C]||{},N='grecaptcha';var gr=w[N]=w[N]||{};gr.ready=gr.ready||function(f){(cfg['fns']=cfg['fns']||[]).push(f);};w['__recaptcha_api']='https://www.google.com/recaptcha/api2/';(cfg['render']=cfg['render']||[]).push('explicit');w['__google_recaptcha_client']=true;var d=document,po=d.createElement('script');po.type='text/javascript';po.async=true;po.src='https://www.gstatic.com/recaptcha/releases/TqxSU0dsOd2Q9IbI7CpFnJLD/recaptcha__fr.js';po.crossOrigin='anonymous';po.integrity='sha384-nyg3tsjazrBCyjL9y8vR9JMAMSrXcouZY/DtOHibN8w5xro1NMooZHTUukjvaOHK';var e=d.querySelector('script[nonce]'),n=e&&(e['nonce']||e.getAttribute('nonce'));if(n){po.setAttribute('nonce',n);}var s=d.getElementsByTagName('script')[0];s.parentNode.insertBefore(po,s);})();




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fdropzone.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/dropzone.js?v=202406200958 **/
(function(){var Dropzone,Emitter,camelize,contentLoaded,detectVerticalSquash,drawImageIOSFix,noop,without,__slice=[].slice,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key];}function ctor(){this.constructor=child;}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child;};noop=function(){};Emitter=(function(){function Emitter(){}
Emitter.prototype.addEventListener=Emitter.prototype.on;Emitter.prototype.on=function(event,fn){this._callbacks=this._callbacks||{};if(!this._callbacks[event]){this._callbacks[event]=[];}
this._callbacks[event].push(fn);return this;};Emitter.prototype.emit=function(){var args,callback,callbacks,event,_i,_len;event=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];this._callbacks=this._callbacks||{};callbacks=this._callbacks[event];if(callbacks){for(_i=0,_len=callbacks.length;_i<_len;_i++){callback=callbacks[_i];callback.apply(this,args);}}
return this;};Emitter.prototype.removeListener=Emitter.prototype.off;Emitter.prototype.removeAllListeners=Emitter.prototype.off;Emitter.prototype.removeEventListener=Emitter.prototype.off;Emitter.prototype.off=function(event,fn){var callback,callbacks,i,_i,_len;if(!this._callbacks||arguments.length===0){this._callbacks={};return this;}
callbacks=this._callbacks[event];if(!callbacks){return this;}
if(arguments.length===1){delete this._callbacks[event];return this;}
for(i=_i=0,_len=callbacks.length;_i<_len;i=++_i){callback=callbacks[i];if(callback===fn){callbacks.splice(i,1);break;}}
return this;};return Emitter;})();Dropzone=(function(_super){var extend,resolveOption;__extends(Dropzone,_super);Dropzone.prototype.Emitter=Emitter;Dropzone.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];Dropzone.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1000,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(file,done){return done();},init:function(){return noop;},forceFallback:false,fallback:function(){var child,messageElement,span,_i,_len,_ref;this.element.className=""+this.element.className+" dz-browser-not-supported";_ref=this.element.getElementsByTagName("div");for(_i=0,_len=_ref.length;_i<_len;_i++){child=_ref[_i];if(/(^| )dz-message($| )/.test(child.className)){messageElement=child;child.className="dz-message";continue;}}
if(!messageElement){messageElement=Dropzone.createElement("<div class=\"dz-message\"><span></span></div>");this.element.appendChild(messageElement);}
span=messageElement.getElementsByTagName("span")[0];if(span){if(span.textContent!=null){span.textContent=this.options.dictFallbackMessage;}else if(span.innerText!=null){span.innerText=this.options.dictFallbackMessage;}}
return this.element.appendChild(this.getFallbackForm());},resize:function(file){var info,srcRatio,trgRatio;info={srcX:0,srcY:0,srcWidth:file.width,srcHeight:file.height};srcRatio=file.width/file.height;info.optWidth=this.options.thumbnailWidth;info.optHeight=this.options.thumbnailHeight;if((info.optWidth==null)&&(info.optHeight==null)){info.optWidth=info.srcWidth;info.optHeight=info.srcHeight;}else if(info.optWidth==null){info.optWidth=srcRatio*info.optHeight;}else if(info.optHeight==null){info.optHeight=(1/srcRatio)*info.optWidth;}
trgRatio=info.optWidth/info.optHeight;if(file.height<info.optHeight||file.width<info.optWidth){info.trgHeight=info.srcHeight;info.trgWidth=info.srcWidth;}else{if(srcRatio>trgRatio){info.srcHeight=file.height;info.srcWidth=info.srcHeight*trgRatio;}else{info.srcWidth=file.width;info.srcHeight=info.srcWidth/trgRatio;}}
info.srcX=(file.width-info.srcWidth)/2;info.srcY=(file.height-info.srcHeight)/2;return info;},drop:function(e){return this.element.classList.remove("dz-drag-hover");},dragstart:noop,dragend:function(e){return this.element.classList.remove("dz-drag-hover");},dragenter:function(e){return this.element.classList.add("dz-drag-hover");},dragover:function(e){return this.element.classList.add("dz-drag-hover");},dragleave:function(e){return this.element.classList.remove("dz-drag-hover");},paste:noop,reset:function(){return this.element.classList.remove("dz-started");},addedfile:function(file){var node,removeFileEvent,removeLink,_i,_j,_k,_len,_len1,_len2,_ref,_ref1,_ref2,_results;if(this.element===this.previewsContainer){this.element.classList.add("dz-started");}
if(this.previewsContainer){file.previewElement=Dropzone.createElement(this.options.previewTemplate.trim());file.previewTemplate=file.previewElement;this.previewsContainer.appendChild(file.previewElement);_ref=file.previewElement.querySelectorAll("[data-dz-name]");for(_i=0,_len=_ref.length;_i<_len;_i++){node=_ref[_i];node.textContent=this._renameFilename(file.name);}
_ref1=file.previewElement.querySelectorAll("[data-dz-size]");for(_j=0,_len1=_ref1.length;_j<_len1;_j++){node=_ref1[_j];node.innerHTML=this.filesize(file.size);}
if(this.options.addRemoveLinks){file._removeLink=Dropzone.createElement("<a class=\"dz-remove\" href=\"javascript:undefined;\" data-dz-remove>"+this.options.dictRemoveFile+"</a>");file.previewElement.appendChild(file._removeLink);}
removeFileEvent=(function(_this){return function(e){e.preventDefault();e.stopPropagation();if(file.status===Dropzone.UPLOADING){return Dropzone.confirm(_this.options.dictCancelUploadConfirmation,function(){return _this.removeFile(file);});}else{if(_this.options.dictRemoveFileConfirmation){return Dropzone.confirm(_this.options.dictRemoveFileConfirmation,function(){return _this.removeFile(file);});}else{return _this.removeFile(file);}}};})(this);_ref2=file.previewElement.querySelectorAll("[data-dz-remove]");_results=[];for(_k=0,_len2=_ref2.length;_k<_len2;_k++){removeLink=_ref2[_k];_results.push(removeLink.addEventListener("click",removeFileEvent));}
return _results;}},removedfile:function(file){var _ref;if(file.previewElement){if((_ref=file.previewElement)!=null){_ref.parentNode.removeChild(file.previewElement);}}
return this._updateMaxFilesReachedClass();},thumbnail:function(file,dataUrl){var thumbnailElement,_i,_len,_ref;if(file.previewElement){file.previewElement.classList.remove("dz-file-preview");_ref=file.previewElement.querySelectorAll("[data-dz-thumbnail]");for(_i=0,_len=_ref.length;_i<_len;_i++){thumbnailElement=_ref[_i];thumbnailElement.alt=file.name;thumbnailElement.src=dataUrl;}
return setTimeout(((function(_this){return function(){return file.previewElement.classList.add("dz-image-preview");};})(this)),1);}},error:function(file,message){var node,_i,_len,_ref,_results;if(file.previewElement){file.previewElement.classList.add("dz-error");if(typeof message!=="String"&&message.error){message=message.error;}
_ref=file.previewElement.querySelectorAll("[data-dz-errormessage]");_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){node=_ref[_i];_results.push(node.textContent=message);}
return _results;}},errormultiple:noop,processing:function(file){if(file.previewElement){file.previewElement.classList.add("dz-processing");if(file._removeLink){return file._removeLink.textContent=this.options.dictCancelUpload;}}},processingmultiple:noop,uploadprogress:function(file,progress,bytesSent){var node,_i,_len,_ref,_results;if(file.previewElement){_ref=file.previewElement.querySelectorAll("[data-dz-uploadprogress]");_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){node=_ref[_i];if(node.nodeName==='PROGRESS'){_results.push(node.value=progress);}else{_results.push(node.style.width=""+progress+"%");}}
return _results;}},totaluploadprogress:noop,sending:noop,sendingmultiple:noop,success:function(file){if(file.previewElement){return file.previewElement.classList.add("dz-success");}},successmultiple:noop,canceled:function(file){return this.emit("error",file,"Upload canceled.");},canceledmultiple:noop,complete:function(file){if(file._removeLink){file._removeLink.textContent=this.options.dictRemoveFile;}
if(file.previewElement){return file.previewElement.classList.add("dz-complete");}},completemultiple:noop,maxfilesexceeded:noop,maxfilesreached:noop,queuecomplete:noop,addedfiles:noop,previewTemplate:"<div class=\"dz-preview dz-file-preview\">\n  <div class=\"dz-image\"><img data-dz-thumbnail /></div>\n  <div class=\"dz-details\">\n    <div class=\"dz-size\"><span data-dz-size></span></div>\n    <div class=\"dz-filename\"><span data-dz-name></span></div>\n  </div>\n  <div class=\"dz-progress\"><span class=\"dz-upload\" data-dz-uploadprogress></span></div>\n  <div class=\"dz-error-message\"><span data-dz-errormessage></span></div>\n  <div class=\"dz-success-mark\">\n    <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\n      <title>Check</title>\n      <defs></defs>\n      <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\n        <path d=\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" stroke-opacity=\"0.198794158\" stroke=\"#747474\" fill-opacity=\"0.816519475\" fill=\"#FFFFFF\" sketch:type=\"MSShapeGroup\"></path>\n      </g>\n    </svg>\n  </div>\n  <div class=\"dz-error-mark\">\n    <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\n      <title>Error</title>\n      <defs></defs>\n      <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\n        <g id=\"Check-+-Oval-2\" sketch:type=\"MSLayerGroup\" stroke=\"#747474\" stroke-opacity=\"0.198794158\" fill=\"#FFFFFF\" fill-opacity=\"0.816519475\">\n          <path d=\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" sketch:type=\"MSShapeGroup\"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>"};extend=function(){var key,object,objects,target,val,_i,_len;target=arguments[0],objects=2<=arguments.length?__slice.call(arguments,1):[];for(_i=0,_len=objects.length;_i<_len;_i++){object=objects[_i];for(key in object){val=object[key];target[key]=val;}}
return target;};function Dropzone(element,options){var elementOptions,fallback,_ref;this.element=element;this.version=Dropzone.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element);}
if(!(this.element&&(this.element.nodeType!=null))){throw new Error("Invalid dropzone element.");}
if(this.element.dropzone){throw new Error("Dropzone already attached.");}
Dropzone.instances.push(this);this.element.dropzone=this;elementOptions=(_ref=Dropzone.optionsForElement(this.element))!=null?_ref:{};this.options=extend({},this.defaultOptions,elementOptions,options!=null?options:{});if(this.options.forceFallback||!Dropzone.isBrowserSupported()){return this.options.fallback.call(this);}
if(this.options.url==null){this.options.url=this.element.getAttribute("action");}
if(!this.options.url){throw new Error("No URL provided.");}
if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");}
if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes;}
this.options.method=this.options.method.toUpperCase();if((fallback=this.getExistingFallback())&&fallback.parentNode){fallback.parentNode.removeChild(fallback);}
if(this.options.previewsContainer!==false){if(this.options.previewsContainer){this.previewsContainer=Dropzone.getElement(this.options.previewsContainer,"previewsContainer");}else{this.previewsContainer=this.element;}}
if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element];}else{this.clickableElements=Dropzone.getElements(this.options.clickable,"clickable");}}
this.init();}
Dropzone.prototype.getAcceptedFiles=function(){var file,_i,_len,_ref,_results;_ref=this.files;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];if(file.accepted){_results.push(file);}}
return _results;};Dropzone.prototype.getRejectedFiles=function(){var file,_i,_len,_ref,_results;_ref=this.files;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];if(!file.accepted){_results.push(file);}}
return _results;};Dropzone.prototype.getFilesWithStatus=function(status){var file,_i,_len,_ref,_results;_ref=this.files;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];if(file.status===status){_results.push(file);}}
return _results;};Dropzone.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(Dropzone.QUEUED);};Dropzone.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(Dropzone.UPLOADING);};Dropzone.prototype.getAddedFiles=function(){return this.getFilesWithStatus(Dropzone.ADDED);};Dropzone.prototype.getActiveFiles=function(){var file,_i,_len,_ref,_results;_ref=this.files;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];if(file.status===Dropzone.UPLOADING||file.status===Dropzone.QUEUED){_results.push(file);}}
return _results;};Dropzone.prototype.init=function(){var eventName,noPropagation,setupHiddenFileInput,_i,_len,_ref,_ref1;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data");}
if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(Dropzone.createElement("<div class=\"dz-default dz-message\"><span>"+this.options.dictDefaultMessage+"</span></div>"));}
if(this.clickableElements.length){setupHiddenFileInput=(function(_this){return function(){if(_this.hiddenFileInput){_this.hiddenFileInput.parentNode.removeChild(_this.hiddenFileInput);}
_this.hiddenFileInput=document.createElement("input");_this.hiddenFileInput.setAttribute("type","file");if((_this.options.maxFiles==null)||_this.options.maxFiles>1){_this.hiddenFileInput.setAttribute("multiple","multiple");}
_this.hiddenFileInput.className="dz-hidden-input";if(_this.options.acceptedFiles!=null){_this.hiddenFileInput.setAttribute("accept",_this.options.acceptedFiles);}
if(_this.options.capture!=null){_this.hiddenFileInput.setAttribute("capture",_this.options.capture);}
_this.hiddenFileInput.style.visibility="hidden";_this.hiddenFileInput.style.position="absolute";_this.hiddenFileInput.style.top="0";_this.hiddenFileInput.style.left="0";_this.hiddenFileInput.style.height="0";_this.hiddenFileInput.style.width="0";document.querySelector(_this.options.hiddenInputContainer).appendChild(_this.hiddenFileInput);return _this.hiddenFileInput.addEventListener("change",function(){var file,files,_i,_len;files=_this.hiddenFileInput.files;if(files.length){for(_i=0,_len=files.length;_i<_len;_i++){file=files[_i];_this.addFile(file);}}
_this.emit("addedfiles",files);return setupHiddenFileInput();});};})(this);setupHiddenFileInput();}
this.URL=(_ref=window.URL)!=null?_ref:window.webkitURL;_ref1=this.events;for(_i=0,_len=_ref1.length;_i<_len;_i++){eventName=_ref1[_i];this.on(eventName,this.options[eventName]);}
this.on("uploadprogress",(function(_this){return function(){return _this.updateTotalUploadProgress();};})(this));this.on("removedfile",(function(_this){return function(){return _this.updateTotalUploadProgress();};})(this));this.on("canceled",(function(_this){return function(file){return _this.emit("complete",file);};})(this));this.on("complete",(function(_this){return function(file){if(_this.getAddedFiles().length===0&&_this.getUploadingFiles().length===0&&_this.getQueuedFiles().length===0){return setTimeout((function(){return _this.emit("queuecomplete");}),0);}};})(this));noPropagation=function(e){e.stopPropagation();if(e.preventDefault){return e.preventDefault();}else{return e.returnValue=false;}};this.listeners=[{element:this.element,events:{"dragstart":(function(_this){return function(e){return _this.emit("dragstart",e);};})(this),"dragenter":(function(_this){return function(e){noPropagation(e);return _this.emit("dragenter",e);};})(this),"dragover":(function(_this){return function(e){var efct;try{efct=e.dataTransfer.effectAllowed;}catch(_error){}
e.dataTransfer.dropEffect='move'===efct||'linkMove'===efct?'move':'copy';noPropagation(e);return _this.emit("dragover",e);};})(this),"dragleave":(function(_this){return function(e){return _this.emit("dragleave",e);};})(this),"drop":(function(_this){return function(e){noPropagation(e);return _this.drop(e);};})(this),"dragend":(function(_this){return function(e){return _this.emit("dragend",e);};})(this)}}];this.clickableElements.forEach((function(_this){return function(clickableElement){return _this.listeners.push({element:clickableElement,events:{"click":function(evt){if((clickableElement!==_this.element)||(evt.target===_this.element||Dropzone.elementInside(evt.target,_this.element.querySelector(".dz-message")))){_this.hiddenFileInput.click();}
return true;}}});};})(this));this.enable();return this.options.init.call(this);};Dropzone.prototype.destroy=function(){var _ref;this.disable();this.removeAllFiles(true);if((_ref=this.hiddenFileInput)!=null?_ref.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null;}
delete this.element.dropzone;return Dropzone.instances.splice(Dropzone.instances.indexOf(this),1);};Dropzone.prototype.updateTotalUploadProgress=function(){var activeFiles,file,totalBytes,totalBytesSent,totalUploadProgress,_i,_len,_ref;totalBytesSent=0;totalBytes=0;activeFiles=this.getActiveFiles();if(activeFiles.length){_ref=this.getActiveFiles();for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];totalBytesSent+=file.upload.bytesSent;totalBytes+=file.upload.total;}
totalUploadProgress=100*totalBytesSent/totalBytes;}else{totalUploadProgress=100;}
return this.emit("totaluploadprogress",totalUploadProgress,totalBytes,totalBytesSent);};Dropzone.prototype._getParamName=function(n){if(typeof this.options.paramName==="function"){return this.options.paramName(n);}else{return""+this.options.paramName+(this.options.uploadMultiple?"["+n+"]":"");}};Dropzone.prototype._renameFilename=function(name){if(typeof this.options.renameFilename!=="function"){return name;}
return this.options.renameFilename(name);};Dropzone.prototype.getFallbackForm=function(){var existingFallback,fields,fieldsString,form;if(existingFallback=this.getExistingFallback()){return existingFallback;}
fieldsString="<div class=\"dz-fallback\">";if(this.options.dictFallbackText){fieldsString+="<p>"+this.options.dictFallbackText+"</p>";}
fieldsString+="<input type=\"file\" name=\""+(this._getParamName(0))+"\" "+(this.options.uploadMultiple?'multiple="multiple"':void 0)+" /><input type=\"submit\" value=\"Upload!\"></div>";fields=Dropzone.createElement(fieldsString);if(this.element.tagName!=="FORM"){form=Dropzone.createElement("<form action=\""+this.options.url+"\" enctype=\"multipart/form-data\" method=\""+this.options.method+"\"></form>");form.appendChild(fields);}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method);}
return form!=null?form:fields;};Dropzone.prototype.getExistingFallback=function(){var fallback,getFallback,tagName,_i,_len,_ref;getFallback=function(elements){var el,_i,_len;for(_i=0,_len=elements.length;_i<_len;_i++){el=elements[_i];if(/(^| )fallback($| )/.test(el.className)){return el;}}};_ref=["div","form"];for(_i=0,_len=_ref.length;_i<_len;_i++){tagName=_ref[_i];if(fallback=getFallback(this.element.getElementsByTagName(tagName))){return fallback;}}};Dropzone.prototype.setupEventListeners=function(){var elementListeners,event,listener,_i,_len,_ref,_results;_ref=this.listeners;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){elementListeners=_ref[_i];_results.push((function(){var _ref1,_results1;_ref1=elementListeners.events;_results1=[];for(event in _ref1){listener=_ref1[event];_results1.push(elementListeners.element.addEventListener(event,listener,false));}
return _results1;})());}
return _results;};Dropzone.prototype.removeEventListeners=function(){var elementListeners,event,listener,_i,_len,_ref,_results;_ref=this.listeners;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){elementListeners=_ref[_i];_results.push((function(){var _ref1,_results1;_ref1=elementListeners.events;_results1=[];for(event in _ref1){listener=_ref1[event];_results1.push(elementListeners.element.removeEventListener(event,listener,false));}
return _results1;})());}
return _results;};Dropzone.prototype.disable=function(){var file,_i,_len,_ref,_results;this.clickableElements.forEach(function(element){return element.classList.remove("dz-clickable");});this.removeEventListeners();_ref=this.files;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];_results.push(this.cancelUpload(file));}
return _results;};Dropzone.prototype.enable=function(){this.clickableElements.forEach(function(element){return element.classList.add("dz-clickable");});return this.setupEventListeners();};Dropzone.prototype.filesize=function(size){var cutoff,i,selectedSize,selectedUnit,unit,units,_i,_len;selectedSize=0;selectedUnit="b";if(size>0){units=['TB','GB','MB','KB','b'];for(i=_i=0,_len=units.length;_i<_len;i=++_i){unit=units[i];cutoff=Math.pow(this.options.filesizeBase,4-i)/10;if(size>=cutoff){selectedSize=size/Math.pow(this.options.filesizeBase,4-i);selectedUnit=unit;break;}}
selectedSize=Math.round(10*selectedSize)/10;}
return"<strong>"+selectedSize+"</strong> "+selectedUnit;};Dropzone.prototype._updateMaxFilesReachedClass=function(){if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit('maxfilesreached',this.files);}
return this.element.classList.add("dz-max-files-reached");}else{return this.element.classList.remove("dz-max-files-reached");}};Dropzone.prototype.drop=function(e){var files,items;if(!e.dataTransfer){return;}
this.emit("drop",e);files=e.dataTransfer.files;this.emit("addedfiles",files);if(files.length){items=e.dataTransfer.items;if(items&&items.length&&(items[0].webkitGetAsEntry!=null)){this._addFilesFromItems(items);}else{this.handleFiles(files);}}};Dropzone.prototype.paste=function(e){var items,_ref;if((e!=null?(_ref=e.clipboardData)!=null?_ref.items:void 0:void 0)==null){return;}
this.emit("paste",e);items=e.clipboardData.items;if(items.length){return this._addFilesFromItems(items);}};Dropzone.prototype.handleFiles=function(files){var file,_i,_len,_results;_results=[];for(_i=0,_len=files.length;_i<_len;_i++){file=files[_i];_results.push(this.addFile(file));}
return _results;};Dropzone.prototype._addFilesFromItems=function(items){var entry,item,_i,_len,_results;_results=[];for(_i=0,_len=items.length;_i<_len;_i++){item=items[_i];if((item.webkitGetAsEntry!=null)&&(entry=item.webkitGetAsEntry())){if(entry.isFile){_results.push(this.addFile(item.getAsFile()));}else if(entry.isDirectory){_results.push(this._addFilesFromDirectory(entry,entry.name));}else{_results.push(void 0);}}else if(item.getAsFile!=null){if((item.kind==null)||item.kind==="file"){_results.push(this.addFile(item.getAsFile()));}else{_results.push(void 0);}}else{_results.push(void 0);}}
return _results;};Dropzone.prototype._addFilesFromDirectory=function(directory,path){var dirReader,errorHandler,readEntries;dirReader=directory.createReader();errorHandler=function(error){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(error):void 0:void 0;};readEntries=(function(_this){return function(){return dirReader.readEntries(function(entries){var entry,_i,_len;if(entries.length>0){for(_i=0,_len=entries.length;_i<_len;_i++){entry=entries[_i];if(entry.isFile){entry.file(function(file){if(_this.options.ignoreHiddenFiles&&file.name.substring(0,1)==='.'){return;}
file.fullPath=""+path+"/"+file.name;return _this.addFile(file);});}else if(entry.isDirectory){_this._addFilesFromDirectory(entry,""+path+"/"+entry.name);}}
readEntries();}
return null;},errorHandler);};})(this);return readEntries();};Dropzone.prototype.accept=function(file,done){if(file.size>this.options.maxFilesize*1024*1024){return done(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(file.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize));}else if(!Dropzone.isValidFile(file,this.options.acceptedFiles)){return done(this.options.dictInvalidFileType);}else if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){done(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",file);}else{return this.options.accept.call(this,file,done);}};Dropzone.prototype.addFile=function(file){file.upload={progress:0,total:file.size,bytesSent:0};this.files.push(file);file.status=Dropzone.ADDED;this.emit("addedfile",file);this._enqueueThumbnail(file);return this.accept(file,(function(_this){return function(error){if(error){file.accepted=false;_this._errorProcessing([file],error);}else{file.accepted=true;if(_this.options.autoQueue){_this.enqueueFile(file);}}
return _this._updateMaxFilesReachedClass();};})(this));};Dropzone.prototype.enqueueFiles=function(files){var file,_i,_len;for(_i=0,_len=files.length;_i<_len;_i++){file=files[_i];this.enqueueFile(file);}
return null;};Dropzone.prototype.enqueueFile=function(file){if(file.status===Dropzone.ADDED&&file.accepted===true){file.status=Dropzone.QUEUED;if(this.options.autoProcessQueue){return setTimeout(((function(_this){return function(){return _this.processQueue();};})(this)),0);}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.");}};Dropzone.prototype._thumbnailQueue=[];Dropzone.prototype._processingThumbnail=false;Dropzone.prototype._enqueueThumbnail=function(file){if(this.options.createImageThumbnails&&file.type.match(/image.*/)&&file.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(file);return setTimeout(((function(_this){return function(){return _this._processThumbnailQueue();};})(this)),0);}};Dropzone.prototype._processThumbnailQueue=function(){if(this._processingThumbnail||this._thumbnailQueue.length===0){return;}
this._processingThumbnail=true;return this.createThumbnail(this._thumbnailQueue.shift(),(function(_this){return function(){_this._processingThumbnail=false;return _this._processThumbnailQueue();};})(this));};Dropzone.prototype.removeFile=function(file){if(file.status===Dropzone.UPLOADING){this.cancelUpload(file);}
this.files=without(this.files,file);this.emit("removedfile",file);if(this.files.length===0){return this.emit("reset");}};Dropzone.prototype.removeAllFiles=function(cancelIfNecessary){var file,_i,_len,_ref;if(cancelIfNecessary==null){cancelIfNecessary=false;}
_ref=this.files.slice();for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];if(file.status!==Dropzone.UPLOADING||cancelIfNecessary){this.removeFile(file);}}
return null;};Dropzone.prototype.createThumbnail=function(file,callback){var fileReader;fileReader=new FileReader;fileReader.onload=(function(_this){return function(){if(file.type==="image/svg+xml"){_this.emit("thumbnail",file,fileReader.result);if(callback!=null){callback();}
return;}
return _this.createThumbnailFromUrl(file,fileReader.result,callback);};})(this);return fileReader.readAsDataURL(file);};Dropzone.prototype.createThumbnailFromUrl=function(file,imageUrl,callback,crossOrigin){var img;img=document.createElement("img");if(crossOrigin){img.crossOrigin=crossOrigin;}
img.onload=(function(_this){return function(){var detectVerticalSquash=function(img){var alpha,canvas,ctx,data,ey,ih,iw,py,ratio,sy;iw=img.naturalWidth;ih=img.naturalHeight;canvas=document.createElement("canvas");canvas.width=1;canvas.height=ih;ctx=canvas.getContext("2d");ctx.drawImage(img,0,0);data=ctx.getImageData(0,0,1,ih).data;sy=0;ey=ih;py=ih;while(py>sy){alpha=data[(py-1)*4+3];if(alpha===0){ey=py;}else{sy=py;}
py=(ey+sy)>>1;}
ratio=py/ih;if(ratio===0){return 1;}else{return ratio;}};var drawImageIOSFix=function(ctx,img,sx,sy,sw,sh,dx,dy,dw,dh,orientation,flip){var vertSquashRatio;vertSquashRatio=detectVerticalSquash(img);dh=dh/vertSquashRatio;ctx.translate(dx+dw/2,dy+dh/2);if(flip)ctx.scale(-1,1);ctx.rotate(-orientation*Math.PI/180);dx=-dw/2;dy=-dh/2;return ctx.drawImage(img,sx,sy,sw,sh,dx,dy,dw,dh/vertSquashRatio);};var orientation=0;var flip=false;if(typeof EXIF!='undefined')EXIF.getData(img,function(){switch(parseInt(EXIF.getTag(this,"Orientation"))){case 2:flip=true;break;case 3:orientation=180;break;case 4:orientation=180;flip=true;break;case 5:orientation=270;flip=true;break;case 6:orientation=270;break;case 7:orientation=90;flip=true;break;case 8:orientation=90;break;}});var canvas,ctx,resizeInfo,thumbnail,_ref,_ref1,_ref2,_ref3;file.width=img.width;file.height=img.height;resizeInfo=_this.options.resize.call(_this,file);if(resizeInfo.trgWidth==null){resizeInfo.trgWidth=resizeInfo.optWidth;}
if(resizeInfo.trgHeight==null){resizeInfo.trgHeight=resizeInfo.optHeight;}
canvas=document.createElement("canvas");ctx=canvas.getContext("2d");canvas.width=resizeInfo.trgWidth;canvas.height=resizeInfo.trgHeight;drawImageIOSFix(ctx,img,(_ref=resizeInfo.srcX)!=null?_ref:0,(_ref1=resizeInfo.srcY)!=null?_ref1:0,resizeInfo.srcWidth,resizeInfo.srcHeight,(_ref2=resizeInfo.trgX)!=null?_ref2:0,(_ref3=resizeInfo.trgY)!=null?_ref3:0,resizeInfo.trgWidth,resizeInfo.trgHeight,orientation,flip);thumbnail=canvas.toDataURL("image/png");_this.emit("thumbnail",file,thumbnail);if(callback!=null){return callback();}};})(this);if(callback!=null){img.onerror=callback;}
return img.src=imageUrl;};Dropzone.prototype.processQueue=function(){var i,parallelUploads,processingLength,queuedFiles;parallelUploads=this.options.parallelUploads;processingLength=this.getUploadingFiles().length;i=processingLength;if(processingLength>=parallelUploads){return;}
queuedFiles=this.getQueuedFiles();if(!(queuedFiles.length>0)){return;}
if(this.options.uploadMultiple){return this.processFiles(queuedFiles.slice(0,parallelUploads-processingLength));}else{while(i<parallelUploads){if(!queuedFiles.length){return;}
this.processFile(queuedFiles.shift());i++;}}};Dropzone.prototype.processFile=function(file){return this.processFiles([file]);};Dropzone.prototype.processFiles=function(files){var file,_i,_len;for(_i=0,_len=files.length;_i<_len;_i++){file=files[_i];file.processing=true;file.status=Dropzone.UPLOADING;this.emit("processing",file);}
if(this.options.uploadMultiple){this.emit("processingmultiple",files);}
return this.uploadFiles(files);};Dropzone.prototype._getFilesWithXhr=function(xhr){var file,files;return files=(function(){var _i,_len,_ref,_results;_ref=this.files;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){file=_ref[_i];if(file.xhr===xhr){_results.push(file);}}
return _results;}).call(this);};Dropzone.prototype.cancelUpload=function(file){var groupedFile,groupedFiles,_i,_j,_len,_len1,_ref;if(file.status===Dropzone.UPLOADING){groupedFiles=this._getFilesWithXhr(file.xhr);for(_i=0,_len=groupedFiles.length;_i<_len;_i++){groupedFile=groupedFiles[_i];groupedFile.status=Dropzone.CANCELED;}
file.xhr.abort();for(_j=0,_len1=groupedFiles.length;_j<_len1;_j++){groupedFile=groupedFiles[_j];this.emit("canceled",groupedFile);}
if(this.options.uploadMultiple){this.emit("canceledmultiple",groupedFiles);}}else if((_ref=file.status)===Dropzone.ADDED||_ref===Dropzone.QUEUED){file.status=Dropzone.CANCELED;this.emit("canceled",file);if(this.options.uploadMultiple){this.emit("canceledmultiple",[file]);}}
if(this.options.autoProcessQueue){return this.processQueue();}};resolveOption=function(){var args,option;option=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];if(typeof option==='function'){return option.apply(this,args);}
return option;};Dropzone.prototype.uploadFile=function(file){return this.uploadFiles([file]);};Dropzone.prototype.uploadFiles=function(files){var file,formData,handleError,headerName,headerValue,headers,i,input,inputName,inputType,key,method,option,progressObj,response,updateProgress,url,value,xhr,_i,_j,_k,_l,_len,_len1,_len2,_len3,_m,_ref,_ref1,_ref2,_ref3,_ref4,_ref5;xhr=new XMLHttpRequest();for(_i=0,_len=files.length;_i<_len;_i++){file=files[_i];file.xhr=xhr;}
method=resolveOption(this.options.method,files);url=resolveOption(this.options.url,files);xhr.open(method,url,true);xhr.withCredentials=!!this.options.withCredentials;response=null;handleError=(function(_this){return function(){var _j,_len1,_results;_results=[];for(_j=0,_len1=files.length;_j<_len1;_j++){file=files[_j];_results.push(_this._errorProcessing(files,response||_this.options.dictResponseError.replace("{{statusCode}}",xhr.status),xhr));}
return _results;};})(this);updateProgress=(function(_this){return function(e){var allFilesFinished,progress,_j,_k,_l,_len1,_len2,_len3,_results;if(e!=null){progress=100*e.loaded/e.total;for(_j=0,_len1=files.length;_j<_len1;_j++){file=files[_j];file.upload={progress:progress,total:e.total,bytesSent:e.loaded};}}else{allFilesFinished=true;progress=100;for(_k=0,_len2=files.length;_k<_len2;_k++){file=files[_k];if(!(file.upload.progress===100&&file.upload.bytesSent===file.upload.total)){allFilesFinished=false;}
file.upload.progress=progress;file.upload.bytesSent=file.upload.total;}
if(allFilesFinished){return;}}
_results=[];for(_l=0,_len3=files.length;_l<_len3;_l++){file=files[_l];_results.push(_this.emit("uploadprogress",file,progress,file.upload.bytesSent));}
return _results;};})(this);xhr.onload=(function(_this){return function(e){var _ref;if(files[0].status===Dropzone.CANCELED){return;}
if(xhr.readyState!==4){return;}
response=xhr.responseText;if(xhr.getResponseHeader("content-type")&&~xhr.getResponseHeader("content-type").indexOf("application/json")){try{response=JSON.parse(response);}catch(_error){e=_error;response="Invalid JSON response from server.";}}
updateProgress();if(!((200<=(_ref=xhr.status)&&_ref<300))){return handleError();}else{return _this._finished(files,response,e);}};})(this);xhr.onerror=(function(_this){return function(){if(files[0].status===Dropzone.CANCELED){return;}
return handleError();};})(this);progressObj=(_ref=xhr.upload)!=null?_ref:xhr;progressObj.onprogress=updateProgress;headers={"Accept":"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){extend(headers,this.options.headers);}
for(headerName in headers){headerValue=headers[headerName];if(headerValue){xhr.setRequestHeader(headerName,headerValue);}}
formData=new FormData();if(this.options.params){_ref1=this.options.params;for(key in _ref1){value=_ref1[key];formData.append(key,value);}}
for(_j=0,_len1=files.length;_j<_len1;_j++){file=files[_j];this.emit("sending",file,xhr,formData);}
if(this.options.uploadMultiple){this.emit("sendingmultiple",files,xhr,formData);}
if(this.element.tagName==="FORM"){_ref2=this.element.querySelectorAll("input, textarea, select, button");for(_k=0,_len2=_ref2.length;_k<_len2;_k++){input=_ref2[_k];inputName=input.getAttribute("name");inputType=input.getAttribute("type");if(input.tagName==="SELECT"&&input.hasAttribute("multiple")){_ref3=input.options;for(_l=0,_len3=_ref3.length;_l<_len3;_l++){option=_ref3[_l];if(option.selected){formData.append(inputName,option.value);}}}else if(!inputType||((_ref4=inputType.toLowerCase())!=="checkbox"&&_ref4!=="radio")||input.checked){formData.append(inputName,input.value);}}}
for(i=_m=0,_ref5=files.length-1;0<=_ref5?_m<=_ref5:_m>=_ref5;i=0<=_ref5?++_m:--_m){formData.append(this._getParamName(i),files[i],this._renameFilename(files[i].name));}
return this.submitRequest(xhr,formData,files);};Dropzone.prototype.submitRequest=function(xhr,formData,files){return xhr.send(formData);};Dropzone.prototype._finished=function(files,responseText,e){var file,_i,_len;for(_i=0,_len=files.length;_i<_len;_i++){file=files[_i];file.status=Dropzone.SUCCESS;this.emit("success",file,responseText,e);this.emit("complete",file);}
if(this.options.uploadMultiple){this.emit("successmultiple",files,responseText,e);this.emit("completemultiple",files);}
if(this.options.autoProcessQueue){return this.processQueue();}};Dropzone.prototype._errorProcessing=function(files,message,xhr){var file,_i,_len;for(_i=0,_len=files.length;_i<_len;_i++){file=files[_i];file.status=Dropzone.ERROR;this.emit("error",file,message,xhr);this.emit("complete",file);}
if(this.options.uploadMultiple){this.emit("errormultiple",files,message,xhr);this.emit("completemultiple",files);}
if(this.options.autoProcessQueue){return this.processQueue();}};return Dropzone;})(Emitter);Dropzone.version="4.3.0";Dropzone.options={};Dropzone.optionsForElement=function(element){if(element.getAttribute("id")){return Dropzone.options[camelize(element.getAttribute("id"))];}else{return void 0;}};Dropzone.instances=[];Dropzone.forElement=function(element){if(typeof element==="string"){element=document.querySelector(element);}
if((element!=null?element.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");}
return element.dropzone;};Dropzone.autoDiscover=true;Dropzone.discover=function(){var checkElements,dropzone,dropzones,_i,_len,_results;if(document.querySelectorAll){dropzones=document.querySelectorAll(".dropzone");}else{dropzones=[];checkElements=function(elements){var el,_i,_len,_results;_results=[];for(_i=0,_len=elements.length;_i<_len;_i++){el=elements[_i];if(/(^| )dropzone($| )/.test(el.className)){_results.push(dropzones.push(el));}else{_results.push(void 0);}}
return _results;};checkElements(document.getElementsByTagName("div"));checkElements(document.getElementsByTagName("form"));}
_results=[];for(_i=0,_len=dropzones.length;_i<_len;_i++){dropzone=dropzones[_i];if(Dropzone.optionsForElement(dropzone)!==false){_results.push(new Dropzone(dropzone));}else{_results.push(void 0);}}
return _results;};Dropzone.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];Dropzone.isBrowserSupported=function(){var capableBrowser,regex,_i,_len,_ref;capableBrowser=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList"in document.createElement("a"))){capableBrowser=false;}else{_ref=Dropzone.blacklistedBrowsers;for(_i=0,_len=_ref.length;_i<_len;_i++){regex=_ref[_i];if(regex.test(navigator.userAgent)){capableBrowser=false;continue;}}}}else{capableBrowser=false;}
return capableBrowser;};without=function(list,rejectedItem){var item,_i,_len,_results;_results=[];for(_i=0,_len=list.length;_i<_len;_i++){item=list[_i];if(item!==rejectedItem){_results.push(item);}}
return _results;};camelize=function(str){return str.replace(/[\-_](\w)/g,function(match){return match.charAt(1).toUpperCase();});};Dropzone.createElement=function(string){var div;div=document.createElement("div");div.innerHTML=string;return div.childNodes[0];};Dropzone.elementInside=function(element,container){if(element===container){return true;}
while(element=element.parentNode){if(element===container){return true;}}
return false;};Dropzone.getElement=function(el,name){var element;if(typeof el==="string"){element=document.querySelector(el);}else if(el.nodeType!=null){element=el;}
if(element==null){throw new Error("Invalid `"+name+"` option provided. Please provide a CSS selector or a plain HTML element.");}
return element;};Dropzone.getElements=function(els,name){var e,el,elements,_i,_j,_len,_len1,_ref;if(els instanceof Array){elements=[];try{for(_i=0,_len=els.length;_i<_len;_i++){el=els[_i];elements.push(this.getElement(el,name));}}catch(_error){e=_error;elements=null;}}else if(typeof els==="string"){elements=[];_ref=document.querySelectorAll(els);for(_j=0,_len1=_ref.length;_j<_len1;_j++){el=_ref[_j];elements.push(el);}}else if(els.nodeType!=null){elements=[els];}
if(!((elements!=null)&&elements.length)){throw new Error("Invalid `"+name+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");}
return elements;};Dropzone.confirm=function(question,accepted,rejected){if(window.confirm(question)){return accepted();}else if(rejected!=null){return rejected();}};Dropzone.isValidFile=function(file,acceptedFiles){var baseMimeType,mimeType,validType,_i,_len;if(!acceptedFiles){return true;}
acceptedFiles=acceptedFiles.split(",");mimeType=file.type;baseMimeType=mimeType.replace(/\/.*$/,"");for(_i=0,_len=acceptedFiles.length;_i<_len;_i++){validType=acceptedFiles[_i];validType=validType.trim();if(validType.charAt(0)==="."){if(file.name.toLowerCase().indexOf(validType.toLowerCase(),file.name.length-validType.length)!==-1){return true;}}else if(/\/\*$/.test(validType)){if(baseMimeType===validType.replace(/\/.*$/,"")){return true;}}else{if(mimeType===validType){return true;}}}
return false;};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(options){return this.each(function(){return new Dropzone(this,options);});};}
if(typeof module!=="undefined"&&module!==null){module.exports=Dropzone;}else{window.Dropzone=Dropzone;}
Dropzone.ADDED="added";Dropzone.QUEUED="queued";Dropzone.ACCEPTED=Dropzone.QUEUED;Dropzone.UPLOADING="uploading";Dropzone.PROCESSING=Dropzone.UPLOADING;Dropzone.CANCELED="canceled";Dropzone.ERROR="error";Dropzone.SUCCESS="success";detectVerticalSquash=function(img){var alpha,canvas,ctx,data,ey,ih,iw,py,ratio,sy;iw=img.naturalWidth;ih=img.naturalHeight;canvas=document.createElement("canvas");canvas.width=1;canvas.height=ih;ctx=canvas.getContext("2d");ctx.drawImage(img,0,0);data=ctx.getImageData(0,0,1,ih).data;sy=0;ey=ih;py=ih;while(py>sy){alpha=data[(py-1)*4+3];if(alpha===0){ey=py;}else{sy=py;}
py=(ey+sy)>>1;}
ratio=py/ih;if(ratio===0){return 1;}else{return ratio;}};drawImageIOSFix=function(ctx,img,sx,sy,sw,sh,dx,dy,dw,dh){var vertSquashRatio;vertSquashRatio=detectVerticalSquash(img);return ctx.drawImage(img,sx,sy,sw,sh,dx,dy,dw,dh/vertSquashRatio);};contentLoaded=function(win,fn){var add,doc,done,init,poll,pre,rem,root,top;done=false;top=true;doc=win.document;root=doc.documentElement;add=(doc.addEventListener?"addEventListener":"attachEvent");rem=(doc.addEventListener?"removeEventListener":"detachEvent");pre=(doc.addEventListener?"":"on");init=function(e){if(e.type==="readystatechange"&&doc.readyState!=="complete"){return;}
(e.type==="load"?win:doc)[rem](pre+e.type,init,false);if(!done&&(done=true)){return fn.call(win,e.type||e);}};poll=function(){var e;try{root.doScroll("left");}catch(_error){e=_error;setTimeout(poll,50);return;}
return init("poll");};if(doc.readyState!=="complete"){if(doc.createEventObject&&root.doScroll){try{top=!win.frameElement;}catch(_error){}
if(top){poll();}}
doc[add](pre+"DOMContentLoaded",init,false);doc[add](pre+"readystatechange",init,false);return win[add](pre+"load",init,false);}};Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover){return Dropzone.discover();}};contentLoaded(window,Dropzone._autoDiscoverFunction);}).call(this);




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fauf%2FafLazyloadConfig.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/auf/afLazyloadConfig.js?v=202406200958 **/
window.lazySizesConfig=window.lazySizesConfig||{};window.lazySizesConfig.loadMode=1;window.lazySizesConfig.expFactor=0;window.lazySizesConfig.hFac=0.4;window.lazySizesConfig.loadHidden=false;




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Flazysize%2Flazysizes.min.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/lazysize/lazysizes.min.js?v=202406200958 **/
/*! lazysizes - v5.2.0 */
!function(a,b){var c=b(a,a.document,Date);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}("undefined"!=typeof window?window:{},function(a,b,c){"use strict";var d,e;if(function(){var b,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};e=a.lazySizesConfig||a.lazysizesConfig||{};for(b in c)b in e||(e[b]=c[b])}(),!b||!b.getElementsByClassName)return{init:function(){},cfg:e,noSupport:!0};var f=b.documentElement,g=a.HTMLPictureElement,h="addEventListener",i="getAttribute",j=a[h].bind(a),k=a.setTimeout,l=a.requestAnimationFrame||k,m=a.requestIdleCallback,n=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],p={},q=Array.prototype.forEach,r=function(a,b){return p[b]||(p[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),p[b].test(a[i]("class")||"")&&p[b]},s=function(a,b){r(a,b)||a.setAttribute("class",(a[i]("class")||"").trim()+" "+b)},t=function(a,b){var c;(c=r(a,b))&&a.setAttribute("class",(a[i]("class")||"").replace(c," "))},u=function(a,b,c){var d=c?h:"removeEventListener";c&&u(a,b),o.forEach(function(c){a[d](c,b)})},v=function(a,c,e,f,g){var h=b.createEvent("Event");return e||(e={}),e.instance=d,h.initEvent(c,!f,!g),h.detail=e,a.dispatchEvent(h),h},w=function(b,c){var d;!g&&(d=a.picturefill||e.pf)?(c&&c.src&&!b[i]("srcset")&&b.setAttribute("srcset",c.src),d({reevaluate:!0,elements:[b]})):c&&c.src&&(b.src=c.src)},x=function(a,b){return(getComputedStyle(a,null)||{})[b]},y=function(a,b,c){for(c=c||a.offsetWidth;c<e.minSize&&b&&!a._lazysizesWidth;)c=b.offsetWidth,b=b.parentNode;return c},z=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?k:l)(g)))};return h._lsFlush=g,h}(),A=function(a,b){return b?function(){z(a)}:function(){var b=this,c=arguments;z(function(){a.apply(b,c)})}},B=function(a){var b,d=0,f=e.throttleDelay,g=e.ricTimeout,h=function(){b=!1,d=c.now(),a()},i=m&&g>49?function(){m(h,{timeout:g}),g!==e.ricTimeout&&(g=e.ricTimeout)}:A(function(){k(h)},!0);return function(a){var e;(a=!0===a)&&(g=33),b||(b=!0,e=f-(c.now()-d),e<0&&(e=0),a||e<9?i():k(i,e))}},C=function(a){var b,d,e=99,f=function(){b=null,a()},g=function(){var a=c.now()-d;a<e?k(g,e-a):(m||f)(f)};return function(){d=c.now(),b||(b=k(g,e))}},D=function(){var g,m,o,p,y,D,F,G,H,I,J,K,L=/^img$/i,M=/^iframe$/i,N="onscroll"in a&&!/(gle|ing)bot/.test(navigator.userAgent),O=0,P=0,Q=0,R=-1,S=function(a){Q--,(!a||Q<0||!a.target)&&(Q=0)},T=function(a){return null==K&&(K="hidden"==x(b.body,"visibility")),K||!("hidden"==x(a.parentNode,"visibility")&&"hidden"==x(a,"visibility"))},U=function(a,c){var d,e=a,g=T(a);for(G-=c,J+=c,H-=c,I+=c;g&&(e=e.offsetParent)&&e!=b.body&&e!=f;)(g=(x(e,"opacity")||1)>0)&&"visible"!=x(e,"overflow")&&(d=e.getBoundingClientRect(),g=I>d.left&&H<d.right&&J>d.top-1&&G<d.bottom+1);return g},V=function(){var a,c,h,j,k,l,n,o,q,r,s,t,u=d.elements;if((p=e.loadMode)&&Q<8&&(a=u.length)){for(c=0,R++;c<a;c++)if(u[c]&&!u[c]._lazyRace)if(!N||d.prematureUnveil&&d.prematureUnveil(u[c]))ba(u[c]);else if((o=u[c][i]("data-expand"))&&(l=1*o)||(l=P),r||(r=!e.expand||e.expand<1?f.clientHeight>500&&f.clientWidth>500?500:370:e.expand,d._defEx=r,s=r*e.expFactor,t=e.hFac,K=null,P<s&&Q<1&&R>2&&p>2&&!b.hidden?(P=s,R=0):P=p>1&&R>1&&Q<6?r:O),q!==l&&(D=innerWidth+l*t,F=innerHeight+l,n=-1*l,q=l),h=u[c].getBoundingClientRect(),(J=h.bottom)>=n&&(G=h.top)<=F&&(I=h.right)>=n*t&&(H=h.left)<=D&&(J||I||H||G)&&(e.loadHidden||T(u[c]))&&(m&&Q<3&&!o&&(p<3||R<4)||U(u[c],l))){if(ba(u[c]),k=!0,Q>9)break}else!k&&m&&!j&&Q<4&&R<4&&p>2&&(g[0]||e.preloadAfterLoad)&&(g[0]||!o&&(J||I||H||G||"auto"!=u[c][i](e.sizesAttr)))&&(j=g[0]||u[c]);j&&!k&&ba(j)}},W=B(V),X=function(a){var b=a.target;if(b._lazyCache)return void delete b._lazyCache;S(a),s(b,e.loadedClass),t(b,e.loadingClass),u(b,Z),v(b,"lazyloaded")},Y=A(X),Z=function(a){Y({target:a.target})},$=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},_=function(a){var b,c=a[i](e.srcsetAttr);(b=e.customMedia[a[i]("data-media")||a[i]("media")])&&a.setAttribute("media",b),c&&a.setAttribute("srcset",c)},aa=A(function(a,b,c,d,f){var g,h,j,l,m,p;(m=v(a,"lazybeforeunveil",b)).defaultPrevented||(d&&(c?s(a,e.autosizesClass):a.setAttribute("sizes",d)),h=a[i](e.srcsetAttr),g=a[i](e.srcAttr),f&&(j=a.parentNode,l=j&&n.test(j.nodeName||"")),p=b.firesLoad||"src"in a&&(h||g||l),m={target:a},s(a,e.loadingClass),p&&(clearTimeout(o),o=k(S,2500),u(a,Z,!0)),l&&q.call(j.getElementsByTagName("source"),_),h?a.setAttribute("srcset",h):g&&!l&&(M.test(a.nodeName)?$(a,g):a.src=g),f&&(h||l)&&w(a,{src:g})),a._lazyRace&&delete a._lazyRace,t(a,e.lazyClass),z(function(){var b=a.complete&&a.naturalWidth>1;p&&!b||(b&&s(a,"ls-is-cached"),X(m),a._lazyCache=!0,k(function(){"_lazyCache"in a&&delete a._lazyCache},9)),"lazy"==a.loading&&Q--},!0)}),ba=function(a){if(!a._lazyRace){var b,c=L.test(a.nodeName),d=c&&(a[i](e.sizesAttr)||a[i]("sizes")),f="auto"==d;(!f&&m||!c||!a[i]("src")&&!a.srcset||a.complete||r(a,e.errorClass)||!r(a,e.lazyClass))&&(b=v(a,"lazyunveilread").detail,f&&E.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,Q++,aa(a,b,f,d,c))}},ca=C(function(){e.loadMode=3,W()}),da=function(){3==e.loadMode&&(e.loadMode=2),ca()},ea=function(){if(!m){if(c.now()-y<999)return void k(ea,999);m=!0,e.loadMode=3,W(),j("scroll",da,!0)}};return{_:function(){y=c.now(),d.elements=b.getElementsByClassName(e.lazyClass),g=b.getElementsByClassName(e.lazyClass+" "+e.preloadClass),j("scroll",W,!0),j("resize",W,!0),j("pageshow",function(a){if(a.persisted){var c=b.querySelectorAll("."+e.loadingClass);c.length&&c.forEach&&l(function(){c.forEach(function(a){a.complete&&ba(a)})})}}),a.MutationObserver?new MutationObserver(W).observe(f,{childList:!0,subtree:!0,attributes:!0}):(f[h]("DOMNodeInserted",W,!0),f[h]("DOMAttrModified",W,!0),setInterval(W,999)),j("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(a){b[h](a,W,!0)}),/d$|^c/.test(b.readyState)?ea():(j("load",ea),b[h]("DOMContentLoaded",W),k(ea,2e4)),d.elements.length?(V(),z._lsFlush()):W()},checkElems:W,unveil:ba,_aLSL:da}}(),E=function(){var a,c=A(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),n.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;f<g;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||w(a,c.detail)}),d=function(a,b,d){var e,f=a.parentNode;f&&(d=y(a,f,d),e=v(a,"lazybeforesizes",{width:d,dataAttr:!!b}),e.defaultPrevented||(d=e.detail.width)&&d!==a._lazysizesWidth&&c(a,f,e,d))},f=function(){var b,c=a.length;if(c)for(b=0;b<c;b++)d(a[b])},g=C(f);return{_:function(){a=b.getElementsByClassName(e.autosizesClass),j("resize",g)},checkElems:g,updateElem:d}}(),F=function(){!F.i&&b.getElementsByClassName&&(F.i=!0,E._(),D._())};return k(function(){e.init&&F()}),d={cfg:e,autoSizer:E,loader:D,init:F,uP:w,aC:s,rC:t,hC:r,fire:v,gW:y,rAF:z}});




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fauf%2FafLazyload.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/auf/afLazyload.js?v=202406200958 **/
var iOS=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);var af_lazyloading_timeout=null;var af_lazyloading_delay=200;var af_html_lazyloading_dist=iOS?1200:500;var af_html_lazyloading_items=[];var af_html_lazyloading_callback=[];function af_lazyloading(){if(af_lazyloading_timeout){return;}
af_lazyloading_timeout=setTimeout(af_lazyloading_real,af_lazyloading_delay);}
function af_lazyloading_real(){var windowSize=af_windowSize();var len=af_html_lazyloading_items.length;for(var j=0;j<len;j++){var item=af_html_lazyloading_items[j];var callback=af_html_lazyloading_callback[j];if(callback!==null){if(windowSize.b+af_html_lazyloading_dist>=af_findPos(item).t){if(!item){af_html_lazyloading_items[j]=null;af_html_lazyloading_callback[j]=null;continue;}
if(item.classList&&(item.classList.contains('af-hidden')||item.classList.contains('no-lazyload'))){continue;}
callback(item);af_html_lazyloading_callback[j]=null;}}else{af_html_lazyloading_items[j]=null;af_html_lazyloading_callback[j]=null;}}
af_lazyloading_timeout=null;}
function loadRealSource(elt,attribute){af_addEvent(elt,'load',(function(){this.classList.add('af-lazyloaded');setTimeout((function(){this.classList.remove('af-lazyload');}).bind(elt),500);}).bind(elt),false);var value=elt.dataset[attribute];elt[attribute]=value;delete elt.dataset[attribute];}




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FVendor%2Fhandlebars%2Fhandlebars.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Vendor/handlebars/handlebars.js?v=202406200958 **/
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.Handlebars=b():a.Handlebars=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){var a=r();return a.compile=function(b,c){return k.compile(b,c,a)},a.precompile=function(b,c){return k.precompile(b,c,a)},a.AST=i["default"],a.Compiler=k.Compiler,a.JavaScriptCompiler=m["default"],a.Parser=j.parser,a.parse=j.parse,a}b.__esModule=!0;var f=c(1),g=d(f),h=c(19),i=d(h),j=c(20),k=c(25),l=c(26),m=d(l),n=c(23),o=d(n),p=c(18),q=d(p),r=g["default"].create,s=e();s.create=e,q["default"](s),s.Visitor=o["default"],s["default"]=s,b["default"]=s,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(){var a=new h.HandlebarsEnvironment;return n.extend(a,h),a.SafeString=j["default"],a.Exception=l["default"],a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=p,a.template=function(b){return p.template(b,a)},a}b.__esModule=!0;var g=c(2),h=e(g),i=c(16),j=d(i),k=c(4),l=d(k),m=c(3),n=e(m),o=c(17),p=e(o),q=c(18),r=d(q),s=f();s.create=f,r["default"](s),s["default"]=s,b["default"]=s,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){this.helpers=a||{},this.partials=b||{},this.decorators=c||{},i.registerDefaultHelpers(this),j.registerDefaultDecorators(this)}b.__esModule=!0,b.HandlebarsEnvironment=e;var f=c(3),g=c(4),h=d(g),i=c(5),j=c(13),k=c(15),l=d(k),m="4.0.10";b.VERSION=m;var n=7;b.COMPILER_REVISION=n;var o={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};b.REVISION_CHANGES=o;var p="[object Object]";e.prototype={constructor:e,logger:l["default"],log:l["default"].log,registerHelper:function(a,b){if(f.toString.call(a)===p){if(b)throw new h["default"]("Arg not supported with multiple helpers");f.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(f.toString.call(a)===p)f.extend(this.partials,a);else{if("undefined"==typeof b)throw new h["default"]('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if(f.toString.call(a)===p){if(b)throw new h["default"]("Arg not supported with multiple decorators");f.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]}};var q=l["default"].log;b.log=q,b.createFrame=f.createFrame,b.logger=l["default"]},function(a,b){"use strict";function c(a){return i[a]}function d(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function e(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}function f(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return k.test(a)?a.replace(j,c):a}function g(a){return!a&&0!==a||!(!n(a)||0!==a.length)}function h(a){var b=d({},a);return b._parent=a,b}b.__esModule=!0,b.extend=d,b.indexOf=e,b.escapeExpression=f,b.isEmpty=g,b.createFrame=h;var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},j=/[&<>"'`=]/g,k=/[&<>"'`=]/,l=Object.prototype.toString;b.toString=l;var m=function(a){return"function"==typeof a};m(/x/)&&(b.isFunction=m=function(a){return"function"==typeof a&&"[object Function]"===l.call(a)}),b.isFunction=m;var n=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===l.call(a)};b.isArray=n},function(a,b){"use strict";function c(a,b){var e=b&&b.loc,f=void 0,g=void 0;e&&(f=e.start.line,g=e.start.column,a+=" - "+f+":"+g);for(var h=Error.prototype.constructor.call(this,a),i=0;i<d.length;i++)this[d[i]]=h[d[i]];Error.captureStackTrace&&Error.captureStackTrace(this,c);try{e&&(this.lineNumber=f,Object.defineProperty?Object.defineProperty(this,"column",{value:g,enumerable:!0}):this.column=g)}catch(j){}}b.__esModule=!0;var d=["description","fileName","lineNumber","message","name","number","stack"];c.prototype=new Error,b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){g["default"](a),i["default"](a),k["default"](a),m["default"](a),o["default"](a),q["default"](a),s["default"](a)}b.__esModule=!0,b.registerDefaultHelpers=e;var f=c(6),g=d(f),h=c(7),i=d(h),j=c(8),k=d(j),l=c(9),m=d(l),n=c(10),o=d(n),p=c(11),q=d(p),r=c(12),s=d(r)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(3);b["default"]=function(a){a.registerHelper("blockHelperMissing",function(b,c){var e=c.inverse,f=c.fn;return b===!0?f(this):b===!1||null==b?e(this):d.isArray(b)?b.length>0?a.helpers.each(b,c):e(this):f(b,c)})},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var e=c(3),f=c(4),g=d(f);b["default"]=function(a){a.registerHelper("each",function(a,b){function c(b,c,e){j&&(j.key=b,j.index=c,j.first=0===c,j.last=!!e),i+=d(a[b],{data:j,blockParams:[a[b],b]})}if(!b)throw new g["default"]("Must pass iterator to #each");var d=b.fn,f=b.inverse,h=0,i="",j=void 0;if(e.isFunction(a)&&(a=a.call(this)),b.data&&(j=e.createFrame(b.data)),a&&"object"==typeof a)if(e.isArray(a))for(var k=a.length;h<k;h++)h in a&&c(h,h,h===a.length-1);else{var l=void 0;for(var m in a)a.hasOwnProperty(m)&&(void 0!==l&&c(l,h-1),l=m,h++);void 0!==l&&c(l,h-1,!0)}return 0===h&&(i=f(this)),i})},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var e=c(4),f=d(e);b["default"]=function(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new f["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(3);b["default"]=function(a){a.registerHelper("if",function(a,b){return d.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||d.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})},a.exports=b["default"]},function(a,b){"use strict";b.__esModule=!0,b["default"]=function(a){a.registerHelper("log",function(){for(var b=[void 0],c=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)b.push(arguments[d]);var e=1;null!=c.hash.level?e=c.hash.level:c.data&&null!=c.data.level&&(e=c.data.level),b[0]=e,a.log.apply(a,b)})},a.exports=b["default"]},function(a,b){"use strict";b.__esModule=!0,b["default"]=function(a){a.registerHelper("lookup",function(a,b){return a&&a[b]})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(3);b["default"]=function(a){a.registerHelper("with",function(a,b){d.isFunction(a)&&(a=a.call(this));var c=b.fn;if(d.isEmpty(a))return b.inverse(this);var e=b.data;return c(a,{data:e,blockParams:[a]})})},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){g["default"](a)}b.__esModule=!0,b.registerDefaultDecorators=e;var f=c(14),g=d(f)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(3);b["default"]=function(a){a.registerDecorator("inline",function(a,b,c,e){var f=a;return b.partials||(b.partials={},f=function(e,f){var g=c.partials;c.partials=d.extend({},g,b.partials);var h=a(e,f);return c.partials=g,h}),b.partials[e.args[0]]=e.fn,f})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(3),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=d.indexOf(e.methodMap,a.toLowerCase());a=b>=0?b:parseInt(a,10)}return a},log:function(a){if(a=e.lookupLevel(a),"undefined"!=typeof console&&e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||(b="log");for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};b["default"]=e,a.exports=b["default"]},function(a,b){"use strict";function c(a){this.string=a}b.__esModule=!0,c.prototype.toString=c.prototype.toHTML=function(){return""+this.string},b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(a){var b=a&&a[0]||1,c=r.COMPILER_REVISION;if(b!==c){if(b<c){var d=r.REVISION_CHANGES[c],e=r.REVISION_CHANGES[b];throw new q["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new q["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function g(a,b){function c(c,d,e){e.hash&&(d=o.extend({},d,e.hash)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split("\n"),h=0,i=g.length;h<i&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join("\n")}return f}throw new q["default"]("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){function c(b){return""+a.main(f,b,f.helpers,f.partials,g,i,h)}var d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],g=d.data;e(d),!d.partial&&a.useData&&(g=l(b,g));var h=void 0,i=a.useBlockParams?[]:void 0;return a.useDepths&&(h=d.depths?b!=d.depths[0]?[b].concat(d.depths):d.depths:[b]),(c=m(a.main,c,f,d.depths||[],g,i))(b,d)}function e(c){c.partial?(f.helpers=c.helpers,f.partials=c.partials,f.decorators=c.decorators):(f.helpers=f.merge(c.helpers,b.helpers),a.usePartial&&(f.partials=f.merge(c.partials,b.partials)),(a.usePartial||a.useDecorators)&&(f.decorators=f.merge(c.decorators,b.decorators)))}if(!b)throw new q["default"]("No environment passed to template");if(!a||!a.main)throw new q["default"]("Unknown template object: "+typeof a);a.main.decorator=a.main_d,b.VM.checkRevision(a.compiler);var f={strict:function(a,b){if(!(b in a))throw new q["default"]('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,d=0;d<c;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:o.escapeExpression,invokePartial:c,fn:function(b){var c=a[b];return c.decorator=a[b+"_d"],c},programs:[],program:function(a,b,c,d,e){var f=this.programs[a],g=this.fn(a);return b||e||d||c?f=h(this,a,g,b,c,d,e):f||(f=this.programs[a]=h(this,a,g)),f},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=o.extend({},b,a)),c},nullContext:Object.seal({}),noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d}function h(a,b,c,d,e,f,g){function h(b){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g;return!g||b==g[0]||b===a.nullContext&&null===g[0]||(h=[b].concat(g)),c(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),h)}return h=m(c,h,a,g,d,f),h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function i(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],a}function j(a,b,c){var d=c.data&&c.data["partial-block"];c.partial=!0;var e=void 0;if(c.fn&&c.fn!==k&&!function(){c.data=r.createFrame(c.data);var a=c.fn;e=c.data["partial-block"]=function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return c.data=r.createFrame(c.data),c.data["partial-block"]=d,a(b,c)},a.partials&&(c.partials=o.extend({},c.partials,a.partials))}(),void 0===a&&e&&(a=e),void 0===a)throw new q["default"]("The partial "+c.name+" could not be found");if(a instanceof Function)return a(b,c)}function k(){return""}function l(a,b){return b&&"root"in b||(b=b?r.createFrame(b):{},b.root=a),b}function m(a,b,c,d,e,f){if(a.decorator){var g={};b=a.decorator(b,g,c,d&&d[0],e,f,d),o.extend(b,g)}return b}b.__esModule=!0,b.checkRevision=f,b.template=g,b.wrapProgram=h,b.resolvePartial=i,b.invokePartial=j,b.noop=k;var n=c(3),o=e(n),p=c(4),q=d(p),r=c(2)},function(a,b){(function(c){"use strict";b.__esModule=!0,b["default"]=function(a){var b="undefined"!=typeof c?c:window,d=b.Handlebars;a.noConflict=function(){return b.Handlebars===a&&(b.Handlebars=d),a}},a.exports=b["default"]}).call(b,function(){return this}())},function(a,b){"use strict";b.__esModule=!0;var c={helpers:{helperExpression:function(a){return"SubExpression"===a.type||("MustacheStatement"===a.type||"BlockStatement"===a.type)&&!!(a.params&&a.params.length||a.hash)},scopedId:function(a){return /^\.|this\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!c.helpers.scopedId(a)&&!a.depth}}};b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if("Program"===a.type)return a;h["default"].yy=n,n.locInfo=function(a){return new n.SourceLocation(b&&b.srcName,a)};var c=new j["default"](b);return c.accept(h["default"].parse(a))}b.__esModule=!0,b.parse=f;var g=c(21),h=e(g),i=c(22),j=e(i),k=c(24),l=d(k),m=c(3);b.parser=h["default"];var n={};m.extend(n,l)},function(a,b){"use strict";b.__esModule=!0;var c=function(){function a(){this.yy={}}var b=function(a,b,c,d){for(c=c||{},d=a.length;d--;c[a[d]]=b);return c},c=[2,46],d=[1,20],e=[5,14,15,19,29,34,39,44,47,48,51,55,60],f=[1,35],g=[1,28],h=[1,29],i=[1,30],j=[1,31],k=[1,32],l=[1,34],m=[14,15,19,29,34,39,44,47,48,51,55,60],n=[14,15,19,29,34,44,47,48,51,55,60],o=[1,44],p=[14,15,19,29,34,47,48,51,55,60],q=[33,65,72,80,81,82,83,84,85],r=[23,33,54,65,68,72,75,80,81,82,83,84,85],s=[1,51],t=[23,33,54,65,68,72,75,80,81,82,83,84,85,87],u=[2,45],v=[54,65,72,80,81,82,83,84,85],w=[1,58],x=[1,59],y=[15,18],z=[1,67],A=[33,65,72,75,80,81,82,83,84,85],B=[23,65,72,80,81,82,83,84,85],C=[1,79],D=[65,68,72,80,81,82,83,84,85],E=[33,75],F=[23,33,54,68,72,75],G=[1,109],H=[1,121],I=[72,77],J={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=d.prepareProgram(f[h]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=f[h];break;case 9:this.$={type:"CommentStatement",value:d.stripComment(f[h]),strip:d.stripFlags(f[h],f[h]),loc:d.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:f[h],value:f[h],loc:d.locInfo(this._$)};break;case 11:this.$=d.prepareRawBlock(f[h-2],f[h-1],f[h],this._$);break;case 12:this.$={path:f[h-3],params:f[h-2],hash:f[h-1]};break;case 13:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!1,this._$);break;case 14:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!0,this._$);break;case 15:this.$={open:f[h-5],path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 16:case 17:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 18:this.$={strip:d.stripFlags(f[h-1],f[h-1]),program:f[h]};break;case 19:var i=d.prepareBlock(f[h-2],f[h-1],f[h],f[h],!1,this._$),j=d.prepareProgram([i],f[h-1].loc);j.chained=!0,this.$={strip:f[h-2].strip,program:j,chain:!0};break;case 21:this.$={path:f[h-1],strip:d.stripFlags(f[h-2],f[h])};break;case 22:case 23:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 24:this.$={type:"PartialStatement",name:f[h-3],params:f[h-2],hash:f[h-1],indent:"",strip:d.stripFlags(f[h-4],f[h]),loc:d.locInfo(this._$)};break;case 25:this.$=d.preparePartialBlock(f[h-2],f[h-1],f[h],this._$);break;case 26:this.$={path:f[h-3],params:f[h-2],hash:f[h-1],strip:d.stripFlags(f[h-4],f[h])};break;case 29:this.$={type:"SubExpression",path:f[h-3],params:f[h-2],hash:f[h-1],loc:d.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:f[h],loc:d.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:d.id(f[h-2]),value:f[h],loc:d.locInfo(this._$)};break;case 32:this.$=d.id(f[h-1]);break;case 35:this.$={type:"StringLiteral",value:f[h],original:f[h],loc:d.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(f[h]),original:Number(f[h]),loc:d.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===f[h],original:"true"===f[h],loc:d.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:d.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:d.locInfo(this._$)};break;case 42:this.$=d.preparePath(!0,f[h],this._$);break;case 43:this.$=d.preparePath(!1,f[h],this._$);break;case 44:f[h-2].push({part:d.id(f[h]),original:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 45:this.$=[{part:d.id(f[h]),original:f[h]}];break;case 46:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:f[h-1].push(f[h]);break;case 48:case 98:case 100:this.$=[f[h]]}},table:[b([5,14,15,19,29,34,48,51,55,60],c,{3:1,4:2,6:3}),{1:[3]},{5:[1,4]},b([5,39,44,47],[2,2],{7:5,8:6,9:7,10:8,11:9,12:10,13:11,24:15,27:16,16:17,59:19,14:[1,12],15:d,19:[1,23],29:[1,21],34:[1,22],48:[1,13],51:[1,14],55:[1,18],60:[1,24]}),{1:[2,1]},b(e,[2,47]),b(e,[2,3]),b(e,[2,4]),b(e,[2,5]),b(e,[2,6]),b(e,[2,7]),b(e,[2,8]),b(e,[2,9]),{20:25,72:f,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},{20:36,72:f,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},b(m,c,{6:3,4:37}),b(n,c,{6:3,4:38}),{13:40,15:d,17:39},{20:42,56:41,64:43,65:o,72:f,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},b(p,c,{6:3,4:45}),b([5,14,15,18,19,29,34,39,44,47,48,51,55,60],[2,10]),{20:46,72:f,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},{20:47,72:f,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},{20:48,72:f,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},{20:42,56:49,64:43,65:o,72:f,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},b(q,[2,78],{49:50}),b(r,[2,33]),b(r,[2,34]),b(r,[2,35]),b(r,[2,36]),b(r,[2,37]),b(r,[2,38]),b(r,[2,39]),b(r,[2,43],{87:s}),{72:f,86:52},b(t,u),b(v,[2,82],{52:53}),{25:54,38:56,39:w,43:57,44:x,45:55,47:[2,54]},{28:60,43:61,44:x,47:[2,56]},{13:63,15:d,18:[1,62]},b(y,[2,48]),b(q,[2,86],{57:64}),b(q,[2,40]),b(q,[2,41]),{20:65,72:f,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},{26:66,47:z},b(A,[2,58],{30:68}),b(A,[2,64],{35:69}),b(B,[2,50],{21:70}),b(q,[2,90],{61:71}),{20:75,33:[2,80],50:72,63:73,64:76,65:o,69:74,70:77,71:78,72:C,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},{72:[1,80]},b(r,[2,42],{87:s}),{20:75,53:81,54:[2,84],63:82,64:76,65:o,69:83,70:77,71:78,72:C,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},{26:84,47:z},{47:[2,55]},b(m,c,{6:3,4:85}),{47:[2,20]},{20:86,72:f,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},b(p,c,{6:3,4:87}),{26:88,47:z},{47:[2,57]},b(e,[2,11]),b(y,[2,49]),{20:75,33:[2,88],58:89,63:90,64:76,65:o,69:91,70:77,71:78,72:C,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},b(D,[2,94],{66:92}),b(e,[2,25]),{20:93,72:f,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},b(E,[2,60],{78:26,79:27,86:33,20:75,64:76,70:77,71:78,31:94,63:95,69:96,65:o,72:C,80:g,81:h,82:i,83:j,84:k,85:l}),b(E,[2,66],{78:26,79:27,86:33,20:75,64:76,70:77,71:78,36:97,63:98,69:99,65:o,72:C,80:g,81:h,82:i,83:j,84:k,85:l}),{20:75,22:100,23:[2,52],63:101,64:76,65:o,69:102,70:77,71:78,72:C,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:o,69:105,70:77,71:78,72:C,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},{33:[1,106]},b(q,[2,79]),{33:[2,81]},b(r,[2,27]),b(r,[2,28]),b([23,33,54,68,75],[2,30],{71:107,72:[1,108]}),b(F,[2,98]),b(t,u,{73:G}),b(t,[2,44]),{54:[1,110]},b(v,[2,83]),{54:[2,85]},b(e,[2,13]),{38:56,39:w,43:57,44:x,45:112,46:111,47:[2,76]},b(A,[2,70],{40:113}),{47:[2,18]},b(e,[2,14]),{33:[1,114]},b(q,[2,87]),{33:[2,89]},{20:75,63:116,64:76,65:o,67:115,68:[2,96],69:117,70:77,71:78,72:C,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:H},b(A,[2,59]),b(E,[2,61]),{33:[2,68],37:122,74:123,75:H},b(A,[2,65]),b(E,[2,67]),{23:[1,124]},b(B,[2,51]),{23:[2,53]},{33:[1,125]},b(q,[2,91]),{33:[2,93]},b(e,[2,22]),b(F,[2,99]),{73:G},{20:75,63:126,64:76,65:o,72:f,78:26,79:27,80:g,81:h,82:i,83:j,84:k,85:l,86:33},b(e,[2,23]),{47:[2,19]},{47:[2,77]},b(E,[2,72],{78:26,79:27,86:33,20:75,64:76,70:77,71:78,41:127,63:128,69:129,65:o,72:C,80:g,81:h,82:i,83:j,84:k,85:l}),b(e,[2,24]),{68:[1,130]},b(D,[2,95]),{68:[2,97]},b(e,[2,21]),{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},b(p,[2,26]),b(F,[2,31]),{33:[2,74],42:135,74:136,75:H},b(A,[2,71]),b(E,[2,73]),b(r,[2,29]),b(m,[2,15]),{72:[1,138],77:[1,137]},b(I,[2,100]),b(n,[2,16]),{33:[1,139]},{33:[2,75]},{33:[2,32]},b(I,[2,101]),b(m,[2,17])],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(a,b){if(!b.recoverable){var c=function(a,b){this.message=a,this.hash=b};throw c.prototype=new Error,new c(a,b)}this.trace(a)},parse:function(a){var b=this,c=[0],d=[null],e=[],f=this.table,g="",h=0,i=0,j=0,k=2,l=1,m=e.slice.call(arguments,1),n=Object.create(this.lexer),o={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(o.yy[p]=this.yy[p]);n.setInput(a,o.yy),o.yy.lexer=n,o.yy.parser=this,"undefined"==typeof n.yylloc&&(n.yylloc={});var q=n.yylloc;e.push(q);var r=n.options&&n.options.ranges;"function"==typeof o.yy.parseError?this.parseError=o.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var s,t,u,v,w,x,y,z,A,B=function(){var a;return a=n.lex()||l,"number"!=typeof a&&(a=b.symbols_[a]||a),a},C={};;){if(u=c[c.length-1],this.defaultActions[u]?v=this.defaultActions[u]:(null!==s&&"undefined"!=typeof s||(s=B()),v=f[u]&&f[u][s]),"undefined"==typeof v||!v.length||!v[0]){var D="";A=[];for(x in f[u])this.terminals_[x]&&x>k&&A.push("'"+this.terminals_[x]+"'");D=n.showPosition?"Parse error on line "+(h+1)+":\n"+n.showPosition()+"\nExpecting "+A.join(", ")+", got '"+(this.terminals_[s]||s)+"'":"Parse error on line "+(h+1)+": Unexpected "+(s==l?"end of input":"'"+(this.terminals_[s]||s)+"'"),this.parseError(D,{text:n.match,token:this.terminals_[s]||s,line:n.yylineno,loc:q,expected:A})}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+s);switch(v[0]){case 1:c.push(s),d.push(n.yytext),e.push(n.yylloc),c.push(v[1]),s=null,t?(s=t,t=null):(i=n.yyleng,g=n.yytext,h=n.yylineno,q=n.yylloc,j>0&&j--);break;case 2:if(y=this.productions_[v[1]][1],C.$=d[d.length-y],C._$={first_line:e[e.length-(y||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(y||1)].first_column,last_column:e[e.length-1].last_column},r&&(C._$.range=[e[e.length-(y||1)].range[0],e[e.length-1].range[1]]),w=this.performAction.apply(C,[g,i,h,o.yy,v[1],d,e].concat(m)),"undefined"!=typeof w)return w;y&&(c=c.slice(0,-1*y*2),d=d.slice(0,-1*y),e=e.slice(0,-1*y)),c.push(this.productions_[v[1]][0]),d.push(C.$),e.push(C._$),z=f[c[c.length-2]][c[c.length-1]],c.push(z);break;case 3:return!0}}return!0}},K=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a,b){return this.yy=b||this.yy||{},this._input=a,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d,e;if(this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0))),d=a[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length},this.yytext+=a[0],this.match+=a[0],this.matches=a,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(a[0].length),this.matched+=a[0],c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),c)return c;if(this._backtrack){for(var f in e)this[f]=e[f];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d;this._more||(this.yytext="",this.match="");for(var e=this._currentRules(),f=0;f<e.length;f++)if(c=this._input.match(this.rules[e[f]]),c&&(!b||c[0].length>b[0].length)){if(b=c,d=f,this.options.backtrack_lexer){if(a=this.test_match(c,e[f]),a!==!1)return a;if(this._backtrack){b=!1;continue}return!1}if(!this.options.flex)break}return b?(a=this.test_match(b,e[d]),a!==!1&&a):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){var a=this.conditionStack.length-1;return a>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){return a=this.conditionStack.length-1-Math.abs(a||0),a>=0?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(b.yytext=b.yytext.substr(5,b.yyleng-9),18);case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(b.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=e(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=e(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return b.yytext=b.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return a}();return J.lexer=K,a.prototype=J,J.Parser=a,new a}();b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=a}function f(a,b,c){void 0===b&&(b=a.length);var d=a[b-1],e=a[b-2];return d?"ContentStatement"===d.type?(e||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original):void 0:c}function g(a,b,c){void 0===b&&(b=-1);var d=a[b+1],e=a[b+2];return d?"ContentStatement"===d.type?(e||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original):void 0:c}function h(a,b,c){var d=a[null==b?0:b+1];if(d&&"ContentStatement"===d.type&&(c||!d.rightStripped)){var e=d.value;d.value=d.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==e}}function i(a,b,c){var d=a[null==b?a.length-1:b-1];if(d&&"ContentStatement"===d.type&&(c||!d.leftStripped)){var e=d.value;return d.value=d.value.replace(c?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==e,d.leftStripped}}b.__esModule=!0;var j=c(23),k=d(j);e.prototype=new k["default"],e.prototype.Program=function(a){var b=!this.options.ignoreStandalone,c=!this.isRootSeen;this.isRootSeen=!0;for(var d=a.body,e=0,j=d.length;e<j;e++){var k=d[e],l=this.accept(k);if(l){var m=f(d,e,c),n=g(d,e,c),o=l.openStandalone&&m,p=l.closeStandalone&&n,q=l.inlineStandalone&&m&&n;l.close&&h(d,e,!0),l.open&&i(d,e,!0),b&&q&&(h(d,e),i(d,e)&&"PartialStatement"===k.type&&(k.indent=/([ \t]+$)/.exec(d[e-1].original)[1])),b&&o&&(h((k.program||k.inverse).body),i(d,e)),b&&p&&(h(d,e),i((k.inverse||k.program).body))}}return a},e.prototype.BlockStatement=e.prototype.DecoratorBlock=e.prototype.PartialBlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var b=a.program||a.inverse,c=a.program&&a.inverse,d=c,e=c;if(c&&c.chained)for(d=c.body[0].program;e.chained;)e=e.body[e.body.length-1].program;var j={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:g(b.body),closeStandalone:f((d||b).body)};if(a.openStrip.close&&h(b.body,null,!0),c){var k=a.inverseStrip;k.open&&i(b.body,null,!0),k.close&&h(d.body,null,!0),a.closeStrip.open&&i(e.body,null,!0),!this.options.ignoreStandalone&&f(b.body)&&g(d.body)&&(i(b.body),h(d.body))}else a.closeStrip.open&&i(b.body,null,!0);return j},e.prototype.Decorator=e.prototype.MustacheStatement=function(a){return a.strip},e.prototype.PartialStatement=e.prototype.CommentStatement=function(a){var b=a.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}},b["default"]=e,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){this.parents=[]}function f(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")}function g(a){f.call(this,a),this.acceptKey(a,"program"),this.acceptKey(a,"inverse")}function h(a){this.acceptRequired(a,"name"),this.acceptArray(a.params),this.acceptKey(a,"hash")}b.__esModule=!0;var i=c(4),j=d(i);e.prototype={constructor:e,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&!e.prototype[c.type])throw new j["default"]('Unexpected node type "'+c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new j["default"](a.type+" requires "+b)},acceptArray:function(a){for(var b=0,c=a.length;b<c;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,c--)},accept:function(a){if(a){if(!this[a.type])throw new j["default"]("Unknown type: "+a.type,a);this.current&&this.parents.unshift(this.current),this.current=a;var b=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||b?b:b!==!1?a:void 0}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:f,Decorator:f,BlockStatement:g,DecoratorBlock:g,PartialStatement:h,PartialBlockStatement:function(a){h.call(this,a),this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:f,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}},b["default"]=e,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(b=b.path?b.path.original:b,a.path.original!==b){var c={loc:a.path.loc};throw new q["default"](a.path.original+" doesn't match "+b,c)}}function f(a,b){this.source=a,this.start={line:b.first_line,column:b.first_column},this.end={line:b.last_line,column:b.last_column}}function g(a){return /^\[.*\]$/.test(a)?a.substr(1,a.length-2):a}function h(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}}function i(a){return a.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function j(a,b,c){c=this.locInfo(c);for(var d=a?"@":"",e=[],f=0,g=0,h=b.length;g<h;g++){var i=b[g].part,j=b[g].original!==i;if(d+=(b[g].separator||"")+i,j||".."!==i&&"."!==i&&"this"!==i)e.push(i);else{if(e.length>0)throw new q["default"]("Invalid path: "+d,{loc:c});".."===i&&f++}}return{type:"PathExpression",data:a,depth:f,parts:e,original:d,loc:c}}function k(a,b,c,d,e,f){var g=d.charAt(3)||d.charAt(2),h="{"!==g&&"&"!==g,i=/\*/.test(d);return{type:i?"Decorator":"MustacheStatement",path:a,params:b,hash:c,escaped:h,strip:e,loc:this.locInfo(f)}}function l(a,b,c,d){e(a,c),d=this.locInfo(d);var f={type:"Program",body:b,strip:{},loc:d};return{type:"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:f,openStrip:{},inverseStrip:{},closeStrip:{},loc:d}}function m(a,b,c,d,f,g){d&&d.path&&e(a,d);var h=/\*/.test(a.open);b.blockParams=a.blockParams;var i=void 0,j=void 0;if(c){if(h)throw new q["default"]("Unexpected inverse block on decorator",c);c.chain&&(c.program.body[0].closeStrip=d.strip),j=c.strip,i=c.program}return f&&(f=i,i=b,b=f),{type:h?"DecoratorBlock":"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:b,inverse:i,openStrip:a.strip,inverseStrip:j,closeStrip:d&&d.strip,loc:this.locInfo(g)}}function n(a,b){if(!b&&a.length){var c=a[0].loc,d=a[a.length-1].loc;c&&d&&(b={source:c.source,start:{line:c.start.line,column:c.start.column},end:{line:d.end.line,column:d.end.column}})}return{type:"Program",body:a,strip:{},loc:b}}function o(a,b,c,d){return e(a,c),{type:"PartialBlockStatement",name:a.path,params:a.params,hash:a.hash,program:b,openStrip:a.strip,closeStrip:c&&c.strip,loc:this.locInfo(d)}}b.__esModule=!0,b.SourceLocation=f,b.id=g,b.stripFlags=h,b.stripComment=i,b.preparePath=j,b.prepareMustache=k,b.prepareRawBlock=l,b.prepareBlock=m,b.prepareProgram=n,b.preparePartialBlock=o;var p=c(4),q=d(p)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){}function f(a,b,c){void 0===b&&(b={}),h(a,b);var d=i(a,b,c);return(new c.JavaScriptCompiler).compile(d,b)}function g(a,b,c){function d(){var d=i(a,b,c),e=(new c.JavaScriptCompiler).compile(d,b,void 0,!0);return c.template(e)}void 0===b&&(b={}),b=n.extend({},b),h(a,b);var e=void 0;return function(a,b){return e||(e=d()),e.call(this,a,b)}}function h(a,b){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new m["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);if(b.trackIds||b.stringParams)throw new m["default"]("TrackIds and stringParams are no longer supported. See Github #1145");"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0)}function i(a,b,c){var d=c.parse(a,b);return(new c.Compiler).compile(d,b)}function j(a,b){if(a===b)return!0;if(n.isArray(a)&&n.isArray(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!j(a[c],b[c]))return!1;return!0}}function k(a){if(!a.path.parts){var b=a.path;a.path={type:"PathExpression",data:!1,depth:0,parts:[b.original+""],original:b.original+"",loc:b.loc}}}b.__esModule=!0,b.Compiler=e,b.precompile=f,b.compile=g;var l=c(4),m=d(l),n=c(3),o=c(19),p=d(o),q=[].slice;e.prototype={compiler:e,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;c<b;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||!j(d.args,e.args))return!1}b=this.children.length;for(var c=0;c<b;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,b.blockParams=b.blockParams||[];var c=b.knownHelpers;if(b.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},c)for(var d in c)d in c&&(this.options.knownHelpers[d]=c[d]);return this.accept(a)},compileProgram:function(a){var b=new this.compiler,c=b.compile(a,this.options),d=this.guid++;return this.usePartial=this.usePartial||c.usePartial,this.children[d]=c,this.useDepths=this.useDepths||c.useDepths,d},accept:function(a){if(!this[a.type])throw new m["default"]("Unknown type: "+a.type,a);this.sourceNode.unshift(a);var b=this[a.type](a);return this.sourceNode.shift(),b},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,d=0;d<c;d++)this.accept(b[d]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){k(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b),c=c&&this.compileProgram(c);var d=this.classifySexpr(a);"helper"===d?this.helperSexpr(a,b,c):"simple"===d?(this.simpleSexpr(a),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(a){var b=a.program&&this.compileProgram(a.program),c=this.setupFullMustacheParams(a,b,void 0),d=a.path;this.useDecorators=!0,this.opcode("registerDecorator",c.length,d.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var c=a.params;if(c.length>1)throw new m["default"]("Unsupported number of partial arguments: "+c.length,a);c.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):c.push({type:"PathExpression",parts:[],depth:0}));var d=a.name.original,e="SubExpression"===a.name.type;e&&this.accept(a.name),this.setupFullMustacheParams(a,b,void 0,!0);var f=a.indent||"";this.options.preventIndent&&f&&(this.opcode("appendContent",f),f=""),this.opcode("invokePartial",e,d,f),this.opcode("append")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(a){this.DecoratorBlock(a)},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){k(a);var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){var d=a.path,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),d.strict=!0,this.accept(d),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.path;b.strict=!0,this.accept(b),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.path,f=e.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",d.length,f);else{if(this.options.knownHelpersOnly)throw new m["default"]("You specified knownHelpersOnly, but used the unknown helper "+f,a);e.strict=!0,e.falsy=!0,this.accept(e),this.opcode("invokeHelper",d.length,e.original,p["default"].helpers.simpleId(e))}},PathExpression:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0],c=p["default"].helpers.scopedId(a),d=!a.depth&&!c&&this.blockParamIndex(b);d?this.opcode("lookupBlockParam",d,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts,a.strict)):this.opcode("lookupOnContext",a.parts,a.falsy,a.strict,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){var b=a.pairs,c=0,d=b.length;for(this.opcode("pushHash");c<d;c++)this.pushParam(b[c].value);for(;c--;)this.opcode("assignToHash",b[c].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:q.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=p["default"].helpers.simpleId(a.path),c=b&&!!this.blockParamIndex(a.path.parts[0]),d=!c&&p["default"].helpers.helperExpression(a),e=!c&&(d||b);if(e&&!d){var f=a.path.parts[0],g=this.options;g.knownHelpers[f]?d=!0:g.knownHelpersOnly&&(e=!1)}return d?"helper":e?"ambiguous":"simple"},pushParams:function(a){for(var b=0,c=a.length;b<c;b++)this.pushParam(a[b])},pushParam:function(a){this.accept(a)},setupFullMustacheParams:function(a,b,c,d){var e=a.params;return this.pushParams(e),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.accept(a.hash):this.opcode("emptyHash",d),e},blockParamIndex:function(a){for(var b=0,c=this.options.blockParams.length;b<c;b++){var d=this.options.blockParams[b],e=d&&n.indexOf(d,a);if(d&&e>=0)return[b,e]}}}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){this.value=a}function f(){}function g(a,b,c,d){var e=b.popStack(),f=0,g=c.length;for(a&&g--;f<g;f++)e=b.nameLookup(e,c[f],d);return a?[b.aliasable("container.strict"),"(",e,", ",b.quotedString(c[f]),")"]:e}b.__esModule=!0;var h=c(2),i=c(4),j=d(i),k=c(3),l=c(27),m=d(l);f.prototype={nameLookup:function(a,b){return f.isValidJavaScriptVariableName(b)?[a,".",b]:[a,"[",JSON.stringify(b),"]"]},depthedLookup:function(a){return[this.aliasable("container.lookup"),'(depths, "',a,'")']},compilerInfo:function(){var a=h.COMPILER_REVISION,b=h.REVISION_CHANGES[a];return[a,b]},appendToBuffer:function(a,b,c){return k.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple?["return ",a,";"]:c?["buffer += ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},compile:function(a,b,c,d){this.environment=a,this.options=b,this.precompile=!d,this.name=this.environment.name,this.isChild=!!c,this.context=c||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(a,b),this.useDepths=this.useDepths||a.useDepths||a.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||a.useBlockParams;var e=a.opcodes,f=void 0,g=void 0,h=void 0,i=void 0;for(h=0,i=e.length;h<i;h++)f=e[h],this.source.currentLocation=f.loc,g=g||f.loc,this[f.opcode].apply(this,f.args);if(this.source.currentLocation=g,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new j["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),d?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var k=this.createFunctionContext(d);if(this.isChild)return k;var l={compiler:this.compilerInfo(),main:k};this.decorators&&(l.main_d=this.decorators,l.useDecorators=!0);var m=this.context,n=m.programs,o=m.decorators;for(h=0,i=n.length;h<i;h++)n[h]&&(l[h]=n[h],o[h]&&(l[h+"_d"]=o[h],l.useDecorators=!0));return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),d?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),b.srcName?(l=l.toStringWithSourceMap({file:b.destName}),l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0,this.source=new m["default"](this.options.srcName),this.decorators=new m["default"](this.options.srcName)},createFunctionContext:function(a){var b="",c=this.stackVars.concat(this.registers.list);c.length>0&&(b+=", "+c.join(", "));var d=0;for(var e in this.aliases){var f=this.aliases[e];this.aliases.hasOwnProperty(e)&&f.children&&f.referenceCount>1&&(b+=", alias"+ ++d+"="+e,f.children[0]="alias"+d)}var g=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&g.push("blockParams"),this.useDepths&&g.push("depths");var h=this.mergeSource(b);return a?(g.push(h),Function.apply(this,g)):this.source.wrap(["function(",g.join(","),") {\n  ",h,"}"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,d=void 0,e=void 0,f=void 0,g=void 0;return this.source.each(function(a){a.appendToBuffer?(f?a.prepend("  + "):f=a,g=a):(f&&(e?f.prepend("buffer += "):d=!0,g.add(";"),f=g=void 0),e=!0,b||(c=!1))}),c?f?(f.prepend("return "),g.add(";")):e||this.source.push('return "";'):(a+=", buffer = "+(d?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),g.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(d?"":";\n")),this.source.merge()},blockValue:function(a){var b=this.aliasable("helpers.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(a,0,c);var d=this.popStack();c.splice(1,0,d),this.push(this.source.functionCall(b,"call",c))},ambiguousBlockValue:function(){var a=this.aliasable("helpers.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var c=this.topStack();b.splice(1,0,c),this.pushSource(["if (!",this.lastHelper,") { ",c," = ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation,this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," != null) { ",this.appendToBuffer(a,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c,d){var e=0;d||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[e++])),this.resolvePath("context",a,e,b,c)},lookupBlockParam:function(a,b){this.useBlockParams=!0,this.push(["blockParams[",a[0],"][",a[1],"]"]),this.resolvePath("context",b,1)},lookupData:function(a,b,c){a?this.pushStackLiteral("container.data(data, "+a+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0,c)},resolvePath:function(a,b,c,d,e){var f=this;if(this.options.strict||this.options.assumeObjects)return void this.push(g(this.options.strict&&e,this,b,a));for(var h=b.length;c<h;c++)this.replaceStack(function(e){var g=f.nameLookup(e,b[c],a);return d?[" && ",g]:[" != null ? ",g," : ",e]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},emptyHash:function(a){this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{}}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,b){var c=this.nameLookup("decorators",b,"decorator"),d=this.setupHelperArgs(b,a);this.decorators.push(["fn = ",this.decorators.functionCall(c,"",["fn","props","container",d])," || fn;"])},invokeHelper:function(a,b,c){var d=this.popStack(),e=this.setupHelper(a,b),f=c?[e.name," || "]:"",g=["("].concat(f,d);this.options.strict||g.push(" || ",this.aliasable("helpers.helperMissing")),g.push(")"),this.push(this.source.functionCall(g,"call",e.callParams))},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(this.source.functionCall(c.name,"call",c.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");var c=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,b),e=this.lastHelper=this.nameLookup("helpers",a,"helper"),f=["(","(helper = ",e," || ",c,")"];this.options.strict||(f[0]="(helper = ",f.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",f,d.paramsInit?["),(",d.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",d.callParams)," : helper))"])},invokePartial:function(a,b,c){var d=[],e=this.setupParams(b,1,d);a&&(b=this.popStack(),delete e.name),c&&(e.indent=JSON.stringify(c)),e.helpers="helpers",e.partials="partials",e.decorators="container.decorators",a?d.unshift(b):d.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(e.depths="depths"),e=this.objectLiteral(e),d.push(e),this.push(this.source.functionCall("container.invokePartial","",d))},assignToHash:function(a){this.hash.values[a]=this.popStack()},compiler:f,compileChildren:function(a,b){for(var c=a.children,d=void 0,e=void 0,f=0,g=c.length;f<g;f++){d=c[f],e=new this.compiler;var h=this.matchExistingProgram(d);if(null==h){this.context.programs.push("");var i=this.context.programs.length;d.index=i,d.name="program"+i,this.context.programs[i]=e.compile(d,b,this.context,!this.precompile),this.context.decorators[i]=e.decorators,this.context.environments[i]=d,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams,d.useDepths=this.useDepths,d.useBlockParams=this.useBlockParams}else d.index=h.index,d.name="program"+h.index,this.useDepths=this.useDepths||h.useDepths,this.useBlockParams=this.useBlockParams||h.useBlockParams}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;b<c;b++){var d=this.context.environments[b];if(d&&d.equals(a))return d}},programExpression:function(a){var b=this.environment.children[a],c=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&c.push("blockParams"),this.useDepths&&c.push("depths"),"container.program("+c.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof e||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new e(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),a&&this.source.push(a)},replaceStack:function(a){var b=["("],c=void 0,d=void 0,f=void 0;if(!this.isInline())throw new j["default"]("replaceStack on non-inline");var g=this.popStack(!0);if(g instanceof e)c=[g.value],b=["(",c],f=!0;else{d=!0;var h=this.incrStack();b=["((",this.push(h)," = ",g,")"],c=this.topStack()}var i=a.call(this,c);f||this.popStack(),d&&this.stackSlot--,this.push(b.concat(i,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;b<c;b++){var d=a[b];if(d instanceof e)this.compileStack.push(d);else{var f=this.incrStack();this.pushSource([f," = ",d,";"]),this.compileStack.push(f)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof e)return c.value;if(!b){if(!this.stackSlot)throw new j["default"]("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,b=a[a.length-1];return b instanceof e?b.value:b},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?(b.referenceCount++,b):(b=this.aliases[a]=this.source.wrap(a),b.aliasable=!0,b.referenceCount=1,b)},setupHelper:function(a,b,c){var d=[],e=this.setupHelperArgs(b,a,d,c),f=this.nameLookup("helpers",b,"helper"),g=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:d,paramsInit:e,name:f,callParams:[g].concat(d)}},setupParams:function(a,b,c){var d={},e=!c,f=void 0;e&&(c=[]),d.name=this.quotedString(a),d.hash=this.popStack();var g=this.popStack(),h=this.popStack();(h||g)&&(d.fn=h||"container.noop",d.inverse=g||"container.noop");for(var i=b;i--;)f=this.popStack(),c[i]=f;return e&&(d.args=this.source.generateArray(c)),this.options.data&&(d.data="data"),this.useBlockParams&&(d.blockParams="blockParams"),d},setupHelperArgs:function(a,b,c,d){var e=this.setupParams(a,b,c);return e=this.objectLiteral(e),d?(this.useRegister("options"),c.push("options"),["options=",e]):c?(c.push(e),""):e}},function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=f.RESERVED_WORDS={},c=0,d=a.length;c<d;c++)b[a[c]]=!0}(),f.isValidJavaScriptVariableName=function(a){return!f.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},b["default"]=f,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b,c){if(f.isArray(a)){for(var d=[],e=0,g=a.length;e<g;e++)d.push(b.wrap(a[e],c));return d}return"boolean"==typeof a||"number"==typeof a?a+"":a}function e(a){this.srcFile=a,this.source=[]}b.__esModule=!0;var f=c(3),g=void 0;try{}catch(h){}g||(g=function(a,b,c,d){this.src="",d&&this.add(d)},g.prototype={add:function(a){f.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){f.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),e.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,b){this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add(["  ",b,"\n"])}),a},each:function(a){for(var b=0,c=this.source.length;b<c;b++)a(this.source[b])},empty:function(){var a=this.currentLocation||{start:{}};return new g(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof g?a:(a=d(a,this,b),new g(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,c){return c=this.generateList(c),this.wrap([a,b?"."+b+"(":"(",c,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var e=d(a[c],this);"undefined"!==e&&b.push([this.quotedString(c),":",e])}var f=this.generateList(b);return f.prepend("{"),f.add("}"),f},generateList:function(a){for(var b=this.empty(),c=0,e=a.length;c<e;c++)c&&b.add(","),b.add(d(a[c],this));return b},generateArray:function(a){var b=this.generateList(a);return b.prepend("["),b.add("]"),b}},b["default"]=e,a.exports=b["default"]}])});




/********** https://www.marmiton.org/reloaded/static/preconcat_%2Freloaded%2Fstatic%2FFront%2FComponent%2FsButtonsV2%2FsButtonsV2.js.202406200958.js **********/

/** https://www.marmiton.org/reloaded/static/Front/Component/sButtonsV2/sButtonsV2.js?v=202406200958 **/
var AufSButtonsV2=(function(){AufSButtonsV2=function(){this.options={hasRun:false,infos:{providers:{}},providers:{facebook:{classCSS:"facebook",name:"Facebook",refererDomain:"facebook.com",title:"",url:"https://facebook.com/sharer/sharer.php?u="},google:{classCSS:"googleplus",name:"Google +",refererDomain:"plus.url.google.com",title:"",url:"https://plus.google.com/share?url="},pinterest:{classCSS:"pinterest",name:"Pinterest",refererDomain:"pinterest.com",title:document.title,url:"https://pinterest.com/pin/create/button/?url="},twitter:{classCSS:"twitter",name:"Twitter",refererDomain:"t.co/",title:document.title,url:"https://twitter.com/share?url="},whatsapp:{classCSS:"whatsapp",name:"WhatsApp",onlyMobile:true,refererDomain:"whatsapp.com",title:document.title+" "+window.location.href,url:"whatsapp://send?text="},flipboard:{classCSS:"flipboard",name:"Flipboard",refererDomain:"flipboard.com",title:document.title,url:"https://share.flipboard.com/bookmarklet/popout?url="}},refererDomain:"",socialsBtn:null,type:null};};AufSButtonsV2.prototype={constructor:AufSButtonsV2,init:function(id,type,infos){this.run(id,type,infos);PubSub.subscribe("sButtons"+id+":asyncInit",af_bind(this,function(){this.run(id,type,infos);}));},run:function(id,type,infos){this.options.socialsBtn=document.getElementById(id);if(this.options.socialsBtn){this.options.infos=infos;this.options.type=type;this.setRefererDomain();this.makeButtons();if(!this.options.hasRun){this.options.hasRun=true;PubSub.subscribe("sButtons"+id+":refreshDatas",af_bind(this,this.refreshDatas));PubSub.subscribe("sButton:update",af_bind(this,this.refreshMetasAndDatas));}
PubSub.publish("sButtons"+id+":initDone");}},getMetaImage:function(){var metas=document.getElementsByTagName("meta");for(var i=0;i<metas.length;i++){var meta=metas[i];var property=meta.getAttribute("property");if(property&&property.toLowerCase()==="og:image"){return meta.getAttribute("content");}}
return"";},getPopupSize:function(name){var sizes={facebook:[400,400],"google +":[680,489],pinterest:[830,620],twitter:[520,542],flipboard:[830,540]};if(name&&sizes[name]){return sizes[name];}else{return[300,300];}},isLocalStorage:function(){return typeof Storage!=="undefined";},getMaxDisplayedButtons:function(){switch(this.options.type){case"card":return this.options.infos.isMobile?3:4;case"scrollspy":return 4;default:return 5;}},makeButtons:function(){var infos=this.options.infos;var refererDomain=this.options.refererDomain;var socialShareContainer=this.options.socialsBtn;var nbDisplayedButtons=0;var maxDisplayedButtons=this.getMaxDisplayedButtons();var socialButtonsContainers=socialShareContainer.getElementsByClassName("af-social-btns");var socialButtonsContainer;if(socialButtonsContainers.length>0){socialButtonsContainer=socialButtonsContainers[0];socialButtonsContainer.innerHTML="";}else{socialButtonsContainer=document.createElement("div");socialButtonsContainer.className=this.options.type==="big"?"af-social-btn-big":"af-social-btns";}
for(var i in infos.shareProviders){var shareProvider=infos.shareProviders[i];if(this.options.providers.hasOwnProperty(shareProvider)){var provider=this.options.providers[shareProvider];var infosProvider=infos.providers.hasOwnProperty(shareProvider)?infos.providers[shareProvider]:{};if(typeof provider==="object"&&!(provider.onlyMobile&&!infos.isMobile)){var paramName=provider.name==="Facebook"?"picture":"media";var infosShareImg=infos.shareImg||this.getMetaImage();if(infosProvider.shareImg&&this.getPosition()===1){infosShareImg=infosProvider.shareImg;}
var shareImg="&"+paramName+"="+infosShareImg;var shareUrl=infos.shareUrl||document.location.href;var utm=afSession.getUtm();if(utm&&utm.source){shareUrl+=shareUrl.indexOf("#")===-1?"#":"&";shareUrl+="utm_source="+
utm.source+"&utm_medium="+
utm.medium+"&utm_campaign="+
utm.campaign;}
var shareTitle="";var infosShareTitle=infos.shareTitle||provider.title;if(infosShareTitle){shareTitle="&description="+
encodeURI(infosShareTitle)+"&text="+
encodeURI(infosShareTitle);}
var link=document.createElement("span");var providerUrl=infosProvider.hasOwnProperty("url")?infosProvider.url:provider.url;const base64EncodedUrl=window.btoa(providerUrl+encodeURIComponent(shareUrl)+shareTitle+shareImg);link.className=this.options.type==="big"?"":"af-btn-v2 round af-btn-"+provider.classCSS;link.setAttribute('data-encoded-link',base64EncodedUrl);window.didomiOnReady=window.didomiOnReady||[];window.didomiOnReady.push(function addClassWhenCMPisReady(Didomi){if(Didomi.getUserConsentStatusForPurpose('reseauxsociaux')===false){link.classList.add('disabled');}});window.didomiEventListeners=window.didomiEventListeners||[];window.didomiEventListeners.push({event:'consent.changed',listener:function(){var disabledOn=false;if(Didomi.getUserConsentStatusForPurpose('reseauxsociaux')===false){disabledOn=true;}
var elements=document.querySelectorAll('.af-btn-v2');for(var i=0;i<elements.length;i++){if(elements[i].classList.contains('disabled')!==disabledOn){elements[i].classList.toggle('disabled');}}}});if(provider.name==="Pinterest"){link.setAttribute("data-pin-custom",true);link.setAttribute("data-pin-do","none");}
link.setAttribute("data-share-name",provider.name);link.setAttribute("data-track-classname",provider.classCSS);if(this.options.type==="big"){var icon=document.createElement("span");icon.innerHTML=af_translations.sButtonsShareText.replace("#socialNetworkName#",provider.name);}else{var icon=document.createElement("i");icon.className="icon icon-"+provider.classCSS;}
link.insertBefore(icon,link.firstChild);var span=document.createElement("span");span.innerHTML=af_translations.sTooltipsShareText;span.className="disabled-tooltip";link.insertBefore(span,icon);var that=this;af_addEvent(link,"click",function(e){af_stopEvent(e);if(link.classList.contains("disabled"))return;var el=af_getParent(af_getTarget(e),"span");var dataShareName=el.getAttribute("data-share-name").toLowerCase();var size=that.getPopupSize(dataShareName);PubSub.publish("social.buttons.top.click",dataShareName);af_ua_trackEvent("Share",that.options.type+" Click",el.getAttribute("data-track-classname"),0);window.open(window.atob(el.getAttribute('data-encoded-link')),"Share","width="+size[0]+",height="+size[1]);},false);socialButtonsContainer.appendChild(link);if(provider.refererDomain===refererDomain){if(refererDomain==="facebook.com"&&infosProvider.showLikeButton&&infosProvider.pageURL){var div=document.createElement("div");div.className="fb-like";div.setAttribute("data-href",infosProvider.pageURL);div.setAttribute("data-layout","box_count");div.setAttribute("data-action","like");div.setAttribute("data-size","small");div.setAttribute("data-share","false");div.setAttribute("data-show-faces","false");this.options.socialsBtn.appendChild(div);}
if(!infos.isMobile&&infosProvider.hasOwnProperty("urlFollowUs")&&this.canShowFollowUs(refererDomain)){var timer;var followUsSize=this.getFollowUsSize(refererDomain);this.scrollHandler=this.onScroll.bind(this,refererDomain,infosProvider.urlFollowUs,followUsSize[0],followUsSize[1],timer);af_addEvent(window,"scroll",this.scrollHandler,false);}}
nbDisplayedButtons++;if(nbDisplayedButtons>=maxDisplayedButtons){break;}}}}
if(!infos.initOpen){var iconContainer=document.createElement("i");iconContainer.className="icon icon-share";af_addEvent(iconContainer,"click",function(e){af_stopEvent(e);if(!socialShareContainer.classList.contains("open")){socialShareContainer.classList.add("open");socialShareContainer.classList.remove("hide");}},false);socialShareContainer.appendChild(iconContainer);}
socialShareContainer.appendChild(socialButtonsContainer);},refreshDatas:function(eventName,data){this.options.infos.shareImg=data.shareImg;this.options.infos.shareTitle=data.shareTitle;this.options.infos.shareUrl=data.shareUrl;this.makeButtons();},refreshMetasAndDatas:function(){var obj={};var metas=document.getElementsByTagName("meta");var mLen=metas.length;for(var i=0;i<mLen;i++){var _meta=metas[i].getAttribute("property");if(_meta&&_meta.toLowerCase()==="og:image"){obj["shareImg"]=metas[i].getAttribute("content");}else if(_meta&&_meta.toLowerCase()==="og:title"){obj["shareTitle"]=metas[i].getAttribute("content");}else if(_meta&&_meta.toLowerCase()==="og:description"){obj["shareDescription"]=metas[i].getAttribute("content");}else if(_meta&&_meta.toLowerCase()==="og:url"){obj["shareUrl"]=metas[i].getAttribute("content");}}
this.refreshDatas("refreshDatasMetas",obj);},setRefererDomain:function(){var now=Math.round(Date.now()/1000);var lifeTime=now-60*30;var afDomain="^http(s?)://:"+window.location.hostname;var patt=new RegExp(afDomain.replace(/\./g,"\\."));var documentReferer=document.referrer;if(!patt.exec(documentReferer)){for(var i in this.options.providers){var provider=this.options.providers[i];var providerPatt=new RegExp(provider.refererDomain.replace(/\./g,"\\."));var providerReferer=providerPatt.exec(documentReferer);if(this.isLocalStorage()&&providerReferer){localStorage.setItem("sButtonsReferer",providerReferer);localStorage.setItem("sButtonsDate",now);break;}}}
if(this.isLocalStorage()){var sButtonsDate=localStorage.getItem("sButtonsDate");if(sButtonsDate>=lifeTime){localStorage.setItem("sButtonsDate",now);this.options.refererDomain=localStorage.getItem("sButtonsReferer");}else{localStorage.removeItem("sButtonsDate");localStorage.removeItem("sButtonsReferer");}}},canShowFollowUs:function(referer){switch(referer){case"facebook.com":return this.canShowFollowUsFacebook();case"pinterest.com":return this.canShowFollowUsPinterest();default:return false;}},canShowFollowUsFacebook:function(){return(this.isLocalStorage()&&localStorage.getItem("af-follow-us-fb")!=="1");},canShowFollowUsPinterest:function(){return(this.isLocalStorage()&&localStorage.getItem("af-follow-us-pin")!=="1");},getFollowUsSize:function(referer){switch(referer){case"facebook.com":return[290,300];case"pinterest.com":return[290,510];default:return[300,300];}},onScroll:function(referer,url,w,h,timer){if(this.canShowFollowUs(referer)){var socialCtn=document.getElementById("af-socials-btn-story-bottom");clearTimeout(timer);timer=setTimeout(function(){if(af_popup_social&&socialCtn){if(socialCtn.getBoundingClientRect().bottom<=(window.innerHeight||document.documentElement.clientHeight)){af_popup_social.show(url,w,h);}else{af_popup_social.hide();}}},100);}else if(typeof this.scrollHandler==="function"){af_removeEvent(window,"scroll",this.scrollHandler,false);}},getPosition:function(){return window.location.hash?parseInt(window.location.hash.replace("#p","")):1;}};return AufSButtonsV2;})();




